const _0x43b7ec=_0x2ee1;(function(_0x1356b6,_0x2ca0b9){const _0x38c66d=_0x2ee1,_0xf7b027=_0x1356b6();while(!![]){try{const _0x725be3=parseInt(_0x38c66d(0x131))/0x1*(-parseInt(_0x38c66d(0x157))/0x2)+-parseInt(_0x38c66d(0x142))/0x3+parseInt(_0x38c66d(0x136))/0x4*(-parseInt(_0x38c66d(0xf1))/0x5)+-parseInt(_0x38c66d(0xfb))/0x6+-parseInt(_0x38c66d(0x13f))/0x7*(parseInt(_0x38c66d(0xea))/0x8)+-parseInt(_0x38c66d(0x146))/0x9*(-parseInt(_0x38c66d(0x13d))/0xa)+parseInt(_0x38c66d(0x14f))/0xb*(parseInt(_0x38c66d(0x156))/0xc);if(_0x725be3===_0x2ca0b9)break;else _0xf7b027['push'](_0xf7b027['shift']());}catch(_0x515f84){_0xf7b027['push'](_0xf7b027['shift']());}}}(_0x28e3,0x4c3f7),(self[_0x43b7ec(0x11e)]=self[_0x43b7ec(0x11e)]||[])[_0x43b7ec(0x11b)]([[0xac3],{0x9c1c:(_0x5085d3,_0x1cab8a,_0x22bdca)=>{'use strict';_0x22bdca['r'](_0x1cab8a),_0x22bdca['d'](_0x1cab8a,{'default':()=>_0x33942b});var _0x2e45ff=_0x22bdca(0xd773),_0x41c894=_0x22bdca(0x5433),_0x2aa4a4=_0x22bdca(0x10edb),_0x452294=_0x22bdca(0xc541),_0x539653=_0x22bdca(0x14a5a);function _0x33942b(){const _0x4d4ef8=_0x2ee1;let {user:_0x318c1d,loading:_0x38d27a}=(0x0,_0x2aa4a4['A'])(),_0x32d99e=(0x0,_0x452294[_0x4d4ef8(0x148)])(),_0x80615b=(0x0,_0x452294[_0x4d4ef8(0x114)])()['get']('id'),{ticket:_0x151f38,loading:_0x31266c,error:_0x314f05,refetch:_0x1d4965}=(0x0,_0x539653['yS'])(_0x80615b||''),{updateTicket:_0x29668f,loading:_0x58a44f}=(0x0,_0x539653['tY'])(),{addMessage:_0x1dbe37,loading:_0x23accd}=(0x0,_0x539653['c0'])(),[_0x14ff0b,_0x4b49cc]=(0x0,_0x41c894[_0x4d4ef8(0xfd)])(''),[_0x1a593c,_0x42401e]=(0x0,_0x41c894[_0x4d4ef8(0xfd)])(null);(0x0,_0x41c894['useEffect'])(()=>{_0x38d27a||_0x318c1d||_0x32d99e['push']('/auth/login');},[_0x318c1d,_0x38d27a,_0x32d99e]);let _0x395fbe=async()=>{const _0x29d941=_0x4d4ef8;if(_0x14ff0b['trim']()&&_0x80615b)try{await _0x1dbe37({'ticketId':_0x80615b,'message':_0x14ff0b}),_0x4b49cc(''),_0x1d4965();}catch(_0x4983d2){console[_0x29d941(0x10c)]('Failed\x20to\x20send\x20message:',_0x4983d2);}},_0x8b0e64=async _0x54795f=>{if(_0x80615b)try{await _0x29668f({'ticketId':_0x80615b,'satisfaction_rating':_0x54795f}),_0x42401e(_0x54795f),_0x1d4965();}catch(_0x117c33){console['error']('Failed\x20to\x20rate\x20ticket:',_0x117c33);}};return _0x80615b?_0x38d27a||_0x31266c?(0x0,_0x2e45ff['jsx'])('div',{'className':_0x4d4ef8(0xed),'children':(0x0,_0x2e45ff[_0x4d4ef8(0x123)])(_0x4d4ef8(0x12d),{'className':'text-center','children':[(0x0,_0x2e45ff['jsx'])(_0x4d4ef8(0x12d),{'className':'animate-spin\x20rounded-full\x20h-12\x20w-12\x20border-b-2\x20border-emerald-600\x20mx-auto'}),(0x0,_0x2e45ff['jsx'])('p',{'className':_0x4d4ef8(0x118),'children':'Loading\x20ticket...'})]})}):_0x314f05||!_0x151f38?(0x0,_0x2e45ff[_0x4d4ef8(0x139)])('div',{'className':'flex\x20items-center\x20justify-center\x20min-h-screen','children':(0x0,_0x2e45ff[_0x4d4ef8(0x123)])('div',{'className':'text-center','children':[(0x0,_0x2e45ff[_0x4d4ef8(0x139)])('p',{'className':'text-red-600','children':_0x4d4ef8(0x14a)}),(0x0,_0x2e45ff[_0x4d4ef8(0x139)])(_0x4d4ef8(0xec),{'onClick':()=>_0x32d99e[_0x4d4ef8(0x11b)](_0x4d4ef8(0x12a)),'className':_0x4d4ef8(0x150),'children':_0x4d4ef8(0x12f)})]})}):(0x0,_0x2e45ff[_0x4d4ef8(0x139)])(_0x4d4ef8(0x12d),{'className':_0x4d4ef8(0x13e),'children':(0x0,_0x2e45ff[_0x4d4ef8(0x123)])(_0x4d4ef8(0x12d),{'className':_0x4d4ef8(0x135),'children':[(0x0,_0x2e45ff['jsxs'])(_0x4d4ef8(0x12d),{'className':_0x4d4ef8(0x158),'children':[(0x0,_0x2e45ff[_0x4d4ef8(0x139)])('button',{'onClick':()=>_0x32d99e[_0x4d4ef8(0x11b)](_0x4d4ef8(0x12a)),'className':'text-gray-600\x20hover:text-gray-900\x20mb-4\x20flex\x20items-center\x20gap-2','children':_0x4d4ef8(0x10f)}),(0x0,_0x2e45ff[_0x4d4ef8(0x139)])('h1',{'className':'text-3xl\x20font-bold\x20text-gray-900','children':_0x151f38[_0x4d4ef8(0x151)]})]}),(0x0,_0x2e45ff[_0x4d4ef8(0x123)])(_0x4d4ef8(0x12d),{'className':_0x4d4ef8(0x126),'children':[(0x0,_0x2e45ff['jsxs'])(_0x4d4ef8(0x12d),{'className':_0x4d4ef8(0x10d),'children':[(0x0,_0x2e45ff[_0x4d4ef8(0x123)])('div',{'className':_0x4d4ef8(0xf2),'children':[(0x0,_0x2e45ff[_0x4d4ef8(0x139)])('span',{'className':_0x4d4ef8(0x102)+({'open':'bg-blue-100\x20text-blue-800','in_progress':_0x4d4ef8(0x120),'waiting_response':_0x4d4ef8(0x147),'escalated':'bg-red-100\x20text-red-800','resolved':'bg-green-100\x20text-green-800','closed':_0x4d4ef8(0x159)}[_0x151f38['status']]||'bg-gray-100\x20text-gray-800'),'children':_0x151f38['status'][_0x4d4ef8(0x14c)]('_')['map'](_0x3b8efb=>_0x3b8efb['charAt'](0x0)[_0x4d4ef8(0x116)]()+_0x3b8efb[_0x4d4ef8(0x112)](0x1))['join']('\x20')}),(0x0,_0x2e45ff[_0x4d4ef8(0x139)])('span',{'className':_0x4d4ef8(0x119)+({'low':'bg-gray-100\x20text-gray-800','medium':'bg-blue-100\x20text-blue-800','high':'bg-orange-100\x20text-orange-800','urgent':_0x4d4ef8(0xf5)}[_0x151f38['priority']]||_0x4d4ef8(0x159)),'children':_0x151f38[_0x4d4ef8(0x153)]})]}),(0x0,_0x2e45ff['jsxs'])(_0x4d4ef8(0x138),{'className':'text-sm\x20text-gray-500','children':[_0x4d4ef8(0x154),_0x498f42(_0x151f38['created_at'])]})]}),(0x0,_0x2e45ff[_0x4d4ef8(0x123)])(_0x4d4ef8(0x12d),{'className':_0x4d4ef8(0x133),'children':[(0x0,_0x2e45ff['jsx'])('p',{'className':'text-sm\x20font-medium\x20text-gray-700\x20mb-2','children':'Original\x20Request:'}),(0x0,_0x2e45ff[_0x4d4ef8(0x139)])('p',{'className':'text-gray-700\x20whitespace-pre-wrap','children':_0x151f38['description']})]}),(0x0,_0x2e45ff['jsxs'])(_0x4d4ef8(0x12d),{'className':_0x4d4ef8(0x13a),'children':[(0x0,_0x2e45ff[_0x4d4ef8(0x123)])(_0x4d4ef8(0x12d),{'children':[(0x0,_0x2e45ff['jsx'])(_0x4d4ef8(0x138),{'className':_0x4d4ef8(0x105),'children':_0x4d4ef8(0x132)}),(0x0,_0x2e45ff['jsx'])(_0x4d4ef8(0x138),{'className':'ml-2\x20font-medium','children':_0x151f38[_0x4d4ef8(0x128)]['split']('_')[_0x4d4ef8(0x141)](_0xe96df6=>_0xe96df6['charAt'](0x0)[_0x4d4ef8(0x116)]()+_0xe96df6['slice'](0x1))[_0x4d4ef8(0x155)]('\x20')})]}),_0x151f38['assigned_to']&&_0x151f38['assignee']&&(0x0,_0x2e45ff['jsxs'])(_0x4d4ef8(0x12d),{'children':[(0x0,_0x2e45ff[_0x4d4ef8(0x139)])(_0x4d4ef8(0x138),{'className':_0x4d4ef8(0x105),'children':_0x4d4ef8(0xeb)}),(0x0,_0x2e45ff['jsx'])('span',{'className':'ml-2\x20font-medium','children':_0x151f38['assignee'][_0x4d4ef8(0x10b)]})]})]})]}),(0x0,_0x2e45ff[_0x4d4ef8(0x123)])('div',{'className':_0x4d4ef8(0x126),'children':[(0x0,_0x2e45ff[_0x4d4ef8(0x139)])('h2',{'className':_0x4d4ef8(0xfc),'children':'Conversation'}),(0x0,_0x2e45ff[_0x4d4ef8(0x139)])(_0x4d4ef8(0x12d),{'className':_0x4d4ef8(0x122),'children':_0x151f38['messages']['filter'](_0x5d6e8d=>!_0x5d6e8d['is_internal'])[_0x4d4ef8(0x141)](_0x45ee18=>{const _0x2d3879=_0x4d4ef8;let _0x12aee7=_0x45ee18['author']&&[_0x2d3879(0x108),'manager',_0x2d3879(0x130)]['includes'](_0x45ee18['author']['user_role']);return(0x0,_0x2e45ff['jsxs'])('div',{'className':'p-4\x20rounded-lg\x20'+(_0x45ee18[_0x2d3879(0x115)]?'bg-gray-50\x20border\x20border-gray-200':_0x12aee7?'bg-blue-50\x20border\x20border-blue-200':'bg-emerald-50\x20border\x20border-emerald-200'),'children':[(0x0,_0x2e45ff['jsxs'])('div',{'className':'flex\x20items-start\x20justify-between\x20mb-2','children':[(0x0,_0x2e45ff[_0x2d3879(0x123)])(_0x2d3879(0x12d),{'className':_0x2d3879(0xff),'children':[(0x0,_0x2e45ff['jsx'])(_0x2d3879(0x138),{'className':_0x2d3879(0x129),'children':_0x45ee18['author']?.[_0x2d3879(0x10b)]||'System'}),_0x12aee7&&(0x0,_0x2e45ff[_0x2d3879(0x139)])('span',{'className':'text-xs\x20px-2\x20py-1\x20bg-blue-200\x20rounded','children':'Support\x20Team'})]}),(0x0,_0x2e45ff['jsx'])('span',{'className':'text-xs\x20text-gray-500','children':_0x498f42(_0x45ee18['created_at'])})]}),(0x0,_0x2e45ff[_0x2d3879(0x139)])('p',{'className':'text-gray-700\x20whitespace-pre-wrap','children':_0x45ee18[_0x2d3879(0xf7)]})]},_0x45ee18['id']);})}),'closed'!==_0x151f38[_0x4d4ef8(0x110)]&&(0x0,_0x2e45ff['jsxs'])('div',{'className':'border-t\x20pt-4','children':[(0x0,_0x2e45ff['jsx'])(_0x4d4ef8(0xf6),{'value':_0x14ff0b,'onChange':_0x3c09da=>_0x4b49cc(_0x3c09da['target'][_0x4d4ef8(0x152)]),'placeholder':_0x4d4ef8(0x14e),'className':_0x4d4ef8(0x13c),'rows':0x4}),(0x0,_0x2e45ff[_0x4d4ef8(0x139)])(_0x4d4ef8(0x12d),{'className':'flex\x20justify-end\x20mt-3','children':(0x0,_0x2e45ff['jsx'])('button',{'onClick':_0x395fbe,'disabled':_0x23accd||!_0x14ff0b['trim'](),'className':_0x4d4ef8(0x12e),'children':_0x23accd?'Sending...':'Send\x20Reply'})})]})]}),_0x4d4ef8(0x117)===_0x151f38['status']&&!_0x151f38['satisfaction_rating']&&(0x0,_0x2e45ff[_0x4d4ef8(0x123)])('div',{'className':_0x4d4ef8(0x12c),'children':[(0x0,_0x2e45ff['jsx'])('h3',{'className':_0x4d4ef8(0x104),'children':'Rate\x20Your\x20Support\x20Experience'}),(0x0,_0x2e45ff['jsx'])('p',{'className':'text-gray-600\x20mb-4','children':'How\x20satisfied\x20are\x20you\x20with\x20the\x20resolution?'}),(0x0,_0x2e45ff['jsx'])(_0x4d4ef8(0x12d),{'className':_0x4d4ef8(0x109),'children':[0x1,0x2,0x3,0x4,0x5][_0x4d4ef8(0x141)](_0x483965=>(0x0,_0x2e45ff[_0x4d4ef8(0x139)])(_0x4d4ef8(0xec),{'onClick':()=>_0x8b0e64(_0x483965),'disabled':_0x58a44f,'className':_0x4d4ef8(0x111),'children':_0x483965<=(_0x1a593c||0x0)?'⭐':'☆'},_0x483965))})]}),_0x151f38[_0x4d4ef8(0x144)]&&(0x0,_0x2e45ff['jsxs'])(_0x4d4ef8(0x12d),{'className':'bg-green-50\x20border\x20border-green-200\x20rounded-lg\x20p-6','children':[(0x0,_0x2e45ff[_0x4d4ef8(0x139)])('p',{'className':_0x4d4ef8(0xfa),'children':_0x4d4ef8(0x127)}),(0x0,_0x2e45ff[_0x4d4ef8(0x139)])('div',{'className':_0x4d4ef8(0x101),'children':[0x1,0x2,0x3,0x4,0x5][_0x4d4ef8(0x141)](_0xecd812=>(0x0,_0x2e45ff[_0x4d4ef8(0x139)])(_0x4d4ef8(0x138),{'className':'text-2xl','children':_0xecd812<=_0x151f38['satisfaction_rating']?'⭐':'☆'},_0xecd812))})]})]})}):(0x0,_0x2e45ff['jsx'])('div',{'className':'min-h-screen\x20bg-gray-50\x20py-8','children':(0x0,_0x2e45ff['jsx'])('div',{'className':_0x4d4ef8(0x135),'children':(0x0,_0x2e45ff['jsxs'])(_0x4d4ef8(0x12d),{'className':_0x4d4ef8(0x134),'children':[(0x0,_0x2e45ff[_0x4d4ef8(0x139)])('h2',{'className':'text-2xl\x20font-bold\x20text-gray-900','children':'Ticket\x20Not\x20Found'}),(0x0,_0x2e45ff[_0x4d4ef8(0x139)])('p',{'className':_0x4d4ef8(0xf8),'children':_0x4d4ef8(0x15c)}),(0x0,_0x2e45ff[_0x4d4ef8(0x139)])(_0x4d4ef8(0xec),{'onClick':()=>_0x32d99e['push']('/support'),'className':_0x4d4ef8(0x125),'children':'Back\x20to\x20Support'})]})})});}function _0x498f42(_0x439983){return new Date(_0x439983)['toLocaleString']();}},0xb73f:(_0x5cd6ac,_0x40b8c3,_0x55e0ea)=>{const _0x17fe99=_0x43b7ec;Promise[_0x17fe99(0x106)]()[_0x17fe99(0xef)](_0x55e0ea['bind'](_0x55e0ea,0x9c1c));},0xc541:(_0x5652f6,_0x1269ff,_0x1fae74)=>{'use strict';const _0x2788c8=_0x43b7ec;var _0xf1c73a=_0x1fae74(0xed0d);_0x1fae74['o'](_0xf1c73a,_0x2788c8(0xf0))&&_0x1fae74['d'](_0x1269ff,{'usePathname':function(){const _0x1ff818=_0x2788c8;return _0xf1c73a[_0x1ff818(0xf0)];}}),_0x1fae74['o'](_0xf1c73a,'useRouter')&&_0x1fae74['d'](_0x1269ff,{'useRouter':function(){return _0xf1c73a['useRouter'];}}),_0x1fae74['o'](_0xf1c73a,'useSearchParams')&&_0x1fae74['d'](_0x1269ff,{'useSearchParams':function(){const _0xf71638=_0x2788c8;return _0xf1c73a[_0xf71638(0x114)];}});},0x10edb:(_0x5e85d4,_0x514432,_0x558678)=>{'use strict';_0x558678['d'](_0x514432,{'A':()=>_0x1df536});var _0x636e68=_0x558678(0x5433),_0x5b075f=_0x558678(0x3e0d);function _0x1df536(){const _0x4cfee9=_0x2ee1;let [_0x45e713,_0x45ddc8]=(0x0,_0x636e68[_0x4cfee9(0xfd)])(null),[_0x47490c,_0x550851]=(0x0,_0x636e68['useState'])(!0x0),[_0x303bd6,_0x1ecdc4]=(0x0,_0x636e68['useState'])(!0x1),[_0x543d84,_0x40898c]=(0x0,_0x636e68[_0x4cfee9(0xfd)])(null),_0x49ab5d=(0x0,_0x636e68[_0x4cfee9(0x11d)])(async()=>{const _0x4731f7=_0x4cfee9;try{let _0x59a718=(0x0,_0x5b075f['getSupabase'])(),{data:_0x20abf5,error:_0x94c2fb}=await _0x59a718['auth']['refreshSession']();if(_0x94c2fb)return console[_0x4731f7(0x10c)]('[useAuth]\x20Refresh\x20error:',_0x94c2fb),!0x1;if(!_0x20abf5?.[_0x4731f7(0x12b)])return console[_0x4731f7(0x10c)](_0x4731f7(0x124)),!0x1;return _0x40898c(_0x20abf5['session']),_0x45ddc8(_0x20abf5[_0x4731f7(0x12b)][_0x4731f7(0x11a)]),console['log']('[useAuth]\x20Session\x20refreshed\x20successfully'),!0x0;}catch(_0x386083){return console['error']('[useAuth]\x20Failed\x20to\x20refresh:',_0x386083),!0x1;}},[]);return(0x0,_0x636e68['useEffect'])(()=>{const _0x4b5af1=_0x4cfee9;_0x5b075f['api'][_0x4b5af1(0xee)]()[_0x4b5af1(0xef)](({data:{user:_0x2c8d3b}})=>{_0x45ddc8(_0x2c8d3b),_0x550851(!0x1),_0x1ecdc4(!0x0);})[_0x4b5af1(0x14d)](()=>{_0x550851(!0x1),_0x1ecdc4(!0x0);});let {data:{subscription:_0x1a9563}}=_0x5b075f[_0x4b5af1(0x107)][_0x4b5af1(0x15a)](async(_0x527380,_0x38d07a)=>{const _0x59828d=_0x4b5af1;console['log']('[useAuth]\x20Auth\x20state\x20change:',_0x527380),_0x59828d(0x113)===_0x527380&&console[_0x59828d(0xfe)]('[useAuth]\x20Token\x20refreshed\x20successfully'),_0x40898c(_0x38d07a),_0x45ddc8(_0x38d07a?.[_0x59828d(0x11a)]??null),_0x550851(!0x1),_0x1ecdc4(!0x0);});return()=>_0x1a9563[_0x4b5af1(0x143)]();},[]),{'user':_0x45e713,'session':_0x543d84,'loading':_0x47490c,'isReady':_0x303bd6,'authenticated':!!_0x45e713,'refreshSession':_0x49ab5d,'signOut':()=>_0x5b075f[_0x4cfee9(0x107)]['signOut']()};}},0x14a5a:(_0x4d07ec,_0x4276ed,_0x40d870)=>{'use strict';_0x40d870['d'](_0x4276ed,{'c0':()=>_0x8406b5,'Gs':()=>_0x3f97a6,'oJ':()=>_0x231bbf,'yS':()=>_0x4acaa4,'dS':()=>_0x3e4052,'tY':()=>_0x41e35a});var _0x12bdf9=_0x40d870(0x5433),_0x3f03c1=_0x40d870(0x3e0d);function _0x135e88(_0x1a781e={}){const _0x11772b=_0x2ee1;let {onTicketCreated:_0x39ac43,onTicketUpdated:_0x593ab2,onTicketDeleted:_0x278d04,onMessageAdded:_0x2f4a9f,ticketId:_0x213a22}=_0x1a781e;(0x0,_0x12bdf9[_0x11772b(0x10a)])(()=>{const _0x3ed3b2=_0x11772b;let _0x484c99=(0x0,_0x3f03c1[_0x3ed3b2(0x15b)])(),_0x4dd181=_0x484c99['channel']('support_tickets_changes')['on']('postgres_changes',{'event':_0x3ed3b2(0x121),'schema':'api','table':'support_tickets'},_0x136196=>{const _0x52a577=_0x3ed3b2;console[_0x52a577(0xfe)]('Ticket\x20created:',_0x136196),_0x39ac43?.(_0x136196);})['on'](_0x3ed3b2(0x103),{'event':'UPDATE','schema':'api','table':'support_tickets',..._0x213a22?{'filter':_0x3ed3b2(0x11c)+_0x213a22}:{}},_0x5067f2=>{const _0x2a5154=_0x3ed3b2;console[_0x2a5154(0xfe)]('Ticket\x20updated:',_0x5067f2),_0x593ab2?.(_0x5067f2);})['on']('postgres_changes',{'event':'DELETE','schema':_0x3ed3b2(0x107),'table':_0x3ed3b2(0x14b)},_0x254f00=>{const _0x2edb31=_0x3ed3b2;console[_0x2edb31(0xfe)](_0x2edb31(0xf4),_0x254f00),_0x278d04?.(_0x254f00);})['subscribe'](),_0x34b172=null;return _0x213a22&&_0x2f4a9f&&(_0x34b172=_0x484c99['channel']('ticket_messages_changes')['on'](_0x3ed3b2(0x103),{'event':'INSERT','schema':'api','table':_0x3ed3b2(0x11f),'filter':'ticket_id=eq.'+_0x213a22},_0x230b46=>{const _0x36997e=_0x3ed3b2;console[_0x36997e(0xfe)]('Message\x20added:',_0x230b46),_0x2f4a9f(_0x230b46);})['subscribe']()),()=>{_0x484c99['removeChannel'](_0x4dd181),_0x34b172&&_0x484c99['removeChannel'](_0x34b172);};},[_0x39ac43,_0x593ab2,_0x278d04,_0x2f4a9f,_0x213a22]);}function _0x3e4052(_0x4787ec={}){const _0x443c22=_0x2ee1;let [_0x50e1a8,_0x575ce7]=(0x0,_0x12bdf9['useState'])([]),[_0x1af554,_0x3af925]=(0x0,_0x12bdf9['useState'])(!0x0),[_0x35a059,_0x2c07a8]=(0x0,_0x12bdf9['useState'])(null),[_0x1cd621,_0x1a4830]=(0x0,_0x12bdf9['useState'])(0x0),_0x243d5c=(0x0,_0x12bdf9['useCallback'])(async()=>{const _0x10633c=_0x2ee1;try{_0x3af925(!0x0),_0x2c07a8(null);let {tickets:_0xfd0f1e,total:_0x31a7a1}=await _0x3f03c1[_0x10633c(0x107)]['getTickets']({'status':_0x4787ec[_0x10633c(0x110)],'category':_0x4787ec['category'],'assigned_to':_0x4787ec[_0x10633c(0xf3)]});_0x575ce7(_0xfd0f1e),_0x1a4830(_0x31a7a1);}catch(_0x28c25d){_0x2c07a8(_0x28c25d instanceof Error?_0x28c25d['message']:_0x10633c(0x145));}finally{_0x3af925(!0x1);}},[_0x4787ec[_0x443c22(0x110)],_0x4787ec['category'],_0x4787ec['assigned_to']]);return(0x0,_0x12bdf9[_0x443c22(0x10a)])(()=>{const _0x5ec816=_0x443c22;if(_0x243d5c(),_0x4787ec[_0x5ec816(0x140)]&&_0x4787ec['refreshInterval']){let _0x105a90=setInterval(_0x243d5c,_0x4787ec['refreshInterval']);return()=>clearInterval(_0x105a90);}},[_0x243d5c,_0x4787ec[_0x443c22(0x140)],_0x4787ec['refreshInterval']]),_0x135e88({'onTicketCreated':!0x1!==_0x4787ec['enableRealtime']?()=>_0x243d5c():void 0x0,'onTicketUpdated':!0x1!==_0x4787ec['enableRealtime']?()=>_0x243d5c():void 0x0,'onTicketDeleted':!0x1!==_0x4787ec['enableRealtime']?()=>_0x243d5c():void 0x0}),{'tickets':_0x50e1a8,'loading':_0x1af554,'error':_0x35a059,'total':_0x1cd621,'refetch':_0x243d5c};}function _0x4acaa4(_0x2104d3,_0x2bffb0=!0x0){const _0x2ff841=_0x2ee1;let [_0x268f80,_0x4fd478]=(0x0,_0x12bdf9['useState'])(null),[_0x450dd8,_0x141a14]=(0x0,_0x12bdf9[_0x2ff841(0xfd)])(!0x0),[_0x2d6961,_0x1f8b53]=(0x0,_0x12bdf9['useState'])(null),_0x4286f0=(0x0,_0x12bdf9[_0x2ff841(0x11d)])(async()=>{const _0x4e09e7=_0x2ff841;if(!_0x2104d3){_0x4fd478(null),_0x141a14(!0x1);return;}try{_0x141a14(!0x0),_0x1f8b53(null);let _0x29bede=await _0x3f03c1['api'][_0x4e09e7(0x13b)](_0x2104d3);_0x4fd478(_0x29bede);}catch(_0x340f4d){_0x1f8b53(_0x340f4d instanceof Error?_0x340f4d[_0x4e09e7(0xf7)]:'Failed\x20to\x20fetch\x20ticket');}finally{_0x141a14(!0x1);}},[_0x2104d3]);return(0x0,_0x12bdf9['useEffect'])(()=>{_0x4286f0();},[_0x4286f0]),_0x135e88({'ticketId':_0x2104d3||void 0x0,'onTicketUpdated':_0x2bffb0?()=>_0x4286f0():void 0x0,'onMessageAdded':_0x2bffb0?()=>_0x4286f0():void 0x0}),{'ticket':_0x268f80,'loading':_0x450dd8,'error':_0x2d6961,'refetch':_0x4286f0};}function _0x3f97a6(){let [_0x10d09b,_0x53d50e]=(0x0,_0x12bdf9['useState'])(!0x1),[_0x1a6601,_0xed2763]=(0x0,_0x12bdf9['useState'])(null);return{'createTicket':async _0x391257=>{const _0x168588=_0x2ee1;try{return _0x53d50e(!0x0),_0xed2763(null),(await _0x3f03c1['api']['createTicket'](_0x391257))['ticket'];}catch(_0x4f6c0f){let _0x37d5d9=_0x4f6c0f instanceof Error?_0x4f6c0f['message']:_0x168588(0xf9);throw _0xed2763(_0x37d5d9),Error(_0x37d5d9);}finally{_0x53d50e(!0x1);}},'loading':_0x10d09b,'error':_0x1a6601};}function _0x41e35a(){const _0x10ce90=_0x2ee1;let [_0x52e94a,_0x5a126e]=(0x0,_0x12bdf9[_0x10ce90(0xfd)])(!0x1),[_0x4ca289,_0x3f6729]=(0x0,_0x12bdf9['useState'])(null);return{'updateTicket':async _0x46569e=>{const _0x4af967=_0x10ce90;try{return _0x5a126e(!0x0),_0x3f6729(null),(await _0x3f03c1[_0x4af967(0x107)]['updateTicket'](_0x46569e))['ticket'];}catch(_0x300fd0){let _0x4e53c3=_0x300fd0 instanceof Error?_0x300fd0['message']:_0x4af967(0x10e);throw _0x3f6729(_0x4e53c3),Error(_0x4e53c3);}finally{_0x5a126e(!0x1);}},'loading':_0x52e94a,'error':_0x4ca289};}function _0x231bbf(){const _0x8c0ef2=_0x2ee1;let [_0x34548a,_0xe85b9a]=(0x0,_0x12bdf9[_0x8c0ef2(0xfd)])(!0x1),[_0x18a373,_0x1f0fbf]=(0x0,_0x12bdf9[_0x8c0ef2(0xfd)])(null);return{'escalateTicket':async _0x38da42=>{const _0x14013b=_0x8c0ef2;try{return _0xe85b9a(!0x0),_0x1f0fbf(null),(await _0x3f03c1[_0x14013b(0x107)][_0x14013b(0x100)](_0x38da42))[_0x14013b(0x149)];}catch(_0x482ae9){let _0xd06b22=_0x482ae9 instanceof Error?_0x482ae9[_0x14013b(0xf7)]:_0x14013b(0x137);throw _0x1f0fbf(_0xd06b22),Error(_0xd06b22);}finally{_0xe85b9a(!0x1);}},'loading':_0x34548a,'error':_0x18a373};}function _0x8406b5(){const _0x20a24c=_0x2ee1;let [_0x108a08,_0xf02fa0]=(0x0,_0x12bdf9[_0x20a24c(0xfd)])(!0x1),[_0x35b048,_0x46d562]=(0x0,_0x12bdf9[_0x20a24c(0xfd)])(null);return{'addMessage':async _0x137385=>{const _0x3d7901=_0x20a24c;try{return _0xf02fa0(!0x0),_0x46d562(null),(await _0x3f03c1['api']['addTicketMessage'](_0x137385))[_0x3d7901(0xf7)];}catch(_0x10fcc0){let _0x53dff1=_0x10fcc0 instanceof Error?_0x10fcc0[_0x3d7901(0xf7)]:'Failed\x20to\x20add\x20message';throw _0x46d562(_0x53dff1),Error(_0x53dff1);}finally{_0xf02fa0(!0x1);}},'loading':_0x108a08,'error':_0x35b048};}}},_0x596a86=>{_0x596a86['O'](0x0,[0x2603,0x259f,0x16fd,0x1b1b,0x492,0x1cbe],()=>_0x596a86(_0x596a86['s']=0xb73f)),_N_E=_0x596a86['O']();}]));function _0x2ee1(_0x3e8a81,_0x2c8f99){_0x3e8a81=_0x3e8a81-0xea;const _0x28e353=_0x28e3();let _0x2ee1a6=_0x28e353[_0x3e8a81];return _0x2ee1a6;}function _0x28e3(){const _0x13b0ea=['log','flex\x20items-center\x20gap-2','escalateTicket','flex\x20gap-1\x20mt-2','px-4\x20py-2\x20text-sm\x20font-medium\x20rounded-full\x20','postgres_changes','text-lg\x20font-semibold\x20mb-4','text-gray-600','resolve','api','support','flex\x20gap-2','useEffect','display_name','error','flex\x20items-center\x20justify-between\x20mb-4','Failed\x20to\x20update\x20ticket','←\x20Back\x20to\x20Support','status','text-4xl\x20hover:scale-110\x20transition-transform\x20disabled:opacity-50','slice','TOKEN_REFRESHED','useSearchParams','is_system','toUpperCase','resolved','mt-4\x20text-gray-600','px-3\x20py-1\x20text-sm\x20font-medium\x20rounded-full\x20','user','push','id=eq.','useCallback','webpackChunk_N_E','ticket_messages','bg-yellow-100\x20text-yellow-800','INSERT','space-y-4\x20mb-6','jsxs','[useAuth]\x20No\x20session\x20returned\x20after\x20refresh','mt-4\x20px-4\x20py-2\x20bg-emerald-600\x20text-white\x20rounded-lg\x20hover:bg-emerald-700','bg-white\x20rounded-lg\x20shadow-md\x20p-6\x20mb-6','Thank\x20you\x20for\x20rating\x20this\x20ticket!\x20Your\x20feedback\x20helps\x20us\x20improve.','category','font-semibold\x20text-gray-900','/support','session','bg-white\x20rounded-lg\x20shadow-md\x20p-6','div','px-6\x20py-2\x20bg-emerald-600\x20text-white\x20rounded-lg\x20hover:bg-emerald-700\x20disabled:opacity-50\x20disabled:cursor-not-allowed','Back\x20to\x20Support','admin','286896BmEdoM','Category:','bg-gray-50\x20rounded-lg\x20p-4','text-center','max-w-4xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','804IdFmne','Failed\x20to\x20escalate\x20ticket','span','jsx','grid\x20grid-cols-2\x20gap-4\x20mt-4\x20text-sm','getTicket','w-full\x20px-4\x20py-3\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent\x20resize-none','518340jbStXM','min-h-screen\x20bg-gray-50\x20py-8','21lfliVy','autoRefresh','map','1235874nvtLcG','unsubscribe','satisfaction_rating','Failed\x20to\x20fetch\x20tickets','45IhAZGu','bg-purple-100\x20text-purple-800','useRouter','ticket','Failed\x20to\x20load\x20ticket','support_tickets','split','catch','Type\x20your\x20reply...','4752kXbBnQ','mt-4\x20text-emerald-600\x20hover:text-emerald-700','title','value','priority','Created\x20','join','57504zYLbVh','2RsHqiZ','mb-6','bg-gray-100\x20text-gray-800','onAuthStateChange','getSupabase','No\x20ticket\x20ID\x20provided.','518184kFJmJe','Assigned\x20to:','button','flex\x20items-center\x20justify-center\x20min-h-screen','getUser','then','usePathname','12455kYyGsI','flex\x20items-center\x20gap-3','assigned_to','Ticket\x20deleted:','bg-red-100\x20text-red-800','textarea','message','mt-2\x20text-gray-600','Failed\x20to\x20create\x20ticket','text-green-800','3738834XtdcAT','text-xl\x20font-semibold\x20mb-4','useState'];_0x28e3=function(){return _0x13b0ea;};return _0x28e3();}