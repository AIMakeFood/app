function _0x502c(_0x78b975,_0x5d5a96){_0x78b975=_0x78b975-0x78;const _0x3e0e69=_0x3e0e();let _0x502c84=_0x3e0e69[_0x78b975];return _0x502c84;}function _0x3e0e(){const _0x342460=['api','get','DELETE','webpackChunk_N_E','text-xl\x20font-semibold\x20mb-4','text-2xl','space-y-4\x20mb-6','6vUqanQ','channel','useSearchParams','w-full\x20px-4\x20py-3\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent\x20resize-none','slice','then','Thank\x20you\x20for\x20rating\x20this\x20ticket!\x20Your\x20feedback\x20helps\x20us\x20improve.','bg-gray-50\x20rounded-lg\x20p-4','Failed\x20to\x20send\x20message:','join','catch','is_internal','ticket','postgres_changes','assignee','ml-2\x20font-medium','Failed\x20to\x20rate\x20ticket:','subscribe','Assigned\x20to:','resolve','unsubscribe','bg-gray-50\x20border\x20border-gray-200','TOKEN_REFRESHED','[useAuth]\x20Auth\x20state\x20change:','user_role','display_name','521704vySyKU','3zdsUCC','error','Ticket\x20updated:','jsx','priority','messages','title','refreshInterval','px-4\x20py-2\x20text-sm\x20font-medium\x20rounded-full\x20','escalateTicket','useCallback','message','animate-spin\x20rounded-full\x20h-12\x20w-12\x20border-b-2\x20border-emerald-600\x20mx-auto','mt-4\x20text-emerald-600\x20hover:text-emerald-700','value','author','bg-white\x20rounded-lg\x20shadow-md\x20p-6\x20mb-6','onAuthStateChange','updateTicket','useRouter','Ticket\x20created:','bg-red-100\x20text-red-800','bg-blue-50\x20border\x20border-blue-200','bg-green-100\x20text-green-800','INSERT','2786373HibhRo','ticket_id=eq.','How\x20satisfied\x20are\x20you\x20with\x20the\x20resolution?','created_at','description','/auth/login','toLocaleString','px-3\x20py-1\x20text-sm\x20font-medium\x20rounded-full\x20','Loading\x20ticket...','text-gray-600\x20hover:text-gray-900\x20mb-4\x20flex\x20items-center\x20gap-2','admin','includes','useEffect','span','bg-blue-100\x20text-blue-800','log','charAt','trim','textarea','text-3xl\x20font-bold\x20text-gray-900','removeChannel','min-h-screen\x20bg-gray-50\x20py-8','session','text-xs\x20px-2\x20py-1\x20bg-blue-200\x20rounded','560328SWpGba','Type\x20your\x20reply...','split','152380gNdkrp','35cIAHhg','Failed\x20to\x20escalate\x20ticket','getUser','text-gray-600','support_tickets','target','Failed\x20to\x20fetch\x20tickets','System','signOut','330koINGd','div','status','autoRefresh','user','assigned_to','UPDATE','bg-yellow-100\x20text-yellow-800','43705JhXMif','Ticket\x20deleted:','button','bg-gray-100\x20text-gray-800','push','1784172iisCqX','637326CHHubE','resolved','jsxs','bg-orange-100\x20text-orange-800','Back\x20to\x20Support','flex\x20items-start\x20justify-between\x20mb-2','text-center','1XHqWzM','bind','map','bg-white\x20rounded-lg\x20shadow-md\x20p-6','id=eq.','enableRealtime','satisfaction_rating','text-2xl\x20font-bold\x20text-gray-900','useState'];_0x3e0e=function(){return _0x342460;};return _0x3e0e();}const _0xe46af8=_0x502c;(function(_0x4a1069,_0x2cc1de){const _0x377adb=_0x502c,_0x112062=_0x4a1069();while(!![]){try{const _0x5e1713=parseInt(_0x377adb(0xda))/0x1*(parseInt(_0x377adb(0xd3))/0x2)+-parseInt(_0x377adb(0x87))/0x3*(parseInt(_0x377adb(0x86))/0x4)+-parseInt(_0x377adb(0xcd))/0x5*(parseInt(_0x377adb(0xea))/0x6)+parseInt(_0x377adb(0xbc))/0x7*(parseInt(_0x377adb(0xb8))/0x8)+parseInt(_0x377adb(0xa0))/0x9+parseInt(_0x377adb(0xbb))/0xa*(-parseInt(_0x377adb(0xc5))/0xb)+-parseInt(_0x377adb(0xd2))/0xc;if(_0x5e1713===_0x2cc1de)break;else _0x112062['push'](_0x112062['shift']());}catch(_0x7f6896){_0x112062['push'](_0x112062['shift']());}}}(_0x3e0e,0x39005),(self['webpackChunk_N_E']=self[_0xe46af8(0xe6)]||[])['push']([[0xac3],{0x9c1c:(_0x58b65c,_0x21eee6,_0x52f5f0)=>{'use strict';_0x52f5f0['r'](_0x21eee6),_0x52f5f0['d'](_0x21eee6,{'default':()=>_0x3dbea7});var _0x593cdc=_0x52f5f0(0xd773),_0x468d6f=_0x52f5f0(0x5433),_0xd22b34=_0x52f5f0(0x10edb),_0x2eb1cd=_0x52f5f0(0xc541),_0x5e766a=_0x52f5f0(0x14a5a);function _0x3dbea7(){const _0x1f9189=_0x502c;let {user:_0x51adac,loading:_0x1b8c3a}=(0x0,_0xd22b34['A'])(),_0x32eab4=(0x0,_0x2eb1cd['useRouter'])(),_0x5c84a2=(0x0,_0x2eb1cd[_0x1f9189(0xec)])()[_0x1f9189(0xe4)]('id'),{ticket:_0x5f4786,loading:_0x536c92,error:_0x56b880,refetch:_0x504f92}=(0x0,_0x5e766a['yS'])(_0x5c84a2||''),{updateTicket:_0x2afd82,loading:_0x1f1a63}=(0x0,_0x5e766a['tY'])(),{addMessage:_0x32dccd,loading:_0x15b14f}=(0x0,_0x5e766a['c0'])(),[_0xf4b14f,_0x3bc865]=(0x0,_0x468d6f['useState'])(''),[_0x5c484f,_0x9a717c]=(0x0,_0x468d6f[_0x1f9189(0xe2)])(null);(0x0,_0x468d6f['useEffect'])(()=>{const _0xef5f21=_0x1f9189;_0x1b8c3a||_0x51adac||_0x32eab4['push'](_0xef5f21(0xa5));},[_0x51adac,_0x1b8c3a,_0x32eab4]);let _0x5cc0a8=async()=>{const _0x4d51a4=_0x1f9189;if(_0xf4b14f[_0x4d51a4(0xb1)]()&&_0x5c84a2)try{await _0x32dccd({'ticketId':_0x5c84a2,'message':_0xf4b14f}),_0x3bc865(''),_0x504f92();}catch(_0x30b2fc){console['error'](_0x4d51a4(0xf2),_0x30b2fc);}},_0x4e4732=async _0x22dcaa=>{const _0xc51020=_0x1f9189;if(_0x5c84a2)try{await _0x2afd82({'ticketId':_0x5c84a2,'satisfaction_rating':_0x22dcaa}),_0x9a717c(_0x22dcaa),_0x504f92();}catch(_0x3a9cf9){console[_0xc51020(0x88)](_0xc51020(0x7c),_0x3a9cf9);}};return _0x5c84a2?_0x1b8c3a||_0x536c92?(0x0,_0x593cdc['jsx'])(_0x1f9189(0xc6),{'className':'flex\x20items-center\x20justify-center\x20min-h-screen','children':(0x0,_0x593cdc[_0x1f9189(0xd5)])(_0x1f9189(0xc6),{'className':_0x1f9189(0xd9),'children':[(0x0,_0x593cdc[_0x1f9189(0x8a)])(_0x1f9189(0xc6),{'className':_0x1f9189(0x93)}),(0x0,_0x593cdc['jsx'])('p',{'className':'mt-4\x20text-gray-600','children':_0x1f9189(0xa8)})]})}):_0x56b880||!_0x5f4786?(0x0,_0x593cdc['jsx'])(_0x1f9189(0xc6),{'className':'flex\x20items-center\x20justify-center\x20min-h-screen','children':(0x0,_0x593cdc[_0x1f9189(0xd5)])('div',{'className':'text-center','children':[(0x0,_0x593cdc['jsx'])('p',{'className':'text-red-600','children':'Failed\x20to\x20load\x20ticket'}),(0x0,_0x593cdc['jsx'])(_0x1f9189(0xcf),{'onClick':()=>_0x32eab4['push']('/support'),'className':_0x1f9189(0x94),'children':_0x1f9189(0xd7)})]})}):(0x0,_0x593cdc['jsx'])(_0x1f9189(0xc6),{'className':'min-h-screen\x20bg-gray-50\x20py-8','children':(0x0,_0x593cdc[_0x1f9189(0xd5)])(_0x1f9189(0xc6),{'className':'max-w-4xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','children':[(0x0,_0x593cdc[_0x1f9189(0xd5)])(_0x1f9189(0xc6),{'className':'mb-6','children':[(0x0,_0x593cdc[_0x1f9189(0x8a)])('button',{'onClick':()=>_0x32eab4[_0x1f9189(0xd1)]('/support'),'className':_0x1f9189(0xa9),'children':'←\x20Back\x20to\x20Support'}),(0x0,_0x593cdc[_0x1f9189(0x8a)])('h1',{'className':_0x1f9189(0xb3),'children':_0x5f4786[_0x1f9189(0x8d)]})]}),(0x0,_0x593cdc['jsxs'])('div',{'className':_0x1f9189(0x97),'children':[(0x0,_0x593cdc['jsxs'])('div',{'className':'flex\x20items-center\x20justify-between\x20mb-4','children':[(0x0,_0x593cdc['jsxs'])('div',{'className':'flex\x20items-center\x20gap-3','children':[(0x0,_0x593cdc['jsx'])('span',{'className':_0x1f9189(0x8f)+({'open':_0x1f9189(0xae),'in_progress':_0x1f9189(0xcc),'waiting_response':'bg-purple-100\x20text-purple-800','escalated':'bg-red-100\x20text-red-800','resolved':_0x1f9189(0x9e),'closed':_0x1f9189(0xd0)}[_0x5f4786[_0x1f9189(0xc7)]]||'bg-gray-100\x20text-gray-800'),'children':_0x5f4786['status'][_0x1f9189(0xba)]('_')[_0x1f9189(0xdc)](_0x1fd5e3=>_0x1fd5e3[_0x1f9189(0xb0)](0x0)['toUpperCase']()+_0x1fd5e3[_0x1f9189(0xee)](0x1))['join']('\x20')}),(0x0,_0x593cdc[_0x1f9189(0x8a)])('span',{'className':_0x1f9189(0xa7)+({'low':'bg-gray-100\x20text-gray-800','medium':_0x1f9189(0xae),'high':_0x1f9189(0xd6),'urgent':_0x1f9189(0x9c)}[_0x5f4786[_0x1f9189(0x8b)]]||'bg-gray-100\x20text-gray-800'),'children':_0x5f4786['priority']})]}),(0x0,_0x593cdc[_0x1f9189(0xd5)])(_0x1f9189(0xad),{'className':'text-sm\x20text-gray-500','children':['Created\x20',_0x1cd78d(_0x5f4786['created_at'])]})]}),(0x0,_0x593cdc[_0x1f9189(0xd5)])(_0x1f9189(0xc6),{'className':_0x1f9189(0xf1),'children':[(0x0,_0x593cdc[_0x1f9189(0x8a)])('p',{'className':'text-sm\x20font-medium\x20text-gray-700\x20mb-2','children':'Original\x20Request:'}),(0x0,_0x593cdc[_0x1f9189(0x8a)])('p',{'className':'text-gray-700\x20whitespace-pre-wrap','children':_0x5f4786[_0x1f9189(0xa4)]})]}),(0x0,_0x593cdc['jsxs'])(_0x1f9189(0xc6),{'className':'grid\x20grid-cols-2\x20gap-4\x20mt-4\x20text-sm','children':[(0x0,_0x593cdc['jsxs'])(_0x1f9189(0xc6),{'children':[(0x0,_0x593cdc['jsx'])(_0x1f9189(0xad),{'className':_0x1f9189(0xbf),'children':'Category:'}),(0x0,_0x593cdc[_0x1f9189(0x8a)])('span',{'className':'ml-2\x20font-medium','children':_0x5f4786['category'][_0x1f9189(0xba)]('_')[_0x1f9189(0xdc)](_0x439e52=>_0x439e52['charAt'](0x0)['toUpperCase']()+_0x439e52['slice'](0x1))[_0x1f9189(0xf3)]('\x20')})]}),_0x5f4786[_0x1f9189(0xca)]&&_0x5f4786[_0x1f9189(0x7a)]&&(0x0,_0x593cdc[_0x1f9189(0xd5)])(_0x1f9189(0xc6),{'children':[(0x0,_0x593cdc['jsx'])(_0x1f9189(0xad),{'className':'text-gray-600','children':_0x1f9189(0x7e)}),(0x0,_0x593cdc['jsx'])('span',{'className':_0x1f9189(0x7b),'children':_0x5f4786[_0x1f9189(0x7a)]['display_name']})]})]})]}),(0x0,_0x593cdc['jsxs'])('div',{'className':'bg-white\x20rounded-lg\x20shadow-md\x20p-6\x20mb-6','children':[(0x0,_0x593cdc[_0x1f9189(0x8a)])('h2',{'className':_0x1f9189(0xe7),'children':'Conversation'}),(0x0,_0x593cdc[_0x1f9189(0x8a)])('div',{'className':_0x1f9189(0xe9),'children':_0x5f4786[_0x1f9189(0x8c)]['filter'](_0x41ee9f=>!_0x41ee9f[_0x1f9189(0xf5)])[_0x1f9189(0xdc)](_0x192f34=>{const _0x2d4a1f=_0x1f9189;let _0x2b99b0=_0x192f34[_0x2d4a1f(0x96)]&&['support','manager',_0x2d4a1f(0xaa)][_0x2d4a1f(0xab)](_0x192f34[_0x2d4a1f(0x96)][_0x2d4a1f(0x84)]);return(0x0,_0x593cdc[_0x2d4a1f(0xd5)])('div',{'className':'p-4\x20rounded-lg\x20'+(_0x192f34['is_system']?_0x2d4a1f(0x81):_0x2b99b0?_0x2d4a1f(0x9d):'bg-emerald-50\x20border\x20border-emerald-200'),'children':[(0x0,_0x593cdc['jsxs'])(_0x2d4a1f(0xc6),{'className':_0x2d4a1f(0xd8),'children':[(0x0,_0x593cdc['jsxs'])('div',{'className':'flex\x20items-center\x20gap-2','children':[(0x0,_0x593cdc['jsx'])('span',{'className':'font-semibold\x20text-gray-900','children':_0x192f34[_0x2d4a1f(0x96)]?.[_0x2d4a1f(0x85)]||_0x2d4a1f(0xc3)}),_0x2b99b0&&(0x0,_0x593cdc['jsx'])('span',{'className':_0x2d4a1f(0xb7),'children':'Support\x20Team'})]}),(0x0,_0x593cdc[_0x2d4a1f(0x8a)])(_0x2d4a1f(0xad),{'className':'text-xs\x20text-gray-500','children':_0x1cd78d(_0x192f34[_0x2d4a1f(0xa3)])})]}),(0x0,_0x593cdc['jsx'])('p',{'className':'text-gray-700\x20whitespace-pre-wrap','children':_0x192f34['message']})]},_0x192f34['id']);})}),'closed'!==_0x5f4786[_0x1f9189(0xc7)]&&(0x0,_0x593cdc[_0x1f9189(0xd5)])(_0x1f9189(0xc6),{'className':'border-t\x20pt-4','children':[(0x0,_0x593cdc['jsx'])(_0x1f9189(0xb2),{'value':_0xf4b14f,'onChange':_0x2d6834=>_0x3bc865(_0x2d6834[_0x1f9189(0xc1)][_0x1f9189(0x95)]),'placeholder':_0x1f9189(0xb9),'className':_0x1f9189(0xed),'rows':0x4}),(0x0,_0x593cdc['jsx'])('div',{'className':'flex\x20justify-end\x20mt-3','children':(0x0,_0x593cdc[_0x1f9189(0x8a)])('button',{'onClick':_0x5cc0a8,'disabled':_0x15b14f||!_0xf4b14f[_0x1f9189(0xb1)](),'className':'px-6\x20py-2\x20bg-emerald-600\x20text-white\x20rounded-lg\x20hover:bg-emerald-700\x20disabled:opacity-50\x20disabled:cursor-not-allowed','children':_0x15b14f?'Sending...':'Send\x20Reply'})})]})]}),_0x1f9189(0xd4)===_0x5f4786['status']&&!_0x5f4786['satisfaction_rating']&&(0x0,_0x593cdc['jsxs'])('div',{'className':_0x1f9189(0xdd),'children':[(0x0,_0x593cdc['jsx'])('h3',{'className':'text-lg\x20font-semibold\x20mb-4','children':'Rate\x20Your\x20Support\x20Experience'}),(0x0,_0x593cdc[_0x1f9189(0x8a)])('p',{'className':'text-gray-600\x20mb-4','children':_0x1f9189(0xa2)}),(0x0,_0x593cdc['jsx'])(_0x1f9189(0xc6),{'className':'flex\x20gap-2','children':[0x1,0x2,0x3,0x4,0x5][_0x1f9189(0xdc)](_0x57dcee=>(0x0,_0x593cdc['jsx'])(_0x1f9189(0xcf),{'onClick':()=>_0x4e4732(_0x57dcee),'disabled':_0x1f1a63,'className':'text-4xl\x20hover:scale-110\x20transition-transform\x20disabled:opacity-50','children':_0x57dcee<=(_0x5c484f||0x0)?'⭐':'☆'},_0x57dcee))})]}),_0x5f4786[_0x1f9189(0xe0)]&&(0x0,_0x593cdc['jsxs'])(_0x1f9189(0xc6),{'className':'bg-green-50\x20border\x20border-green-200\x20rounded-lg\x20p-6','children':[(0x0,_0x593cdc['jsx'])('p',{'className':'text-green-800','children':_0x1f9189(0xf0)}),(0x0,_0x593cdc['jsx'])('div',{'className':'flex\x20gap-1\x20mt-2','children':[0x1,0x2,0x3,0x4,0x5][_0x1f9189(0xdc)](_0xe34190=>(0x0,_0x593cdc[_0x1f9189(0x8a)])(_0x1f9189(0xad),{'className':_0x1f9189(0xe8),'children':_0xe34190<=_0x5f4786[_0x1f9189(0xe0)]?'⭐':'☆'},_0xe34190))})]})]})}):(0x0,_0x593cdc[_0x1f9189(0x8a)])('div',{'className':_0x1f9189(0xb5),'children':(0x0,_0x593cdc['jsx'])(_0x1f9189(0xc6),{'className':'max-w-4xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','children':(0x0,_0x593cdc[_0x1f9189(0xd5)])('div',{'className':_0x1f9189(0xd9),'children':[(0x0,_0x593cdc['jsx'])('h2',{'className':_0x1f9189(0xe1),'children':'Ticket\x20Not\x20Found'}),(0x0,_0x593cdc[_0x1f9189(0x8a)])('p',{'className':'mt-2\x20text-gray-600','children':'No\x20ticket\x20ID\x20provided.'}),(0x0,_0x593cdc['jsx'])(_0x1f9189(0xcf),{'onClick':()=>_0x32eab4['push']('/support'),'className':'mt-4\x20px-4\x20py-2\x20bg-emerald-600\x20text-white\x20rounded-lg\x20hover:bg-emerald-700','children':_0x1f9189(0xd7)})]})})});}function _0x1cd78d(_0x4621ee){const _0x156f6b=_0x502c;return new Date(_0x4621ee)[_0x156f6b(0xa6)]();}},0xb73f:(_0x4c0536,_0x2d5987,_0x1b987f)=>{const _0x10b064=_0xe46af8;Promise[_0x10b064(0x7f)]()[_0x10b064(0xef)](_0x1b987f[_0x10b064(0xdb)](_0x1b987f,0x9c1c));},0xc541:(_0x50c1a3,_0x1c23b9,_0x15fa65)=>{'use strict';const _0x4e8f4e=_0xe46af8;var _0x44fa08=_0x15fa65(0xed0d);_0x15fa65['o'](_0x44fa08,'usePathname')&&_0x15fa65['d'](_0x1c23b9,{'usePathname':function(){return _0x44fa08['usePathname'];}}),_0x15fa65['o'](_0x44fa08,_0x4e8f4e(0x9a))&&_0x15fa65['d'](_0x1c23b9,{'useRouter':function(){const _0x456759=_0x4e8f4e;return _0x44fa08[_0x456759(0x9a)];}}),_0x15fa65['o'](_0x44fa08,_0x4e8f4e(0xec))&&_0x15fa65['d'](_0x1c23b9,{'useSearchParams':function(){const _0x14b854=_0x4e8f4e;return _0x44fa08[_0x14b854(0xec)];}});},0x10edb:(_0x2f7716,_0x1af045,_0x7ca201)=>{'use strict';_0x7ca201['d'](_0x1af045,{'A':()=>_0x1886a5});var _0x1020c8=_0x7ca201(0x5433),_0xc4fdc0=_0x7ca201(0x3e0d);function _0x1886a5(){const _0x4b1b66=_0x502c;let [_0x5ead4e,_0x1bfa93]=(0x0,_0x1020c8[_0x4b1b66(0xe2)])(null),[_0x5d68f6,_0x36c8a1]=(0x0,_0x1020c8[_0x4b1b66(0xe2)])(!0x0),[_0x2e12bd,_0x30c6cb]=(0x0,_0x1020c8[_0x4b1b66(0xe2)])(!0x1),[_0x4a1623,_0x31503b]=(0x0,_0x1020c8[_0x4b1b66(0xe2)])(null),_0x5c30be=(0x0,_0x1020c8['useCallback'])(async()=>{const _0xdabae9=_0x4b1b66;try{let _0x3d3f22=(0x0,_0xc4fdc0['getSupabase'])(),{data:_0x289be6,error:_0x12571c}=await _0x3d3f22['auth']['refreshSession']();if(_0x12571c)return console[_0xdabae9(0x88)]('[useAuth]\x20Refresh\x20error:',_0x12571c),!0x1;if(!_0x289be6?.['session'])return console[_0xdabae9(0x88)]('[useAuth]\x20No\x20session\x20returned\x20after\x20refresh'),!0x1;return _0x31503b(_0x289be6[_0xdabae9(0xb6)]),_0x1bfa93(_0x289be6[_0xdabae9(0xb6)]['user']),console[_0xdabae9(0xaf)]('[useAuth]\x20Session\x20refreshed\x20successfully'),!0x0;}catch(_0x498249){return console[_0xdabae9(0x88)]('[useAuth]\x20Failed\x20to\x20refresh:',_0x498249),!0x1;}},[]);return(0x0,_0x1020c8['useEffect'])(()=>{const _0x2c561a=_0x4b1b66;_0xc4fdc0['api'][_0x2c561a(0xbe)]()['then'](({data:{user:_0x278b57}})=>{_0x1bfa93(_0x278b57),_0x36c8a1(!0x1),_0x30c6cb(!0x0);})[_0x2c561a(0xf4)](()=>{_0x36c8a1(!0x1),_0x30c6cb(!0x0);});let {data:{subscription:_0x2c3f2e}}=_0xc4fdc0['api'][_0x2c561a(0x98)](async(_0x5b3710,_0x1bd486)=>{const _0x41e714=_0x2c561a;console['log'](_0x41e714(0x83),_0x5b3710),_0x41e714(0x82)===_0x5b3710&&console['log']('[useAuth]\x20Token\x20refreshed\x20successfully'),_0x31503b(_0x1bd486),_0x1bfa93(_0x1bd486?.[_0x41e714(0xc9)]??null),_0x36c8a1(!0x1),_0x30c6cb(!0x0);});return()=>_0x2c3f2e[_0x2c561a(0x80)]();},[]),{'user':_0x5ead4e,'session':_0x4a1623,'loading':_0x5d68f6,'isReady':_0x2e12bd,'authenticated':!!_0x5ead4e,'refreshSession':_0x5c30be,'signOut':()=>_0xc4fdc0[_0x4b1b66(0xe3)][_0x4b1b66(0xc4)]()};}},0x14a5a:(_0x5ce169,_0x37a290,_0x35ca68)=>{'use strict';_0x35ca68['d'](_0x37a290,{'c0':()=>_0x555a05,'Gs':()=>_0x5c7caf,'oJ':()=>_0x4cc06e,'yS':()=>_0xcf1223,'dS':()=>_0x621da5,'tY':()=>_0x20fe7a});var _0x27f4d2=_0x35ca68(0x5433),_0x468042=_0x35ca68(0x3e0d);function _0x53616a(_0x146b04={}){const _0x180b8d=_0x502c;let {onTicketCreated:_0x2c53a3,onTicketUpdated:_0x301171,onTicketDeleted:_0x1cb3a8,onMessageAdded:_0x88062e,ticketId:_0x5b4630}=_0x146b04;(0x0,_0x27f4d2[_0x180b8d(0xac)])(()=>{const _0x430344=_0x180b8d;let _0xe5ec4=(0x0,_0x468042['getSupabase'])(),_0x280e5b=_0xe5ec4[_0x430344(0xeb)]('support_tickets_changes')['on']('postgres_changes',{'event':_0x430344(0x9f),'schema':_0x430344(0xe3),'table':'support_tickets'},_0x5470f2=>{const _0x28ade6=_0x430344;console['log'](_0x28ade6(0x9b),_0x5470f2),_0x2c53a3?.(_0x5470f2);})['on']('postgres_changes',{'event':_0x430344(0xcb),'schema':'api','table':_0x430344(0xc0),..._0x5b4630?{'filter':_0x430344(0xde)+_0x5b4630}:{}},_0x443b6e=>{const _0x24c44d=_0x430344;console[_0x24c44d(0xaf)](_0x24c44d(0x89),_0x443b6e),_0x301171?.(_0x443b6e);})['on'](_0x430344(0x79),{'event':_0x430344(0xe5),'schema':_0x430344(0xe3),'table':'support_tickets'},_0x7e4f8d=>{const _0x3a4d1c=_0x430344;console['log'](_0x3a4d1c(0xce),_0x7e4f8d),_0x1cb3a8?.(_0x7e4f8d);})[_0x430344(0x7d)](),_0x5a3620=null;return _0x5b4630&&_0x88062e&&(_0x5a3620=_0xe5ec4[_0x430344(0xeb)]('ticket_messages_changes')['on'](_0x430344(0x79),{'event':'INSERT','schema':_0x430344(0xe3),'table':'ticket_messages','filter':_0x430344(0xa1)+_0x5b4630},_0x3c6066=>{const _0xd3d9e=_0x430344;console[_0xd3d9e(0xaf)]('Message\x20added:',_0x3c6066),_0x88062e(_0x3c6066);})['subscribe']()),()=>{const _0x2a504d=_0x430344;_0xe5ec4['removeChannel'](_0x280e5b),_0x5a3620&&_0xe5ec4[_0x2a504d(0xb4)](_0x5a3620);};},[_0x2c53a3,_0x301171,_0x1cb3a8,_0x88062e,_0x5b4630]);}function _0x621da5(_0x1440f0={}){const _0x1374c9=_0x502c;let [_0xa2e8d0,_0x1f2519]=(0x0,_0x27f4d2[_0x1374c9(0xe2)])([]),[_0x334759,_0x246c46]=(0x0,_0x27f4d2['useState'])(!0x0),[_0x213f6a,_0xdc4b9e]=(0x0,_0x27f4d2['useState'])(null),[_0x20af9b,_0x3698db]=(0x0,_0x27f4d2[_0x1374c9(0xe2)])(0x0),_0x8397f9=(0x0,_0x27f4d2[_0x1374c9(0x91)])(async()=>{const _0x6c042d=_0x1374c9;try{_0x246c46(!0x0),_0xdc4b9e(null);let {tickets:_0xefd586,total:_0x2dbb6f}=await _0x468042['api']['getTickets']({'status':_0x1440f0['status'],'category':_0x1440f0['category'],'assigned_to':_0x1440f0[_0x6c042d(0xca)]});_0x1f2519(_0xefd586),_0x3698db(_0x2dbb6f);}catch(_0x2b19d2){_0xdc4b9e(_0x2b19d2 instanceof Error?_0x2b19d2[_0x6c042d(0x92)]:_0x6c042d(0xc2));}finally{_0x246c46(!0x1);}},[_0x1440f0['status'],_0x1440f0['category'],_0x1440f0['assigned_to']]);return(0x0,_0x27f4d2[_0x1374c9(0xac)])(()=>{const _0x1be2c9=_0x1374c9;if(_0x8397f9(),_0x1440f0[_0x1be2c9(0xc8)]&&_0x1440f0[_0x1be2c9(0x8e)]){let _0x1289ca=setInterval(_0x8397f9,_0x1440f0[_0x1be2c9(0x8e)]);return()=>clearInterval(_0x1289ca);}},[_0x8397f9,_0x1440f0[_0x1374c9(0xc8)],_0x1440f0[_0x1374c9(0x8e)]]),_0x53616a({'onTicketCreated':!0x1!==_0x1440f0['enableRealtime']?()=>_0x8397f9():void 0x0,'onTicketUpdated':!0x1!==_0x1440f0[_0x1374c9(0xdf)]?()=>_0x8397f9():void 0x0,'onTicketDeleted':!0x1!==_0x1440f0['enableRealtime']?()=>_0x8397f9():void 0x0}),{'tickets':_0xa2e8d0,'loading':_0x334759,'error':_0x213f6a,'total':_0x20af9b,'refetch':_0x8397f9};}function _0xcf1223(_0x1d39ea,_0x23d2c5=!0x0){const _0x1806fa=_0x502c;let [_0x11c798,_0x678df3]=(0x0,_0x27f4d2[_0x1806fa(0xe2)])(null),[_0x16806d,_0x20cb3b]=(0x0,_0x27f4d2['useState'])(!0x0),[_0x5eb5ac,_0x5ecbc9]=(0x0,_0x27f4d2['useState'])(null),_0x17e80f=(0x0,_0x27f4d2['useCallback'])(async()=>{const _0x4cb6a7=_0x1806fa;if(!_0x1d39ea){_0x678df3(null),_0x20cb3b(!0x1);return;}try{_0x20cb3b(!0x0),_0x5ecbc9(null);let _0x307325=await _0x468042['api']['getTicket'](_0x1d39ea);_0x678df3(_0x307325);}catch(_0x1bf495){_0x5ecbc9(_0x1bf495 instanceof Error?_0x1bf495[_0x4cb6a7(0x92)]:'Failed\x20to\x20fetch\x20ticket');}finally{_0x20cb3b(!0x1);}},[_0x1d39ea]);return(0x0,_0x27f4d2[_0x1806fa(0xac)])(()=>{_0x17e80f();},[_0x17e80f]),_0x53616a({'ticketId':_0x1d39ea||void 0x0,'onTicketUpdated':_0x23d2c5?()=>_0x17e80f():void 0x0,'onMessageAdded':_0x23d2c5?()=>_0x17e80f():void 0x0}),{'ticket':_0x11c798,'loading':_0x16806d,'error':_0x5eb5ac,'refetch':_0x17e80f};}function _0x5c7caf(){const _0x1bdc4e=_0x502c;let [_0x224600,_0x33d3da]=(0x0,_0x27f4d2['useState'])(!0x1),[_0x58f165,_0x3d568b]=(0x0,_0x27f4d2[_0x1bdc4e(0xe2)])(null);return{'createTicket':async _0x3027a8=>{const _0x1fa665=_0x1bdc4e;try{return _0x33d3da(!0x0),_0x3d568b(null),(await _0x468042[_0x1fa665(0xe3)]['createTicket'](_0x3027a8))[_0x1fa665(0x78)];}catch(_0x4968d6){let _0x4dfcd9=_0x4968d6 instanceof Error?_0x4968d6['message']:'Failed\x20to\x20create\x20ticket';throw _0x3d568b(_0x4dfcd9),Error(_0x4dfcd9);}finally{_0x33d3da(!0x1);}},'loading':_0x224600,'error':_0x58f165};}function _0x20fe7a(){const _0x28d3da=_0x502c;let [_0x4926a5,_0x218308]=(0x0,_0x27f4d2[_0x28d3da(0xe2)])(!0x1),[_0x143c02,_0x5b099b]=(0x0,_0x27f4d2[_0x28d3da(0xe2)])(null);return{'updateTicket':async _0x181fc7=>{const _0x1e570a=_0x28d3da;try{return _0x218308(!0x0),_0x5b099b(null),(await _0x468042['api'][_0x1e570a(0x99)](_0x181fc7))['ticket'];}catch(_0x2d738b){let _0x4edbec=_0x2d738b instanceof Error?_0x2d738b[_0x1e570a(0x92)]:'Failed\x20to\x20update\x20ticket';throw _0x5b099b(_0x4edbec),Error(_0x4edbec);}finally{_0x218308(!0x1);}},'loading':_0x4926a5,'error':_0x143c02};}function _0x4cc06e(){const _0x298dc4=_0x502c;let [_0x156199,_0x1d2d76]=(0x0,_0x27f4d2['useState'])(!0x1),[_0x58ebe1,_0x41ba62]=(0x0,_0x27f4d2[_0x298dc4(0xe2)])(null);return{'escalateTicket':async _0x121b7c=>{const _0x48ebb8=_0x298dc4;try{return _0x1d2d76(!0x0),_0x41ba62(null),(await _0x468042[_0x48ebb8(0xe3)][_0x48ebb8(0x90)](_0x121b7c))['ticket'];}catch(_0xc6c62a){let _0x2fafd6=_0xc6c62a instanceof Error?_0xc6c62a[_0x48ebb8(0x92)]:_0x48ebb8(0xbd);throw _0x41ba62(_0x2fafd6),Error(_0x2fafd6);}finally{_0x1d2d76(!0x1);}},'loading':_0x156199,'error':_0x58ebe1};}function _0x555a05(){const _0x255e70=_0x502c;let [_0x15640c,_0x5c776a]=(0x0,_0x27f4d2[_0x255e70(0xe2)])(!0x1),[_0x1e6b93,_0xb9eec8]=(0x0,_0x27f4d2[_0x255e70(0xe2)])(null);return{'addMessage':async _0x361921=>{const _0x4d3f4b=_0x255e70;try{return _0x5c776a(!0x0),_0xb9eec8(null),(await _0x468042['api']['addTicketMessage'](_0x361921))['message'];}catch(_0x4d1cbd){let _0x2cfb01=_0x4d1cbd instanceof Error?_0x4d1cbd[_0x4d3f4b(0x92)]:'Failed\x20to\x20add\x20message';throw _0xb9eec8(_0x2cfb01),Error(_0x2cfb01);}finally{_0x5c776a(!0x1);}},'loading':_0x15640c,'error':_0x1e6b93};}}},_0x3e1edc=>{_0x3e1edc['O'](0x0,[0x2603,0x259f,0x16fd,0x1b1b,0x492,0x1cbe],()=>_0x3e1edc(_0x3e1edc['s']=0xb73f)),_N_E=_0x3e1edc['O']();}]));