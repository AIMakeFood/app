const _0x7c1f4c=_0x4827;function _0x570a(){const _0x31c390=['join','session','INSERT','Message\x20added:','user_role','mt-2\x20text-gray-600','/auth/login','136976Dhqqxu','[useAuth]\x20Auth\x20state\x20change:','removeChannel','Created\x20','Failed\x20to\x20update\x20ticket','jsx','bg-purple-100\x20text-purple-800','jsxs','max-w-4xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','manager','useCallback','bg-gray-100\x20text-gray-800','getSupabase','webpackChunk_N_E','messages','split','10acytRS','Failed\x20to\x20fetch\x20tickets','display_name','span','title','w-full\x20px-4\x20py-3\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent\x20resize-none','bg-emerald-50\x20border\x20border-emerald-200','text-2xl','Category:','catch','author','text-center','DELETE','mt-4\x20text-gray-600','flex\x20justify-end\x20mt-3','Failed\x20to\x20send\x20message:','is_system','is_internal','System','57219YmYTFK','useState','text-gray-600\x20hover:text-gray-900\x20mb-4\x20flex\x20items-center\x20gap-2','user','Loading\x20ticket...','text-gray-600','Ticket\x20deleted:','created_at','updateTicket','No\x20ticket\x20ID\x20provided.','532316ogJjNc','bg-gray-50\x20rounded-lg\x20p-4','143458GMbOKo','message','Ticket\x20created:','flex\x20gap-2','animate-spin\x20rounded-full\x20h-12\x20w-12\x20border-b-2\x20border-emerald-600\x20mx-auto','target','map','priority','bg-gray-50\x20border\x20border-gray-200','812435YXyjoG','[useAuth]\x20Session\x20refreshed\x20successfully','text-sm\x20font-medium\x20text-gray-700\x20mb-2','[useAuth]\x20No\x20session\x20returned\x20after\x20refresh','trim','min-h-screen\x20bg-gray-50\x20py-8','push','div','space-y-4\x20mb-6','Sending...','addTicketMessage','flex\x20items-center\x20justify-between\x20mb-4','bg-orange-100\x20text-orange-800','ticket_messages_changes','then','px-4\x20py-2\x20text-sm\x20font-medium\x20rounded-full\x20','text-lg\x20font-semibold\x20mb-4','support_tickets_changes','refreshInterval','Send\x20Reply','log','126LnKJLc','toUpperCase','assigned_to','useEffect','api','325870VazzZs','channel','flex\x20gap-1\x20mt-2','toLocaleString','subscribe','[useAuth]\x20Failed\x20to\x20refresh:','refreshSession','ticket','px-6\x20py-2\x20bg-emerald-600\x20text-white\x20rounded-lg\x20hover:bg-emerald-700\x20disabled:opacity-50\x20disabled:cursor-not-allowed','text-red-600','getTickets','id=eq.','grid\x20grid-cols-2\x20gap-4\x20mt-4\x20text-sm','useRouter','/support','charAt','satisfaction_rating','enableRealtime','Thank\x20you\x20for\x20rating\x20this\x20ticket!\x20Your\x20feedback\x20helps\x20us\x20improve.','postgres_changes','6wSNRRf','bg-green-50\x20border\x20border-green-200\x20rounded-lg\x20p-6','text-xs\x20px-2\x20py-1\x20bg-blue-200\x20rounded','Failed\x20to\x20create\x20ticket','value','button','error','ticket_messages','status','ml-2\x20font-medium','129568SxIMWD','ticket_id=eq.','useSearchParams'];_0x570a=function(){return _0x31c390;};return _0x570a();}function _0x4827(_0x511ab7,_0x1ad1d8){_0x511ab7=_0x511ab7-0xe5;const _0x570ab4=_0x570a();let _0x482717=_0x570ab4[_0x511ab7];return _0x482717;}(function(_0x3ec50d,_0x1f6bee){const _0x44763f=_0x4827,_0x3792a9=_0x3ec50d();while(!![]){try{const _0x13e075=-parseInt(_0x44763f(0x13b))/0x1+parseInt(_0x44763f(0x14b))/0x2*(-parseInt(_0x44763f(0x15e))/0x3)+parseInt(_0x44763f(0xee))/0x4+-parseInt(_0x44763f(0xf9))/0x5+-parseInt(_0x44763f(0x127))/0x6*(-parseInt(_0x44763f(0xf0))/0x7)+parseInt(_0x44763f(0x131))/0x8+-parseInt(_0x44763f(0x10e))/0x9*(-parseInt(_0x44763f(0x113))/0xa);if(_0x13e075===_0x1f6bee)break;else _0x3792a9['push'](_0x3792a9['shift']());}catch(_0x407977){_0x3792a9['push'](_0x3792a9['shift']());}}}(_0x570a,0x386f7),(self[_0x7c1f4c(0x148)]=self[_0x7c1f4c(0x148)]||[])[_0x7c1f4c(0xff)]([[0xac3],{0x9c1c:(_0x5bc9c2,_0x540135,_0x4f7524)=>{'use strict';_0x4f7524['r'](_0x540135),_0x4f7524['d'](_0x540135,{'default':()=>_0x45bc09});var _0x1ee01b=_0x4f7524(0xd773),_0x267431=_0x4f7524(0x5433),_0x2aa5bb=_0x4f7524(0x10edb),_0x495e84=_0x4f7524(0xc541),_0x3ac4c7=_0x4f7524(0x14a5a);function _0x45bc09(){const _0xbbcdaf=_0x4827;let {user:_0x345952,loading:_0x449103}=(0x0,_0x2aa5bb['A'])(),_0x2d077b=(0x0,_0x495e84['useRouter'])(),_0x2ea37c=(0x0,_0x495e84[_0xbbcdaf(0x133)])()['get']('id'),{ticket:_0x404dae,loading:_0x22fb4b,error:_0x1d0496,refetch:_0xdda762}=(0x0,_0x3ac4c7['yS'])(_0x2ea37c||''),{updateTicket:_0x39a74d,loading:_0x2ffcba}=(0x0,_0x3ac4c7['tY'])(),{addMessage:_0x410ae8,loading:_0x42cbb7}=(0x0,_0x3ac4c7['c0'])(),[_0x2a8bdd,_0x4fd126]=(0x0,_0x267431['useState'])(''),[_0x36e570,_0x9d28bd]=(0x0,_0x267431['useState'])(null);(0x0,_0x267431['useEffect'])(()=>{const _0x123d45=_0xbbcdaf;_0x449103||_0x345952||_0x2d077b[_0x123d45(0xff)](_0x123d45(0x13a));},[_0x345952,_0x449103,_0x2d077b]);let _0x1daea0=async()=>{const _0x1928fe=_0xbbcdaf;if(_0x2a8bdd[_0x1928fe(0xfd)]()&&_0x2ea37c)try{await _0x410ae8({'ticketId':_0x2ea37c,'message':_0x2a8bdd}),_0x4fd126(''),_0xdda762();}catch(_0x596efc){console['error'](_0x1928fe(0x15a),_0x596efc);}},_0x33d246=async _0x2e0b90=>{if(_0x2ea37c)try{await _0x39a74d({'ticketId':_0x2ea37c,'satisfaction_rating':_0x2e0b90}),_0x9d28bd(_0x2e0b90),_0xdda762();}catch(_0x17f1ca){console['error']('Failed\x20to\x20rate\x20ticket:',_0x17f1ca);}};return _0x2ea37c?_0x449103||_0x22fb4b?(0x0,_0x1ee01b[_0xbbcdaf(0x140)])('div',{'className':'flex\x20items-center\x20justify-center\x20min-h-screen','children':(0x0,_0x1ee01b[_0xbbcdaf(0x142)])(_0xbbcdaf(0x100),{'className':_0xbbcdaf(0x156),'children':[(0x0,_0x1ee01b['jsx'])('div',{'className':_0xbbcdaf(0xf4)}),(0x0,_0x1ee01b[_0xbbcdaf(0x140)])('p',{'className':_0xbbcdaf(0x158),'children':_0xbbcdaf(0xe8)})]})}):_0x1d0496||!_0x404dae?(0x0,_0x1ee01b[_0xbbcdaf(0x140)])(_0xbbcdaf(0x100),{'className':'flex\x20items-center\x20justify-center\x20min-h-screen','children':(0x0,_0x1ee01b[_0xbbcdaf(0x142)])(_0xbbcdaf(0x100),{'className':_0xbbcdaf(0x156),'children':[(0x0,_0x1ee01b['jsx'])('p',{'className':_0xbbcdaf(0x11c),'children':'Failed\x20to\x20load\x20ticket'}),(0x0,_0x1ee01b['jsx'])('button',{'onClick':()=>_0x2d077b[_0xbbcdaf(0xff)]('/support'),'className':'mt-4\x20text-emerald-600\x20hover:text-emerald-700','children':'Back\x20to\x20Support'})]})}):(0x0,_0x1ee01b[_0xbbcdaf(0x140)])(_0xbbcdaf(0x100),{'className':'min-h-screen\x20bg-gray-50\x20py-8','children':(0x0,_0x1ee01b['jsxs'])('div',{'className':_0xbbcdaf(0x143),'children':[(0x0,_0x1ee01b[_0xbbcdaf(0x142)])('div',{'className':'mb-6','children':[(0x0,_0x1ee01b['jsx'])(_0xbbcdaf(0x12c),{'onClick':()=>_0x2d077b[_0xbbcdaf(0xff)](_0xbbcdaf(0x121)),'className':_0xbbcdaf(0xe6),'children':'←\x20Back\x20to\x20Support'}),(0x0,_0x1ee01b['jsx'])('h1',{'className':'text-3xl\x20font-bold\x20text-gray-900','children':_0x404dae[_0xbbcdaf(0x14f)]})]}),(0x0,_0x1ee01b['jsxs'])('div',{'className':'bg-white\x20rounded-lg\x20shadow-md\x20p-6\x20mb-6','children':[(0x0,_0x1ee01b[_0xbbcdaf(0x142)])('div',{'className':_0xbbcdaf(0x104),'children':[(0x0,_0x1ee01b['jsxs'])('div',{'className':'flex\x20items-center\x20gap-3','children':[(0x0,_0x1ee01b['jsx'])('span',{'className':_0xbbcdaf(0x108)+({'open':'bg-blue-100\x20text-blue-800','in_progress':'bg-yellow-100\x20text-yellow-800','waiting_response':_0xbbcdaf(0x141),'escalated':'bg-red-100\x20text-red-800','resolved':'bg-green-100\x20text-green-800','closed':_0xbbcdaf(0x146)}[_0x404dae[_0xbbcdaf(0x12f)]]||'bg-gray-100\x20text-gray-800'),'children':_0x404dae['status'][_0xbbcdaf(0x14a)]('_')[_0xbbcdaf(0xf6)](_0x418274=>_0x418274[_0xbbcdaf(0x122)](0x0)[_0xbbcdaf(0x10f)]()+_0x418274['slice'](0x1))[_0xbbcdaf(0x134)]('\x20')}),(0x0,_0x1ee01b['jsx'])('span',{'className':'px-3\x20py-1\x20text-sm\x20font-medium\x20rounded-full\x20'+({'low':_0xbbcdaf(0x146),'medium':'bg-blue-100\x20text-blue-800','high':_0xbbcdaf(0x105),'urgent':'bg-red-100\x20text-red-800'}[_0x404dae['priority']]||'bg-gray-100\x20text-gray-800'),'children':_0x404dae[_0xbbcdaf(0xf7)]})]}),(0x0,_0x1ee01b['jsxs'])(_0xbbcdaf(0x14e),{'className':'text-sm\x20text-gray-500','children':[_0xbbcdaf(0x13e),_0x154042(_0x404dae[_0xbbcdaf(0xeb)])]})]}),(0x0,_0x1ee01b[_0xbbcdaf(0x142)])(_0xbbcdaf(0x100),{'className':_0xbbcdaf(0xef),'children':[(0x0,_0x1ee01b[_0xbbcdaf(0x140)])('p',{'className':_0xbbcdaf(0xfb),'children':'Original\x20Request:'}),(0x0,_0x1ee01b['jsx'])('p',{'className':'text-gray-700\x20whitespace-pre-wrap','children':_0x404dae['description']})]}),(0x0,_0x1ee01b[_0xbbcdaf(0x142)])(_0xbbcdaf(0x100),{'className':_0xbbcdaf(0x11f),'children':[(0x0,_0x1ee01b[_0xbbcdaf(0x142)])('div',{'children':[(0x0,_0x1ee01b[_0xbbcdaf(0x140)])(_0xbbcdaf(0x14e),{'className':_0xbbcdaf(0xe9),'children':_0xbbcdaf(0x153)}),(0x0,_0x1ee01b[_0xbbcdaf(0x140)])('span',{'className':_0xbbcdaf(0x130),'children':_0x404dae['category'][_0xbbcdaf(0x14a)]('_')['map'](_0x27177f=>_0x27177f['charAt'](0x0)['toUpperCase']()+_0x27177f['slice'](0x1))['join']('\x20')})]}),_0x404dae['assigned_to']&&_0x404dae['assignee']&&(0x0,_0x1ee01b['jsxs'])('div',{'children':[(0x0,_0x1ee01b[_0xbbcdaf(0x140)])('span',{'className':'text-gray-600','children':'Assigned\x20to:'}),(0x0,_0x1ee01b[_0xbbcdaf(0x140)])(_0xbbcdaf(0x14e),{'className':'ml-2\x20font-medium','children':_0x404dae['assignee']['display_name']})]})]})]}),(0x0,_0x1ee01b[_0xbbcdaf(0x142)])('div',{'className':'bg-white\x20rounded-lg\x20shadow-md\x20p-6\x20mb-6','children':[(0x0,_0x1ee01b['jsx'])('h2',{'className':'text-xl\x20font-semibold\x20mb-4','children':'Conversation'}),(0x0,_0x1ee01b[_0xbbcdaf(0x140)])('div',{'className':_0xbbcdaf(0x101),'children':_0x404dae[_0xbbcdaf(0x149)]['filter'](_0x52a6d8=>!_0x52a6d8[_0xbbcdaf(0x15c)])[_0xbbcdaf(0xf6)](_0x1e5387=>{const _0x12eedd=_0xbbcdaf;let _0x5e677e=_0x1e5387['author']&&['support',_0x12eedd(0x144),'admin']['includes'](_0x1e5387['author'][_0x12eedd(0x138)]);return(0x0,_0x1ee01b[_0x12eedd(0x142)])(_0x12eedd(0x100),{'className':'p-4\x20rounded-lg\x20'+(_0x1e5387[_0x12eedd(0x15b)]?_0x12eedd(0xf8):_0x5e677e?'bg-blue-50\x20border\x20border-blue-200':_0x12eedd(0x151)),'children':[(0x0,_0x1ee01b['jsxs'])(_0x12eedd(0x100),{'className':'flex\x20items-start\x20justify-between\x20mb-2','children':[(0x0,_0x1ee01b[_0x12eedd(0x142)])(_0x12eedd(0x100),{'className':'flex\x20items-center\x20gap-2','children':[(0x0,_0x1ee01b['jsx'])('span',{'className':'font-semibold\x20text-gray-900','children':_0x1e5387[_0x12eedd(0x155)]?.[_0x12eedd(0x14d)]||_0x12eedd(0x15d)}),_0x5e677e&&(0x0,_0x1ee01b[_0x12eedd(0x140)])(_0x12eedd(0x14e),{'className':_0x12eedd(0x129),'children':'Support\x20Team'})]}),(0x0,_0x1ee01b[_0x12eedd(0x140)])('span',{'className':'text-xs\x20text-gray-500','children':_0x154042(_0x1e5387[_0x12eedd(0xeb)])})]}),(0x0,_0x1ee01b['jsx'])('p',{'className':'text-gray-700\x20whitespace-pre-wrap','children':_0x1e5387[_0x12eedd(0xf1)]})]},_0x1e5387['id']);})}),'closed'!==_0x404dae['status']&&(0x0,_0x1ee01b['jsxs'])('div',{'className':'border-t\x20pt-4','children':[(0x0,_0x1ee01b['jsx'])('textarea',{'value':_0x2a8bdd,'onChange':_0x192d26=>_0x4fd126(_0x192d26[_0xbbcdaf(0xf5)][_0xbbcdaf(0x12b)]),'placeholder':'Type\x20your\x20reply...','className':_0xbbcdaf(0x150),'rows':0x4}),(0x0,_0x1ee01b['jsx'])('div',{'className':_0xbbcdaf(0x159),'children':(0x0,_0x1ee01b['jsx'])(_0xbbcdaf(0x12c),{'onClick':_0x1daea0,'disabled':_0x42cbb7||!_0x2a8bdd[_0xbbcdaf(0xfd)](),'className':_0xbbcdaf(0x11b),'children':_0x42cbb7?_0xbbcdaf(0x102):_0xbbcdaf(0x10c)})})]})]}),'resolved'===_0x404dae[_0xbbcdaf(0x12f)]&&!_0x404dae[_0xbbcdaf(0x123)]&&(0x0,_0x1ee01b[_0xbbcdaf(0x142)])('div',{'className':'bg-white\x20rounded-lg\x20shadow-md\x20p-6','children':[(0x0,_0x1ee01b[_0xbbcdaf(0x140)])('h3',{'className':_0xbbcdaf(0x109),'children':'Rate\x20Your\x20Support\x20Experience'}),(0x0,_0x1ee01b[_0xbbcdaf(0x140)])('p',{'className':'text-gray-600\x20mb-4','children':'How\x20satisfied\x20are\x20you\x20with\x20the\x20resolution?'}),(0x0,_0x1ee01b[_0xbbcdaf(0x140)])(_0xbbcdaf(0x100),{'className':_0xbbcdaf(0xf3),'children':[0x1,0x2,0x3,0x4,0x5]['map'](_0x5f2e7e=>(0x0,_0x1ee01b['jsx'])('button',{'onClick':()=>_0x33d246(_0x5f2e7e),'disabled':_0x2ffcba,'className':'text-4xl\x20hover:scale-110\x20transition-transform\x20disabled:opacity-50','children':_0x5f2e7e<=(_0x36e570||0x0)?'⭐':'☆'},_0x5f2e7e))})]}),_0x404dae[_0xbbcdaf(0x123)]&&(0x0,_0x1ee01b['jsxs'])(_0xbbcdaf(0x100),{'className':_0xbbcdaf(0x128),'children':[(0x0,_0x1ee01b['jsx'])('p',{'className':'text-green-800','children':_0xbbcdaf(0x125)}),(0x0,_0x1ee01b['jsx'])('div',{'className':_0xbbcdaf(0x115),'children':[0x1,0x2,0x3,0x4,0x5][_0xbbcdaf(0xf6)](_0x2034af=>(0x0,_0x1ee01b[_0xbbcdaf(0x140)])('span',{'className':_0xbbcdaf(0x152),'children':_0x2034af<=_0x404dae['satisfaction_rating']?'⭐':'☆'},_0x2034af))})]})]})}):(0x0,_0x1ee01b[_0xbbcdaf(0x140)])(_0xbbcdaf(0x100),{'className':_0xbbcdaf(0xfe),'children':(0x0,_0x1ee01b[_0xbbcdaf(0x140)])('div',{'className':'max-w-4xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','children':(0x0,_0x1ee01b[_0xbbcdaf(0x142)])(_0xbbcdaf(0x100),{'className':_0xbbcdaf(0x156),'children':[(0x0,_0x1ee01b[_0xbbcdaf(0x140)])('h2',{'className':'text-2xl\x20font-bold\x20text-gray-900','children':'Ticket\x20Not\x20Found'}),(0x0,_0x1ee01b[_0xbbcdaf(0x140)])('p',{'className':_0xbbcdaf(0x139),'children':_0xbbcdaf(0xed)}),(0x0,_0x1ee01b['jsx'])(_0xbbcdaf(0x12c),{'onClick':()=>_0x2d077b['push'](_0xbbcdaf(0x121)),'className':'mt-4\x20px-4\x20py-2\x20bg-emerald-600\x20text-white\x20rounded-lg\x20hover:bg-emerald-700','children':'Back\x20to\x20Support'})]})})});}function _0x154042(_0x1028e5){const _0x5a25a8=_0x4827;return new Date(_0x1028e5)[_0x5a25a8(0x116)]();}},0xb73f:(_0x2f4c02,_0x4d5304,_0x7908e7)=>{const _0x558977=_0x7c1f4c;Promise['resolve']()[_0x558977(0x107)](_0x7908e7['bind'](_0x7908e7,0x9c1c));},0xc541:(_0x52558c,_0x32f7d0,_0x446930)=>{'use strict';const _0x2c24e5=_0x7c1f4c;var _0x41709a=_0x446930(0xed0d);_0x446930['o'](_0x41709a,'usePathname')&&_0x446930['d'](_0x32f7d0,{'usePathname':function(){return _0x41709a['usePathname'];}}),_0x446930['o'](_0x41709a,_0x2c24e5(0x120))&&_0x446930['d'](_0x32f7d0,{'useRouter':function(){return _0x41709a['useRouter'];}}),_0x446930['o'](_0x41709a,_0x2c24e5(0x133))&&_0x446930['d'](_0x32f7d0,{'useSearchParams':function(){const _0x1ce0ca=_0x2c24e5;return _0x41709a[_0x1ce0ca(0x133)];}});},0x10edb:(_0x1bdb37,_0x4e7433,_0x271a4b)=>{'use strict';_0x271a4b['d'](_0x4e7433,{'A':()=>_0x340c34});var _0x5cfd9a=_0x271a4b(0x5433),_0x30e378=_0x271a4b(0x3e0d);function _0x340c34(){const _0x11486c=_0x4827;let [_0x191280,_0x264e2a]=(0x0,_0x5cfd9a['useState'])(null),[_0x203449,_0x104402]=(0x0,_0x5cfd9a[_0x11486c(0xe5)])(!0x0),[_0x144ab5,_0x4f3bd2]=(0x0,_0x5cfd9a['useState'])(!0x1),[_0x49c21c,_0x4c4de7]=(0x0,_0x5cfd9a[_0x11486c(0xe5)])(null),_0x432686=(0x0,_0x5cfd9a[_0x11486c(0x145)])(async()=>{const _0x5663b3=_0x11486c;try{let _0x26c58b=(0x0,_0x30e378[_0x5663b3(0x147)])(),{data:_0x2cc67a,error:_0x145ffb}=await _0x26c58b['auth'][_0x5663b3(0x119)]();if(_0x145ffb)return console[_0x5663b3(0x12d)]('[useAuth]\x20Refresh\x20error:',_0x145ffb),!0x1;if(!_0x2cc67a?.['session'])return console[_0x5663b3(0x12d)](_0x5663b3(0xfc)),!0x1;return _0x4c4de7(_0x2cc67a[_0x5663b3(0x135)]),_0x264e2a(_0x2cc67a[_0x5663b3(0x135)][_0x5663b3(0xe7)]),console['log'](_0x5663b3(0xfa)),!0x0;}catch(_0x40ff3e){return console[_0x5663b3(0x12d)](_0x5663b3(0x118),_0x40ff3e),!0x1;}},[]);return(0x0,_0x5cfd9a['useEffect'])(()=>{const _0x2b317c=_0x11486c;_0x30e378[_0x2b317c(0x112)]['getUser']()[_0x2b317c(0x107)](({data:{user:_0x37671e}})=>{_0x264e2a(_0x37671e),_0x104402(!0x1),_0x4f3bd2(!0x0);})[_0x2b317c(0x154)](()=>{_0x104402(!0x1),_0x4f3bd2(!0x0);});let {data:{subscription:_0x273e98}}=_0x30e378['api']['onAuthStateChange'](async(_0x32586c,_0x4ef791)=>{const _0x490301=_0x2b317c;console[_0x490301(0x10d)](_0x490301(0x13c),_0x32586c),'TOKEN_REFRESHED'===_0x32586c&&console['log']('[useAuth]\x20Token\x20refreshed\x20successfully'),_0x4c4de7(_0x4ef791),_0x264e2a(_0x4ef791?.['user']??null),_0x104402(!0x1),_0x4f3bd2(!0x0);});return()=>_0x273e98['unsubscribe']();},[]),{'user':_0x191280,'session':_0x49c21c,'loading':_0x203449,'isReady':_0x144ab5,'authenticated':!!_0x191280,'refreshSession':_0x432686,'signOut':()=>_0x30e378[_0x11486c(0x112)]['signOut']()};}},0x14a5a:(_0x3fe781,_0x1f29af,_0x51ffa2)=>{'use strict';_0x51ffa2['d'](_0x1f29af,{'c0':()=>_0x2d2ab0,'Gs':()=>_0xbb512d,'oJ':()=>_0x5ab0db,'yS':()=>_0x1439fd,'dS':()=>_0x43918a,'tY':()=>_0x1000f6});var _0x15cf04=_0x51ffa2(0x5433),_0x3fcfbe=_0x51ffa2(0x3e0d);function _0x1aab0b(_0x52463d={}){let {onTicketCreated:_0x105980,onTicketUpdated:_0x522c5a,onTicketDeleted:_0x3b51da,onMessageAdded:_0x3b8733,ticketId:_0x3ecc64}=_0x52463d;(0x0,_0x15cf04['useEffect'])(()=>{const _0x1eec00=_0x4827;let _0x171b8f=(0x0,_0x3fcfbe[_0x1eec00(0x147)])(),_0x327c54=_0x171b8f[_0x1eec00(0x114)](_0x1eec00(0x10a))['on'](_0x1eec00(0x126),{'event':_0x1eec00(0x136),'schema':'api','table':'support_tickets'},_0x2b18c3=>{const _0x21d59f=_0x1eec00;console[_0x21d59f(0x10d)](_0x21d59f(0xf2),_0x2b18c3),_0x105980?.(_0x2b18c3);})['on'](_0x1eec00(0x126),{'event':'UPDATE','schema':'api','table':'support_tickets',..._0x3ecc64?{'filter':_0x1eec00(0x11e)+_0x3ecc64}:{}},_0x58ec38=>{const _0x3957f2=_0x1eec00;console[_0x3957f2(0x10d)]('Ticket\x20updated:',_0x58ec38),_0x522c5a?.(_0x58ec38);})['on']('postgres_changes',{'event':_0x1eec00(0x157),'schema':'api','table':'support_tickets'},_0x51e146=>{const _0x35b45c=_0x1eec00;console['log'](_0x35b45c(0xea),_0x51e146),_0x3b51da?.(_0x51e146);})['subscribe'](),_0x37a44f=null;return _0x3ecc64&&_0x3b8733&&(_0x37a44f=_0x171b8f[_0x1eec00(0x114)](_0x1eec00(0x106))['on'](_0x1eec00(0x126),{'event':_0x1eec00(0x136),'schema':_0x1eec00(0x112),'table':_0x1eec00(0x12e),'filter':_0x1eec00(0x132)+_0x3ecc64},_0x354f0c=>{const _0x257851=_0x1eec00;console['log'](_0x257851(0x137),_0x354f0c),_0x3b8733(_0x354f0c);})[_0x1eec00(0x117)]()),()=>{const _0x10d075=_0x1eec00;_0x171b8f[_0x10d075(0x13d)](_0x327c54),_0x37a44f&&_0x171b8f['removeChannel'](_0x37a44f);};},[_0x105980,_0x522c5a,_0x3b51da,_0x3b8733,_0x3ecc64]);}function _0x43918a(_0x95982c={}){const _0x22df84=_0x4827;let [_0x1d4e7a,_0x24db3b]=(0x0,_0x15cf04[_0x22df84(0xe5)])([]),[_0x40efa3,_0x13113d]=(0x0,_0x15cf04['useState'])(!0x0),[_0x357902,_0x1ff4b4]=(0x0,_0x15cf04[_0x22df84(0xe5)])(null),[_0x186ada,_0x423770]=(0x0,_0x15cf04['useState'])(0x0),_0x33eb2c=(0x0,_0x15cf04['useCallback'])(async()=>{const _0x39848e=_0x22df84;try{_0x13113d(!0x0),_0x1ff4b4(null);let {tickets:_0x40189d,total:_0x3f4f5f}=await _0x3fcfbe['api'][_0x39848e(0x11d)]({'status':_0x95982c['status'],'category':_0x95982c['category'],'assigned_to':_0x95982c[_0x39848e(0x110)]});_0x24db3b(_0x40189d),_0x423770(_0x3f4f5f);}catch(_0x224eaa){_0x1ff4b4(_0x224eaa instanceof Error?_0x224eaa[_0x39848e(0xf1)]:_0x39848e(0x14c));}finally{_0x13113d(!0x1);}},[_0x95982c[_0x22df84(0x12f)],_0x95982c['category'],_0x95982c[_0x22df84(0x110)]]);return(0x0,_0x15cf04['useEffect'])(()=>{const _0x31bc65=_0x22df84;if(_0x33eb2c(),_0x95982c['autoRefresh']&&_0x95982c['refreshInterval']){let _0x4c08bd=setInterval(_0x33eb2c,_0x95982c[_0x31bc65(0x10b)]);return()=>clearInterval(_0x4c08bd);}},[_0x33eb2c,_0x95982c['autoRefresh'],_0x95982c[_0x22df84(0x10b)]]),_0x1aab0b({'onTicketCreated':!0x1!==_0x95982c['enableRealtime']?()=>_0x33eb2c():void 0x0,'onTicketUpdated':!0x1!==_0x95982c[_0x22df84(0x124)]?()=>_0x33eb2c():void 0x0,'onTicketDeleted':!0x1!==_0x95982c['enableRealtime']?()=>_0x33eb2c():void 0x0}),{'tickets':_0x1d4e7a,'loading':_0x40efa3,'error':_0x357902,'total':_0x186ada,'refetch':_0x33eb2c};}function _0x1439fd(_0x363bd3,_0x43b5ca=!0x0){const _0x44798b=_0x4827;let [_0x216c84,_0x335376]=(0x0,_0x15cf04['useState'])(null),[_0x4ba3d9,_0x49bdd9]=(0x0,_0x15cf04[_0x44798b(0xe5)])(!0x0),[_0x31a34f,_0x4be9c1]=(0x0,_0x15cf04[_0x44798b(0xe5)])(null),_0x87ea50=(0x0,_0x15cf04[_0x44798b(0x145)])(async()=>{if(!_0x363bd3){_0x335376(null),_0x49bdd9(!0x1);return;}try{_0x49bdd9(!0x0),_0x4be9c1(null);let _0x432c7b=await _0x3fcfbe['api']['getTicket'](_0x363bd3);_0x335376(_0x432c7b);}catch(_0x3e91e2){_0x4be9c1(_0x3e91e2 instanceof Error?_0x3e91e2['message']:'Failed\x20to\x20fetch\x20ticket');}finally{_0x49bdd9(!0x1);}},[_0x363bd3]);return(0x0,_0x15cf04[_0x44798b(0x111)])(()=>{_0x87ea50();},[_0x87ea50]),_0x1aab0b({'ticketId':_0x363bd3||void 0x0,'onTicketUpdated':_0x43b5ca?()=>_0x87ea50():void 0x0,'onMessageAdded':_0x43b5ca?()=>_0x87ea50():void 0x0}),{'ticket':_0x216c84,'loading':_0x4ba3d9,'error':_0x31a34f,'refetch':_0x87ea50};}function _0xbb512d(){const _0x5e14ef=_0x4827;let [_0x352b4a,_0x37ba63]=(0x0,_0x15cf04[_0x5e14ef(0xe5)])(!0x1),[_0x154ed8,_0x5a1bd0]=(0x0,_0x15cf04['useState'])(null);return{'createTicket':async _0x595cb3=>{const _0x55f01f=_0x5e14ef;try{return _0x37ba63(!0x0),_0x5a1bd0(null),(await _0x3fcfbe['api']['createTicket'](_0x595cb3))[_0x55f01f(0x11a)];}catch(_0x45a531){let _0x44841d=_0x45a531 instanceof Error?_0x45a531['message']:_0x55f01f(0x12a);throw _0x5a1bd0(_0x44841d),Error(_0x44841d);}finally{_0x37ba63(!0x1);}},'loading':_0x352b4a,'error':_0x154ed8};}function _0x1000f6(){const _0x573439=_0x4827;let [_0x2b8bf2,_0xd9fc89]=(0x0,_0x15cf04[_0x573439(0xe5)])(!0x1),[_0x275e4a,_0x5ecdd6]=(0x0,_0x15cf04[_0x573439(0xe5)])(null);return{'updateTicket':async _0x5df708=>{const _0x3b4a90=_0x573439;try{return _0xd9fc89(!0x0),_0x5ecdd6(null),(await _0x3fcfbe[_0x3b4a90(0x112)][_0x3b4a90(0xec)](_0x5df708))['ticket'];}catch(_0x28bf24){let _0x231a1d=_0x28bf24 instanceof Error?_0x28bf24['message']:_0x3b4a90(0x13f);throw _0x5ecdd6(_0x231a1d),Error(_0x231a1d);}finally{_0xd9fc89(!0x1);}},'loading':_0x2b8bf2,'error':_0x275e4a};}function _0x5ab0db(){const _0x3029ba=_0x4827;let [_0x111915,_0x27cde5]=(0x0,_0x15cf04['useState'])(!0x1),[_0x3ae5f1,_0x5f3dcc]=(0x0,_0x15cf04[_0x3029ba(0xe5)])(null);return{'escalateTicket':async _0x4a3126=>{const _0x1a5c02=_0x3029ba;try{return _0x27cde5(!0x0),_0x5f3dcc(null),(await _0x3fcfbe[_0x1a5c02(0x112)]['escalateTicket'](_0x4a3126))[_0x1a5c02(0x11a)];}catch(_0x20d874){let _0x419ca8=_0x20d874 instanceof Error?_0x20d874[_0x1a5c02(0xf1)]:'Failed\x20to\x20escalate\x20ticket';throw _0x5f3dcc(_0x419ca8),Error(_0x419ca8);}finally{_0x27cde5(!0x1);}},'loading':_0x111915,'error':_0x3ae5f1};}function _0x2d2ab0(){const _0x10e601=_0x4827;let [_0x5b288f,_0x2ca1bc]=(0x0,_0x15cf04['useState'])(!0x1),[_0x1ab2f5,_0x5eb419]=(0x0,_0x15cf04[_0x10e601(0xe5)])(null);return{'addMessage':async _0x1a8d22=>{const _0x549702=_0x10e601;try{return _0x2ca1bc(!0x0),_0x5eb419(null),(await _0x3fcfbe[_0x549702(0x112)][_0x549702(0x103)](_0x1a8d22))['message'];}catch(_0x392406){let _0x38ddf8=_0x392406 instanceof Error?_0x392406['message']:'Failed\x20to\x20add\x20message';throw _0x5eb419(_0x38ddf8),Error(_0x38ddf8);}finally{_0x2ca1bc(!0x1);}},'loading':_0x5b288f,'error':_0x1ab2f5};}}},_0x1ebb2b=>{_0x1ebb2b['O'](0x0,[0x2603,0x259f,0x16fd,0x1b1b,0x492,0x1cbe],()=>_0x1ebb2b(_0x1ebb2b['s']=0xb73f)),_N_E=_0x1ebb2b['O']();}]));