function _0x461b(){const _0x13aaa2=['text-2xl','status','text-sm\x20font-medium\x20text-gray-700\x20mb-2','Sending...','slice','admin','18Efwrhj','split','Ticket\x20deleted:','resolve','useEffect','flex\x20gap-2','bg-gray-50\x20border\x20border-gray-200','w-full\x20px-4\x20py-3\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent\x20resize-none','log','target','support_tickets','text-green-800','category','text-xl\x20font-semibold\x20mb-4','Thank\x20you\x20for\x20rating\x20this\x20ticket!\x20Your\x20feedback\x20helps\x20us\x20improve.','trim','session','satisfaction_rating','jsx','useSearchParams','id=eq.','bg-white\x20rounded-lg\x20shadow-md\x20p-6','Send\x20Reply','created_at','getUser','text-sm\x20text-gray-500','258zsBmii','p-4\x20rounded-lg\x20','[useAuth]\x20Token\x20refreshed\x20successfully','push','930820kvGnKp','px-6\x20py-2\x20bg-emerald-600\x20text-white\x20rounded-lg\x20hover:bg-emerald-700\x20disabled:opacity-50\x20disabled:cursor-not-allowed','channel','px-4\x20py-2\x20text-sm\x20font-medium\x20rounded-full\x20','getTickets','filter','value','user_role','support_tickets_changes','[useAuth]\x20No\x20session\x20returned\x20after\x20refresh','bg-orange-100\x20text-orange-800','text-3xl\x20font-bold\x20text-gray-900','display_name','span','bg-green-100\x20text-green-800','bg-red-100\x20text-red-800','useCallback','text-xs\x20text-gray-500','Ticket\x20Not\x20Found','closed','ticket_id=eq.','text-4xl\x20hover:scale-110\x20transition-transform\x20disabled:opacity-50','is_internal','133184lLSKRS','error','126478ewTffO','mt-4\x20text-gray-600','bg-blue-50\x20border\x20border-blue-200','messages','charAt','flex\x20items-start\x20justify-between\x20mb-2','Type\x20your\x20reply...','useRouter','Created\x20','ticket_messages_changes','4196850OGPEye','flex\x20justify-end\x20mt-3','usePathname','UPDATE','Failed\x20to\x20update\x20ticket','button','bg-blue-100\x20text-blue-800','assigned_to','bg-white\x20rounded-lg\x20shadow-md\x20p-6\x20mb-6','api','manager','postgres_changes','webpackChunk_N_E','[useAuth]\x20Session\x20refreshed\x20successfully','getSupabase','user','2452986WTgarY','useState','priority','ticket','author','INSERT','text-gray-600','title','4HfliLi','mt-4\x20text-emerald-600\x20hover:text-emerald-700','map','DELETE','No\x20ticket\x20ID\x20provided.','toUpperCase','addTicketMessage','is_system','How\x20satisfied\x20are\x20you\x20with\x20the\x20resolution?','Failed\x20to\x20add\x20message','←\x20Back\x20to\x20Support','Support\x20Team','TOKEN_REFRESHED','4NVHXHC','235051UnXyRX','animate-spin\x20rounded-full\x20h-12\x20w-12\x20border-b-2\x20border-emerald-600\x20mx-auto','[useAuth]\x20Refresh\x20error:','escalateTicket','message','text-lg\x20font-semibold\x20mb-4','div','refreshInterval','support','11508FGKteG','font-semibold\x20text-gray-900','subscribe','Rate\x20Your\x20Support\x20Experience','enableRealtime','jsxs','Failed\x20to\x20fetch\x20ticket','text-center','removeChannel','refreshSession','156izFtdR'];_0x461b=function(){return _0x13aaa2;};return _0x461b();}function _0x221f(_0x3c0d6e,_0x13e0f5){_0x3c0d6e=_0x3c0d6e-0x175;const _0x461b2e=_0x461b();let _0x221f23=_0x461b2e[_0x3c0d6e];return _0x221f23;}const _0x200010=_0x221f;(function(_0x5480bd,_0x1b1c11){const _0x4af81b=_0x221f,_0xbdcba6=_0x5480bd();while(!![]){try{const _0x533cba=-parseInt(_0x4af81b(0x1ee))/0x1*(-parseInt(_0x4af81b(0x1e0))/0x2)+parseInt(_0x4af81b(0x1d8))/0x3+-parseInt(_0x4af81b(0x1ed))/0x4*(parseInt(_0x4af81b(0x1c8))/0x5)+parseInt(_0x4af81b(0x1a1))/0x6*(-parseInt(_0x4af81b(0x176))/0x7)+parseInt(_0x4af81b(0x1bc))/0x8*(parseInt(_0x4af81b(0x187))/0x9)+parseInt(_0x4af81b(0x1a5))/0xa+parseInt(_0x4af81b(0x1be))/0xb*(parseInt(_0x4af81b(0x180))/0xc);if(_0x533cba===_0x1b1c11)break;else _0xbdcba6['push'](_0xbdcba6['shift']());}catch(_0x214680){_0xbdcba6['push'](_0xbdcba6['shift']());}}}(_0x461b,0x9f8f2),(self[_0x200010(0x1d4)]=self['webpackChunk_N_E']||[])[_0x200010(0x1a4)]([[0xac3],{0x9c1c:(_0x8b513f,_0x38e634,_0x5428c1)=>{'use strict';_0x5428c1['r'](_0x38e634),_0x5428c1['d'](_0x38e634,{'default':()=>_0x2e5290});var _0x3d5be1=_0x5428c1(0xd773),_0x3a6392=_0x5428c1(0x5433),_0x34d607=_0x5428c1(0x10edb),_0x28eeb5=_0x5428c1(0xc541),_0x5a33e8=_0x5428c1(0x14a5a);function _0x2e5290(){const _0x196d7c=_0x221f;let {user:_0x482698,loading:_0x4a3d49}=(0x0,_0x34d607['A'])(),_0x111eda=(0x0,_0x28eeb5['useRouter'])(),_0x5737b3=(0x0,_0x28eeb5[_0x196d7c(0x19a)])()['get']('id'),{ticket:_0x4d69c1,loading:_0x2bd9ef,error:_0x19de1e,refetch:_0x2dacb2}=(0x0,_0x5a33e8['yS'])(_0x5737b3||''),{updateTicket:_0x2374e2,loading:_0x5cf809}=(0x0,_0x5a33e8['tY'])(),{addMessage:_0x3e296e,loading:_0x596c79}=(0x0,_0x5a33e8['c0'])(),[_0x1410db,_0x26367a]=(0x0,_0x3a6392[_0x196d7c(0x1d9)])(''),[_0x103c62,_0x5900b9]=(0x0,_0x3a6392['useState'])(null);(0x0,_0x3a6392['useEffect'])(()=>{_0x4a3d49||_0x482698||_0x111eda['push']('/auth/login');},[_0x482698,_0x4a3d49,_0x111eda]);let _0x219765=async()=>{const _0x414946=_0x196d7c;if(_0x1410db[_0x414946(0x196)]()&&_0x5737b3)try{await _0x3e296e({'ticketId':_0x5737b3,'message':_0x1410db}),_0x26367a(''),_0x2dacb2();}catch(_0x161169){console['error']('Failed\x20to\x20send\x20message:',_0x161169);}},_0x4aff5e=async _0x3f5fd=>{const _0x17d2c7=_0x196d7c;if(_0x5737b3)try{await _0x2374e2({'ticketId':_0x5737b3,'satisfaction_rating':_0x3f5fd}),_0x5900b9(_0x3f5fd),_0x2dacb2();}catch(_0x1ec40d){console[_0x17d2c7(0x1bd)]('Failed\x20to\x20rate\x20ticket:',_0x1ec40d);}};return _0x5737b3?_0x4a3d49||_0x2bd9ef?(0x0,_0x3d5be1[_0x196d7c(0x199)])(_0x196d7c(0x1f4),{'className':'flex\x20items-center\x20justify-center\x20min-h-screen','children':(0x0,_0x3d5be1['jsxs'])('div',{'className':'text-center','children':[(0x0,_0x3d5be1['jsx'])('div',{'className':_0x196d7c(0x1ef)}),(0x0,_0x3d5be1[_0x196d7c(0x199)])('p',{'className':_0x196d7c(0x1bf),'children':'Loading\x20ticket...'})]})}):_0x19de1e||!_0x4d69c1?(0x0,_0x3d5be1[_0x196d7c(0x199)])(_0x196d7c(0x1f4),{'className':'flex\x20items-center\x20justify-center\x20min-h-screen','children':(0x0,_0x3d5be1['jsxs'])('div',{'className':_0x196d7c(0x17d),'children':[(0x0,_0x3d5be1['jsx'])('p',{'className':'text-red-600','children':'Failed\x20to\x20load\x20ticket'}),(0x0,_0x3d5be1[_0x196d7c(0x199)])(_0x196d7c(0x1cd),{'onClick':()=>_0x111eda[_0x196d7c(0x1a4)]('/support'),'className':_0x196d7c(0x1e1),'children':'Back\x20to\x20Support'})]})}):(0x0,_0x3d5be1[_0x196d7c(0x199)])('div',{'className':'min-h-screen\x20bg-gray-50\x20py-8','children':(0x0,_0x3d5be1[_0x196d7c(0x17b)])('div',{'className':'max-w-4xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','children':[(0x0,_0x3d5be1['jsxs'])(_0x196d7c(0x1f4),{'className':'mb-6','children':[(0x0,_0x3d5be1[_0x196d7c(0x199)])('button',{'onClick':()=>_0x111eda['push']('/support'),'className':'text-gray-600\x20hover:text-gray-900\x20mb-4\x20flex\x20items-center\x20gap-2','children':_0x196d7c(0x1ea)}),(0x0,_0x3d5be1['jsx'])('h1',{'className':_0x196d7c(0x1b0),'children':_0x4d69c1[_0x196d7c(0x1df)]})]}),(0x0,_0x3d5be1['jsxs'])('div',{'className':'bg-white\x20rounded-lg\x20shadow-md\x20p-6\x20mb-6','children':[(0x0,_0x3d5be1[_0x196d7c(0x17b)])(_0x196d7c(0x1f4),{'className':'flex\x20items-center\x20justify-between\x20mb-4','children':[(0x0,_0x3d5be1['jsxs'])(_0x196d7c(0x1f4),{'className':'flex\x20items-center\x20gap-3','children':[(0x0,_0x3d5be1[_0x196d7c(0x199)])('span',{'className':_0x196d7c(0x1a8)+({'open':_0x196d7c(0x1ce),'in_progress':'bg-yellow-100\x20text-yellow-800','waiting_response':'bg-purple-100\x20text-purple-800','escalated':'bg-red-100\x20text-red-800','resolved':_0x196d7c(0x1b3),'closed':'bg-gray-100\x20text-gray-800'}[_0x4d69c1[_0x196d7c(0x182)]]||'bg-gray-100\x20text-gray-800'),'children':_0x4d69c1[_0x196d7c(0x182)]['split']('_')[_0x196d7c(0x1e2)](_0x909374=>_0x909374[_0x196d7c(0x1c2)](0x0)['toUpperCase']()+_0x909374['slice'](0x1))['join']('\x20')}),(0x0,_0x3d5be1['jsx'])('span',{'className':'px-3\x20py-1\x20text-sm\x20font-medium\x20rounded-full\x20'+({'low':'bg-gray-100\x20text-gray-800','medium':_0x196d7c(0x1ce),'high':_0x196d7c(0x1af),'urgent':_0x196d7c(0x1b4)}[_0x4d69c1['priority']]||'bg-gray-100\x20text-gray-800'),'children':_0x4d69c1[_0x196d7c(0x1da)]})]}),(0x0,_0x3d5be1[_0x196d7c(0x17b)])('span',{'className':_0x196d7c(0x1a0),'children':[_0x196d7c(0x1c6),_0x5b7e32(_0x4d69c1[_0x196d7c(0x19e)])]})]}),(0x0,_0x3d5be1[_0x196d7c(0x17b)])('div',{'className':'bg-gray-50\x20rounded-lg\x20p-4','children':[(0x0,_0x3d5be1[_0x196d7c(0x199)])('p',{'className':_0x196d7c(0x183),'children':'Original\x20Request:'}),(0x0,_0x3d5be1[_0x196d7c(0x199)])('p',{'className':'text-gray-700\x20whitespace-pre-wrap','children':_0x4d69c1['description']})]}),(0x0,_0x3d5be1['jsxs'])(_0x196d7c(0x1f4),{'className':'grid\x20grid-cols-2\x20gap-4\x20mt-4\x20text-sm','children':[(0x0,_0x3d5be1['jsxs'])('div',{'children':[(0x0,_0x3d5be1[_0x196d7c(0x199)])('span',{'className':_0x196d7c(0x1de),'children':'Category:'}),(0x0,_0x3d5be1[_0x196d7c(0x199)])(_0x196d7c(0x1b2),{'className':'ml-2\x20font-medium','children':_0x4d69c1[_0x196d7c(0x193)][_0x196d7c(0x188)]('_')['map'](_0x5c0385=>_0x5c0385[_0x196d7c(0x1c2)](0x0)[_0x196d7c(0x1e5)]()+_0x5c0385[_0x196d7c(0x185)](0x1))['join']('\x20')})]}),_0x4d69c1[_0x196d7c(0x1cf)]&&_0x4d69c1['assignee']&&(0x0,_0x3d5be1[_0x196d7c(0x17b)])('div',{'children':[(0x0,_0x3d5be1['jsx'])('span',{'className':'text-gray-600','children':'Assigned\x20to:'}),(0x0,_0x3d5be1['jsx'])('span',{'className':'ml-2\x20font-medium','children':_0x4d69c1['assignee']['display_name']})]})]})]}),(0x0,_0x3d5be1['jsxs'])(_0x196d7c(0x1f4),{'className':_0x196d7c(0x1d0),'children':[(0x0,_0x3d5be1[_0x196d7c(0x199)])('h2',{'className':_0x196d7c(0x194),'children':'Conversation'}),(0x0,_0x3d5be1['jsx'])('div',{'className':'space-y-4\x20mb-6','children':_0x4d69c1[_0x196d7c(0x1c1)][_0x196d7c(0x1aa)](_0x232444=>!_0x232444[_0x196d7c(0x1bb)])[_0x196d7c(0x1e2)](_0x1d2866=>{const _0x3dce61=_0x196d7c;let _0x166062=_0x1d2866[_0x3dce61(0x1dc)]&&[_0x3dce61(0x175),_0x3dce61(0x1d2),_0x3dce61(0x186)]['includes'](_0x1d2866['author'][_0x3dce61(0x1ac)]);return(0x0,_0x3d5be1[_0x3dce61(0x17b)])(_0x3dce61(0x1f4),{'className':_0x3dce61(0x1a2)+(_0x1d2866[_0x3dce61(0x1e7)]?_0x3dce61(0x18d):_0x166062?_0x3dce61(0x1c0):'bg-emerald-50\x20border\x20border-emerald-200'),'children':[(0x0,_0x3d5be1[_0x3dce61(0x17b)])(_0x3dce61(0x1f4),{'className':_0x3dce61(0x1c3),'children':[(0x0,_0x3d5be1['jsxs'])('div',{'className':'flex\x20items-center\x20gap-2','children':[(0x0,_0x3d5be1[_0x3dce61(0x199)])(_0x3dce61(0x1b2),{'className':_0x3dce61(0x177),'children':_0x1d2866[_0x3dce61(0x1dc)]?.[_0x3dce61(0x1b1)]||'System'}),_0x166062&&(0x0,_0x3d5be1[_0x3dce61(0x199)])(_0x3dce61(0x1b2),{'className':'text-xs\x20px-2\x20py-1\x20bg-blue-200\x20rounded','children':_0x3dce61(0x1eb)})]}),(0x0,_0x3d5be1['jsx'])('span',{'className':_0x3dce61(0x1b6),'children':_0x5b7e32(_0x1d2866['created_at'])})]}),(0x0,_0x3d5be1['jsx'])('p',{'className':'text-gray-700\x20whitespace-pre-wrap','children':_0x1d2866['message']})]},_0x1d2866['id']);})}),_0x196d7c(0x1b8)!==_0x4d69c1['status']&&(0x0,_0x3d5be1['jsxs'])(_0x196d7c(0x1f4),{'className':'border-t\x20pt-4','children':[(0x0,_0x3d5be1[_0x196d7c(0x199)])('textarea',{'value':_0x1410db,'onChange':_0x33e6a2=>_0x26367a(_0x33e6a2[_0x196d7c(0x190)][_0x196d7c(0x1ab)]),'placeholder':_0x196d7c(0x1c4),'className':_0x196d7c(0x18e),'rows':0x4}),(0x0,_0x3d5be1[_0x196d7c(0x199)])(_0x196d7c(0x1f4),{'className':_0x196d7c(0x1c9),'children':(0x0,_0x3d5be1['jsx'])(_0x196d7c(0x1cd),{'onClick':_0x219765,'disabled':_0x596c79||!_0x1410db['trim'](),'className':_0x196d7c(0x1a6),'children':_0x596c79?_0x196d7c(0x184):_0x196d7c(0x19d)})})]})]}),'resolved'===_0x4d69c1['status']&&!_0x4d69c1[_0x196d7c(0x198)]&&(0x0,_0x3d5be1[_0x196d7c(0x17b)])(_0x196d7c(0x1f4),{'className':_0x196d7c(0x19c),'children':[(0x0,_0x3d5be1['jsx'])('h3',{'className':_0x196d7c(0x1f3),'children':_0x196d7c(0x179)}),(0x0,_0x3d5be1[_0x196d7c(0x199)])('p',{'className':'text-gray-600\x20mb-4','children':_0x196d7c(0x1e8)}),(0x0,_0x3d5be1['jsx'])('div',{'className':_0x196d7c(0x18c),'children':[0x1,0x2,0x3,0x4,0x5]['map'](_0x3e7b87=>(0x0,_0x3d5be1['jsx'])(_0x196d7c(0x1cd),{'onClick':()=>_0x4aff5e(_0x3e7b87),'disabled':_0x5cf809,'className':_0x196d7c(0x1ba),'children':_0x3e7b87<=(_0x103c62||0x0)?'⭐':'☆'},_0x3e7b87))})]}),_0x4d69c1['satisfaction_rating']&&(0x0,_0x3d5be1['jsxs'])('div',{'className':'bg-green-50\x20border\x20border-green-200\x20rounded-lg\x20p-6','children':[(0x0,_0x3d5be1[_0x196d7c(0x199)])('p',{'className':_0x196d7c(0x192),'children':_0x196d7c(0x195)}),(0x0,_0x3d5be1['jsx'])('div',{'className':'flex\x20gap-1\x20mt-2','children':[0x1,0x2,0x3,0x4,0x5][_0x196d7c(0x1e2)](_0x53e188=>(0x0,_0x3d5be1['jsx'])(_0x196d7c(0x1b2),{'className':_0x196d7c(0x181),'children':_0x53e188<=_0x4d69c1[_0x196d7c(0x198)]?'⭐':'☆'},_0x53e188))})]})]})}):(0x0,_0x3d5be1[_0x196d7c(0x199)])(_0x196d7c(0x1f4),{'className':'min-h-screen\x20bg-gray-50\x20py-8','children':(0x0,_0x3d5be1['jsx'])(_0x196d7c(0x1f4),{'className':'max-w-4xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','children':(0x0,_0x3d5be1['jsxs'])('div',{'className':'text-center','children':[(0x0,_0x3d5be1[_0x196d7c(0x199)])('h2',{'className':'text-2xl\x20font-bold\x20text-gray-900','children':_0x196d7c(0x1b7)}),(0x0,_0x3d5be1['jsx'])('p',{'className':'mt-2\x20text-gray-600','children':_0x196d7c(0x1e4)}),(0x0,_0x3d5be1[_0x196d7c(0x199)])(_0x196d7c(0x1cd),{'onClick':()=>_0x111eda[_0x196d7c(0x1a4)]('/support'),'className':'mt-4\x20px-4\x20py-2\x20bg-emerald-600\x20text-white\x20rounded-lg\x20hover:bg-emerald-700','children':'Back\x20to\x20Support'})]})})});}function _0x5b7e32(_0x2471c1){return new Date(_0x2471c1)['toLocaleString']();}},0xb73f:(_0x462cba,_0x2be824,_0x34fe69)=>{const _0x42bf2f=_0x200010;Promise[_0x42bf2f(0x18a)]()['then'](_0x34fe69['bind'](_0x34fe69,0x9c1c));},0xc541:(_0x5dabaa,_0x14501e,_0x1efacd)=>{'use strict';const _0x11042d=_0x200010;var _0x3447fb=_0x1efacd(0xed0d);_0x1efacd['o'](_0x3447fb,_0x11042d(0x1ca))&&_0x1efacd['d'](_0x14501e,{'usePathname':function(){const _0x2cbd70=_0x11042d;return _0x3447fb[_0x2cbd70(0x1ca)];}}),_0x1efacd['o'](_0x3447fb,'useRouter')&&_0x1efacd['d'](_0x14501e,{'useRouter':function(){const _0x3f0afb=_0x11042d;return _0x3447fb[_0x3f0afb(0x1c5)];}}),_0x1efacd['o'](_0x3447fb,'useSearchParams')&&_0x1efacd['d'](_0x14501e,{'useSearchParams':function(){const _0x1c28a3=_0x11042d;return _0x3447fb[_0x1c28a3(0x19a)];}});},0x10edb:(_0x2c4171,_0x43294f,_0x2e05b9)=>{'use strict';_0x2e05b9['d'](_0x43294f,{'A':()=>_0x2a633c});var _0x5ec244=_0x2e05b9(0x5433),_0x4d96bd=_0x2e05b9(0x3e0d);function _0x2a633c(){const _0x27355d=_0x221f;let [_0xb83af3,_0x6b2ed0]=(0x0,_0x5ec244[_0x27355d(0x1d9)])(null),[_0x264d11,_0x48ed5e]=(0x0,_0x5ec244['useState'])(!0x0),[_0x81892d,_0x169718]=(0x0,_0x5ec244[_0x27355d(0x1d9)])(!0x1),[_0x5e651d,_0x17bf0e]=(0x0,_0x5ec244['useState'])(null),_0x2f0844=(0x0,_0x5ec244[_0x27355d(0x1b5)])(async()=>{const _0x5c5c0e=_0x27355d;try{let _0x46795b=(0x0,_0x4d96bd['getSupabase'])(),{data:_0x73d71,error:_0xede476}=await _0x46795b['auth'][_0x5c5c0e(0x17f)]();if(_0xede476)return console[_0x5c5c0e(0x1bd)](_0x5c5c0e(0x1f0),_0xede476),!0x1;if(!_0x73d71?.['session'])return console[_0x5c5c0e(0x1bd)](_0x5c5c0e(0x1ae)),!0x1;return _0x17bf0e(_0x73d71[_0x5c5c0e(0x197)]),_0x6b2ed0(_0x73d71['session'][_0x5c5c0e(0x1d7)]),console[_0x5c5c0e(0x18f)](_0x5c5c0e(0x1d5)),!0x0;}catch(_0x266851){return console['error']('[useAuth]\x20Failed\x20to\x20refresh:',_0x266851),!0x1;}},[]);return(0x0,_0x5ec244['useEffect'])(()=>{const _0x1b7458=_0x27355d;_0x4d96bd['api'][_0x1b7458(0x19f)]()['then'](({data:{user:_0x3e4d6a}})=>{_0x6b2ed0(_0x3e4d6a),_0x48ed5e(!0x1),_0x169718(!0x0);})['catch'](()=>{_0x48ed5e(!0x1),_0x169718(!0x0);});let {data:{subscription:_0x1ba615}}=_0x4d96bd[_0x1b7458(0x1d1)]['onAuthStateChange'](async(_0x36b37d,_0x266c9c)=>{const _0x51a398=_0x1b7458;console[_0x51a398(0x18f)]('[useAuth]\x20Auth\x20state\x20change:',_0x36b37d),_0x51a398(0x1ec)===_0x36b37d&&console['log'](_0x51a398(0x1a3)),_0x17bf0e(_0x266c9c),_0x6b2ed0(_0x266c9c?.['user']??null),_0x48ed5e(!0x1),_0x169718(!0x0);});return()=>_0x1ba615['unsubscribe']();},[]),{'user':_0xb83af3,'session':_0x5e651d,'loading':_0x264d11,'isReady':_0x81892d,'authenticated':!!_0xb83af3,'refreshSession':_0x2f0844,'signOut':()=>_0x4d96bd[_0x27355d(0x1d1)]['signOut']()};}},0x14a5a:(_0x23199d,_0x1212b1,_0x68d0c1)=>{'use strict';_0x68d0c1['d'](_0x1212b1,{'c0':()=>_0x56c891,'Gs':()=>_0x2f4a72,'oJ':()=>_0x114255,'yS':()=>_0x4c1077,'dS':()=>_0x22d4e7,'tY':()=>_0x2dde92});var _0x45af76=_0x68d0c1(0x5433),_0xfd6441=_0x68d0c1(0x3e0d);function _0x4a01f4(_0x38f80a={}){let {onTicketCreated:_0x304ab4,onTicketUpdated:_0x288816,onTicketDeleted:_0x20dbb1,onMessageAdded:_0x35b8f6,ticketId:_0xd941ef}=_0x38f80a;(0x0,_0x45af76['useEffect'])(()=>{const _0x421d5c=_0x221f;let _0x2a9fe3=(0x0,_0xfd6441[_0x421d5c(0x1d6)])(),_0x13559f=_0x2a9fe3['channel'](_0x421d5c(0x1ad))['on']('postgres_changes',{'event':_0x421d5c(0x1dd),'schema':_0x421d5c(0x1d1),'table':_0x421d5c(0x191)},_0xea0454=>{const _0x67e6dc=_0x421d5c;console[_0x67e6dc(0x18f)]('Ticket\x20created:',_0xea0454),_0x304ab4?.(_0xea0454);})['on'](_0x421d5c(0x1d3),{'event':_0x421d5c(0x1cb),'schema':'api','table':'support_tickets',..._0xd941ef?{'filter':_0x421d5c(0x19b)+_0xd941ef}:{}},_0x53fdf7=>{const _0x70ada4=_0x421d5c;console[_0x70ada4(0x18f)]('Ticket\x20updated:',_0x53fdf7),_0x288816?.(_0x53fdf7);})['on'](_0x421d5c(0x1d3),{'event':_0x421d5c(0x1e3),'schema':'api','table':'support_tickets'},_0xe9351f=>{const _0x288907=_0x421d5c;console[_0x288907(0x18f)](_0x288907(0x189),_0xe9351f),_0x20dbb1?.(_0xe9351f);})['subscribe'](),_0x4af7b7=null;return _0xd941ef&&_0x35b8f6&&(_0x4af7b7=_0x2a9fe3[_0x421d5c(0x1a7)](_0x421d5c(0x1c7))['on']('postgres_changes',{'event':_0x421d5c(0x1dd),'schema':'api','table':'ticket_messages','filter':_0x421d5c(0x1b9)+_0xd941ef},_0x30fe6f=>{console['log']('Message\x20added:',_0x30fe6f),_0x35b8f6(_0x30fe6f);})[_0x421d5c(0x178)]()),()=>{const _0xf6e3ec=_0x421d5c;_0x2a9fe3[_0xf6e3ec(0x17e)](_0x13559f),_0x4af7b7&&_0x2a9fe3[_0xf6e3ec(0x17e)](_0x4af7b7);};},[_0x304ab4,_0x288816,_0x20dbb1,_0x35b8f6,_0xd941ef]);}function _0x22d4e7(_0x525578={}){const _0x59de16=_0x221f;let [_0x1a6777,_0x249595]=(0x0,_0x45af76['useState'])([]),[_0x1b82e1,_0xbfdeb6]=(0x0,_0x45af76[_0x59de16(0x1d9)])(!0x0),[_0x46d50b,_0x63be9f]=(0x0,_0x45af76[_0x59de16(0x1d9)])(null),[_0x9cdfae,_0x5a2320]=(0x0,_0x45af76[_0x59de16(0x1d9)])(0x0),_0x3ed27b=(0x0,_0x45af76[_0x59de16(0x1b5)])(async()=>{const _0x1ba307=_0x59de16;try{_0xbfdeb6(!0x0),_0x63be9f(null);let {tickets:_0x234675,total:_0x311b1f}=await _0xfd6441['api'][_0x1ba307(0x1a9)]({'status':_0x525578['status'],'category':_0x525578[_0x1ba307(0x193)],'assigned_to':_0x525578['assigned_to']});_0x249595(_0x234675),_0x5a2320(_0x311b1f);}catch(_0x4928a0){_0x63be9f(_0x4928a0 instanceof Error?_0x4928a0['message']:'Failed\x20to\x20fetch\x20tickets');}finally{_0xbfdeb6(!0x1);}},[_0x525578[_0x59de16(0x182)],_0x525578['category'],_0x525578[_0x59de16(0x1cf)]]);return(0x0,_0x45af76['useEffect'])(()=>{const _0x5dc57f=_0x59de16;if(_0x3ed27b(),_0x525578['autoRefresh']&&_0x525578[_0x5dc57f(0x1f5)]){let _0x1d15fb=setInterval(_0x3ed27b,_0x525578['refreshInterval']);return()=>clearInterval(_0x1d15fb);}},[_0x3ed27b,_0x525578['autoRefresh'],_0x525578[_0x59de16(0x1f5)]]),_0x4a01f4({'onTicketCreated':!0x1!==_0x525578['enableRealtime']?()=>_0x3ed27b():void 0x0,'onTicketUpdated':!0x1!==_0x525578[_0x59de16(0x17a)]?()=>_0x3ed27b():void 0x0,'onTicketDeleted':!0x1!==_0x525578[_0x59de16(0x17a)]?()=>_0x3ed27b():void 0x0}),{'tickets':_0x1a6777,'loading':_0x1b82e1,'error':_0x46d50b,'total':_0x9cdfae,'refetch':_0x3ed27b};}function _0x4c1077(_0x13b9eb,_0x5b0651=!0x0){const _0x332431=_0x221f;let [_0x362cdc,_0x562a58]=(0x0,_0x45af76['useState'])(null),[_0x1a355e,_0x12e962]=(0x0,_0x45af76[_0x332431(0x1d9)])(!0x0),[_0x29213b,_0x3fe6a5]=(0x0,_0x45af76['useState'])(null),_0x37aef0=(0x0,_0x45af76['useCallback'])(async()=>{const _0x5e1f71=_0x332431;if(!_0x13b9eb){_0x562a58(null),_0x12e962(!0x1);return;}try{_0x12e962(!0x0),_0x3fe6a5(null);let _0xbabc58=await _0xfd6441[_0x5e1f71(0x1d1)]['getTicket'](_0x13b9eb);_0x562a58(_0xbabc58);}catch(_0x328021){_0x3fe6a5(_0x328021 instanceof Error?_0x328021[_0x5e1f71(0x1f2)]:_0x5e1f71(0x17c));}finally{_0x12e962(!0x1);}},[_0x13b9eb]);return(0x0,_0x45af76[_0x332431(0x18b)])(()=>{_0x37aef0();},[_0x37aef0]),_0x4a01f4({'ticketId':_0x13b9eb||void 0x0,'onTicketUpdated':_0x5b0651?()=>_0x37aef0():void 0x0,'onMessageAdded':_0x5b0651?()=>_0x37aef0():void 0x0}),{'ticket':_0x362cdc,'loading':_0x1a355e,'error':_0x29213b,'refetch':_0x37aef0};}function _0x2f4a72(){const _0x565b72=_0x221f;let [_0x45c6fa,_0x58a92a]=(0x0,_0x45af76['useState'])(!0x1),[_0x41e942,_0xee5af0]=(0x0,_0x45af76[_0x565b72(0x1d9)])(null);return{'createTicket':async _0x2e0d80=>{const _0x154ca9=_0x565b72;try{return _0x58a92a(!0x0),_0xee5af0(null),(await _0xfd6441[_0x154ca9(0x1d1)]['createTicket'](_0x2e0d80))['ticket'];}catch(_0xf9ee10){let _0x5662d0=_0xf9ee10 instanceof Error?_0xf9ee10['message']:'Failed\x20to\x20create\x20ticket';throw _0xee5af0(_0x5662d0),Error(_0x5662d0);}finally{_0x58a92a(!0x1);}},'loading':_0x45c6fa,'error':_0x41e942};}function _0x2dde92(){const _0xb88bdc=_0x221f;let [_0x3b740b,_0x4c0935]=(0x0,_0x45af76['useState'])(!0x1),[_0x2069f9,_0x4a402c]=(0x0,_0x45af76[_0xb88bdc(0x1d9)])(null);return{'updateTicket':async _0x2a42eb=>{const _0x4db7a0=_0xb88bdc;try{return _0x4c0935(!0x0),_0x4a402c(null),(await _0xfd6441['api']['updateTicket'](_0x2a42eb))[_0x4db7a0(0x1db)];}catch(_0x492504){let _0x14d935=_0x492504 instanceof Error?_0x492504[_0x4db7a0(0x1f2)]:_0x4db7a0(0x1cc);throw _0x4a402c(_0x14d935),Error(_0x14d935);}finally{_0x4c0935(!0x1);}},'loading':_0x3b740b,'error':_0x2069f9};}function _0x114255(){const _0xab6b15=_0x221f;let [_0x27d41e,_0x570b7e]=(0x0,_0x45af76[_0xab6b15(0x1d9)])(!0x1),[_0x27da6e,_0xb5800e]=(0x0,_0x45af76[_0xab6b15(0x1d9)])(null);return{'escalateTicket':async _0x22c903=>{const _0x5ef1a0=_0xab6b15;try{return _0x570b7e(!0x0),_0xb5800e(null),(await _0xfd6441['api'][_0x5ef1a0(0x1f1)](_0x22c903))[_0x5ef1a0(0x1db)];}catch(_0x1e2fe4){let _0x59ddb2=_0x1e2fe4 instanceof Error?_0x1e2fe4[_0x5ef1a0(0x1f2)]:'Failed\x20to\x20escalate\x20ticket';throw _0xb5800e(_0x59ddb2),Error(_0x59ddb2);}finally{_0x570b7e(!0x1);}},'loading':_0x27d41e,'error':_0x27da6e};}function _0x56c891(){const _0x572a6a=_0x221f;let [_0x303fe4,_0x2ed307]=(0x0,_0x45af76[_0x572a6a(0x1d9)])(!0x1),[_0x5b4533,_0x20e65a]=(0x0,_0x45af76[_0x572a6a(0x1d9)])(null);return{'addMessage':async _0x5f4c11=>{const _0x435d76=_0x572a6a;try{return _0x2ed307(!0x0),_0x20e65a(null),(await _0xfd6441[_0x435d76(0x1d1)][_0x435d76(0x1e6)](_0x5f4c11))['message'];}catch(_0x8ed10){let _0x5b7d99=_0x8ed10 instanceof Error?_0x8ed10[_0x435d76(0x1f2)]:_0x435d76(0x1e9);throw _0x20e65a(_0x5b7d99),Error(_0x5b7d99);}finally{_0x2ed307(!0x1);}},'loading':_0x303fe4,'error':_0x5b4533};}}},_0x325611=>{_0x325611['O'](0x0,[0x2603,0x259f,0x16fd,0x1b1b,0x492,0x1cbe],()=>_0x325611(_0x325611['s']=0xb73f)),_N_E=_0x325611['O']();}]));