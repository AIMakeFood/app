function _0x105e(_0x40c074,_0x58adaf){_0x40c074=_0x40c074-0x1ea;const _0x8e8c49=_0x8e8c();let _0x105e24=_0x8e8c49[_0x40c074];return _0x105e24;}const _0x189f3c=_0x105e;function _0x8e8c(){const _0x19eae0=['jsx','button','[useAuth]\x20Session\x20refreshed\x20successfully','bg-emerald-50\x20border\x20border-emerald-200','Failed\x20to\x20update\x20ticket','text-red-600','bg-gray-50\x20border\x20border-gray-200','Send\x20Reply','useState','useEffect','/auth/login','w-full\x20px-4\x20py-3\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent\x20resize-none','Assigned\x20to:','ticket','usePathname','Sending...','INSERT','slice','map','text-xl\x20font-semibold\x20mb-4','value','getSupabase','assignee','Loading\x20ticket...','text-2xl','autoRefresh','getTickets','status','enableRealtime','unsubscribe','text-gray-600','useRouter','message','support','7530719zsRfbU','span','assigned_to','jsxs','Failed\x20to\x20escalate\x20ticket','Back\x20to\x20Support','flex\x20gap-2','text-gray-700\x20whitespace-pre-wrap','Ticket\x20created:','satisfaction_rating','useSearchParams','bg-gray-100\x20text-gray-800','UPDATE','is_system','priority','Ticket\x20updated:','text-center','text-xs\x20px-2\x20py-1\x20bg-blue-200\x20rounded','author','text-2xl\x20font-bold\x20text-gray-900','Rate\x20Your\x20Support\x20Experience','escalateTicket','bg-green-50\x20border\x20border-green-200\x20rounded-lg\x20p-6','error','bg-white\x20rounded-lg\x20shadow-md\x20p-6\x20mb-6','target','text-gray-600\x20hover:text-gray-900\x20mb-4\x20flex\x20items-center\x20gap-2','bg-green-100\x20text-green-800','ticket_id=eq.','category','subscribe','Original\x20Request:','manager','webpackChunk_N_E','div','push','491382jdsKOh','max-w-4xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','Failed\x20to\x20load\x20ticket','DELETE','useCallback','includes','text-sm\x20font-medium\x20text-gray-700\x20mb-2','onAuthStateChange','user','Ticket\x20Not\x20Found','ml-2\x20font-medium','Conversation','removeChannel','is_internal','flex\x20items-center\x20justify-center\x20min-h-screen','flex\x20items-start\x20justify-between\x20mb-2','Type\x20your\x20reply...','px-3\x20py-1\x20text-sm\x20font-medium\x20rounded-full\x20','No\x20ticket\x20ID\x20provided.','border-t\x20pt-4','px-4\x20py-2\x20text-sm\x20font-medium\x20rounded-full\x20','get','2124096Imqrkj','Created\x20','bg-blue-100\x20text-blue-800','space-y-4\x20mb-6','addTicketMessage','91272btODqZ','flex\x20items-center\x20gap-2','created_at','log','mt-4\x20text-emerald-600\x20hover:text-emerald-700','flex\x20items-center\x20justify-between\x20mb-4','toUpperCase','flex\x20items-center\x20gap-3','join','1330930McFkJU','568264aTKnSU','bg-white\x20rounded-lg\x20shadow-md\x20p-6','[useAuth]\x20No\x20session\x20returned\x20after\x20refresh','TOKEN_REFRESHED','/support','api','px-6\x20py-2\x20bg-emerald-600\x20text-white\x20rounded-lg\x20hover:bg-emerald-700\x20disabled:opacity-50\x20disabled:cursor-not-allowed','charAt','signOut','1313202vtxtMF','channel','text-lg\x20font-semibold\x20mb-4','display_name','text-gray-600\x20mb-4'];_0x8e8c=function(){return _0x19eae0;};return _0x8e8c();}(function(_0x514e80,_0x4e0d8b){const _0x50d26d=_0x105e,_0x374ae5=_0x514e80();while(!![]){try{const _0x12d3a6=-parseInt(_0x50d26d(0x1f7))/0x1+parseInt(_0x50d26d(0x212))/0x2+parseInt(_0x50d26d(0x225))/0x3+-parseInt(_0x50d26d(0x21c))/0x4+-parseInt(_0x50d26d(0x21b))/0x5+-parseInt(_0x50d26d(0x20d))/0x6+parseInt(_0x50d26d(0x24c))/0x7;if(_0x12d3a6===_0x4e0d8b)break;else _0x374ae5['push'](_0x374ae5['shift']());}catch(_0x3c424a){_0x374ae5['push'](_0x374ae5['shift']());}}}(_0x8e8c,0x4a981),(self['webpackChunk_N_E']=self[_0x189f3c(0x1f4)]||[])['push']([[0xac3],{0x9c1c:(_0x559ac5,_0x29eea0,_0x4a0b39)=>{'use strict';_0x4a0b39['r'](_0x29eea0),_0x4a0b39['d'](_0x29eea0,{'default':()=>_0x22347b});var _0x25b40d=_0x4a0b39(0xd773),_0x2bd952=_0x4a0b39(0x5433),_0x310e9b=_0x4a0b39(0x10edb),_0x1ff4f8=_0x4a0b39(0xc541),_0x942778=_0x4a0b39(0x14a5a);function _0x22347b(){const _0x2a7144=_0x105e;let {user:_0x1d999e,loading:_0x2f599c}=(0x0,_0x310e9b['A'])(),_0x357030=(0x0,_0x1ff4f8['useRouter'])(),_0x3c1f12=(0x0,_0x1ff4f8[_0x2a7144(0x256)])()[_0x2a7144(0x20c)]('id'),{ticket:_0x5b2ebd,loading:_0x548738,error:_0x44098f,refetch:_0x275805}=(0x0,_0x942778['yS'])(_0x3c1f12||''),{updateTicket:_0x51fd58,loading:_0x5cb37a}=(0x0,_0x942778['tY'])(),{addMessage:_0x4fb556,loading:_0x103bcc}=(0x0,_0x942778['c0'])(),[_0x55da3d,_0xac8b8d]=(0x0,_0x2bd952[_0x2a7144(0x232)])(''),[_0x204261,_0x591c52]=(0x0,_0x2bd952['useState'])(null);(0x0,_0x2bd952[_0x2a7144(0x233)])(()=>{const _0x455e3e=_0x2a7144;_0x2f599c||_0x1d999e||_0x357030[_0x455e3e(0x1f6)](_0x455e3e(0x234));},[_0x1d999e,_0x2f599c,_0x357030]);let _0x56bb09=async()=>{if(_0x55da3d['trim']()&&_0x3c1f12)try{await _0x4fb556({'ticketId':_0x3c1f12,'message':_0x55da3d}),_0xac8b8d(''),_0x275805();}catch(_0x2869fc){console['error']('Failed\x20to\x20send\x20message:',_0x2869fc);}},_0x272291=async _0x4cd4b9=>{const _0x29a5e2=_0x2a7144;if(_0x3c1f12)try{await _0x51fd58({'ticketId':_0x3c1f12,'satisfaction_rating':_0x4cd4b9}),_0x591c52(_0x4cd4b9),_0x275805();}catch(_0xde0ac4){console[_0x29a5e2(0x1ea)]('Failed\x20to\x20rate\x20ticket:',_0xde0ac4);}};return _0x3c1f12?_0x2f599c||_0x548738?(0x0,_0x25b40d[_0x2a7144(0x22a)])(_0x2a7144(0x1f5),{'className':_0x2a7144(0x205),'children':(0x0,_0x25b40d[_0x2a7144(0x24f)])('div',{'className':_0x2a7144(0x25c),'children':[(0x0,_0x25b40d['jsx'])('div',{'className':'animate-spin\x20rounded-full\x20h-12\x20w-12\x20border-b-2\x20border-emerald-600\x20mx-auto'}),(0x0,_0x25b40d['jsx'])('p',{'className':'mt-4\x20text-gray-600','children':_0x2a7144(0x241)})]})}):_0x44098f||!_0x5b2ebd?(0x0,_0x25b40d[_0x2a7144(0x22a)])('div',{'className':_0x2a7144(0x205),'children':(0x0,_0x25b40d['jsxs'])(_0x2a7144(0x1f5),{'className':'text-center','children':[(0x0,_0x25b40d[_0x2a7144(0x22a)])('p',{'className':_0x2a7144(0x22f),'children':_0x2a7144(0x1f9)}),(0x0,_0x25b40d['jsx'])('button',{'onClick':()=>_0x357030[_0x2a7144(0x1f6)](_0x2a7144(0x220)),'className':_0x2a7144(0x216),'children':_0x2a7144(0x251)})]})}):(0x0,_0x25b40d[_0x2a7144(0x22a)])(_0x2a7144(0x1f5),{'className':'min-h-screen\x20bg-gray-50\x20py-8','children':(0x0,_0x25b40d['jsxs'])('div',{'className':'max-w-4xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','children':[(0x0,_0x25b40d[_0x2a7144(0x24f)])(_0x2a7144(0x1f5),{'className':'mb-6','children':[(0x0,_0x25b40d[_0x2a7144(0x22a)])(_0x2a7144(0x22b),{'onClick':()=>_0x357030[_0x2a7144(0x1f6)]('/support'),'className':_0x2a7144(0x1ed),'children':'←\x20Back\x20to\x20Support'}),(0x0,_0x25b40d['jsx'])('h1',{'className':'text-3xl\x20font-bold\x20text-gray-900','children':_0x5b2ebd['title']})]}),(0x0,_0x25b40d[_0x2a7144(0x24f)])(_0x2a7144(0x1f5),{'className':_0x2a7144(0x1eb),'children':[(0x0,_0x25b40d['jsxs'])(_0x2a7144(0x1f5),{'className':_0x2a7144(0x217),'children':[(0x0,_0x25b40d['jsxs'])('div',{'className':_0x2a7144(0x219),'children':[(0x0,_0x25b40d[_0x2a7144(0x22a)])(_0x2a7144(0x24d),{'className':_0x2a7144(0x20b)+({'open':_0x2a7144(0x20f),'in_progress':'bg-yellow-100\x20text-yellow-800','waiting_response':'bg-purple-100\x20text-purple-800','escalated':'bg-red-100\x20text-red-800','resolved':_0x2a7144(0x1ee),'closed':'bg-gray-100\x20text-gray-800'}[_0x5b2ebd[_0x2a7144(0x245)]]||_0x2a7144(0x257)),'children':_0x5b2ebd['status']['split']('_')[_0x2a7144(0x23c)](_0x3dee5e=>_0x3dee5e[_0x2a7144(0x223)](0x0)[_0x2a7144(0x218)]()+_0x3dee5e[_0x2a7144(0x23b)](0x1))[_0x2a7144(0x21a)]('\x20')}),(0x0,_0x25b40d[_0x2a7144(0x22a)])('span',{'className':_0x2a7144(0x208)+({'low':'bg-gray-100\x20text-gray-800','medium':'bg-blue-100\x20text-blue-800','high':'bg-orange-100\x20text-orange-800','urgent':'bg-red-100\x20text-red-800'}[_0x5b2ebd['priority']]||_0x2a7144(0x257)),'children':_0x5b2ebd[_0x2a7144(0x25a)]})]}),(0x0,_0x25b40d[_0x2a7144(0x24f)])(_0x2a7144(0x24d),{'className':'text-sm\x20text-gray-500','children':[_0x2a7144(0x20e),_0x364247(_0x5b2ebd['created_at'])]})]}),(0x0,_0x25b40d['jsxs'])('div',{'className':'bg-gray-50\x20rounded-lg\x20p-4','children':[(0x0,_0x25b40d['jsx'])('p',{'className':_0x2a7144(0x1fd),'children':_0x2a7144(0x1f2)}),(0x0,_0x25b40d[_0x2a7144(0x22a)])('p',{'className':_0x2a7144(0x253),'children':_0x5b2ebd['description']})]}),(0x0,_0x25b40d[_0x2a7144(0x24f)])('div',{'className':'grid\x20grid-cols-2\x20gap-4\x20mt-4\x20text-sm','children':[(0x0,_0x25b40d[_0x2a7144(0x24f)])('div',{'children':[(0x0,_0x25b40d[_0x2a7144(0x22a)])(_0x2a7144(0x24d),{'className':_0x2a7144(0x248),'children':'Category:'}),(0x0,_0x25b40d[_0x2a7144(0x22a)])('span',{'className':_0x2a7144(0x201),'children':_0x5b2ebd['category']['split']('_')[_0x2a7144(0x23c)](_0x3a1cc8=>_0x3a1cc8['charAt'](0x0)[_0x2a7144(0x218)]()+_0x3a1cc8[_0x2a7144(0x23b)](0x1))[_0x2a7144(0x21a)]('\x20')})]}),_0x5b2ebd[_0x2a7144(0x24e)]&&_0x5b2ebd['assignee']&&(0x0,_0x25b40d[_0x2a7144(0x24f)])(_0x2a7144(0x1f5),{'children':[(0x0,_0x25b40d['jsx'])(_0x2a7144(0x24d),{'className':'text-gray-600','children':_0x2a7144(0x236)}),(0x0,_0x25b40d[_0x2a7144(0x22a)])(_0x2a7144(0x24d),{'className':_0x2a7144(0x201),'children':_0x5b2ebd[_0x2a7144(0x240)][_0x2a7144(0x228)]})]})]})]}),(0x0,_0x25b40d['jsxs'])('div',{'className':_0x2a7144(0x1eb),'children':[(0x0,_0x25b40d[_0x2a7144(0x22a)])('h2',{'className':_0x2a7144(0x23d),'children':_0x2a7144(0x202)}),(0x0,_0x25b40d[_0x2a7144(0x22a)])('div',{'className':_0x2a7144(0x210),'children':_0x5b2ebd['messages']['filter'](_0x878861=>!_0x878861[_0x2a7144(0x204)])[_0x2a7144(0x23c)](_0x5895c2=>{const _0x6ef5f2=_0x2a7144;let _0x5ce0f6=_0x5895c2[_0x6ef5f2(0x25e)]&&[_0x6ef5f2(0x24b),_0x6ef5f2(0x1f3),'admin'][_0x6ef5f2(0x1fc)](_0x5895c2[_0x6ef5f2(0x25e)]['user_role']);return(0x0,_0x25b40d['jsxs'])(_0x6ef5f2(0x1f5),{'className':'p-4\x20rounded-lg\x20'+(_0x5895c2[_0x6ef5f2(0x259)]?_0x6ef5f2(0x230):_0x5ce0f6?'bg-blue-50\x20border\x20border-blue-200':_0x6ef5f2(0x22d)),'children':[(0x0,_0x25b40d['jsxs'])('div',{'className':_0x6ef5f2(0x206),'children':[(0x0,_0x25b40d[_0x6ef5f2(0x24f)])('div',{'className':_0x6ef5f2(0x213),'children':[(0x0,_0x25b40d['jsx'])(_0x6ef5f2(0x24d),{'className':'font-semibold\x20text-gray-900','children':_0x5895c2['author']?.[_0x6ef5f2(0x228)]||'System'}),_0x5ce0f6&&(0x0,_0x25b40d['jsx'])('span',{'className':_0x6ef5f2(0x25d),'children':'Support\x20Team'})]}),(0x0,_0x25b40d[_0x6ef5f2(0x22a)])(_0x6ef5f2(0x24d),{'className':'text-xs\x20text-gray-500','children':_0x364247(_0x5895c2[_0x6ef5f2(0x214)])})]}),(0x0,_0x25b40d[_0x6ef5f2(0x22a)])('p',{'className':'text-gray-700\x20whitespace-pre-wrap','children':_0x5895c2[_0x6ef5f2(0x24a)]})]},_0x5895c2['id']);})}),'closed'!==_0x5b2ebd['status']&&(0x0,_0x25b40d['jsxs'])(_0x2a7144(0x1f5),{'className':_0x2a7144(0x20a),'children':[(0x0,_0x25b40d['jsx'])('textarea',{'value':_0x55da3d,'onChange':_0xe7ce8e=>_0xac8b8d(_0xe7ce8e[_0x2a7144(0x1ec)][_0x2a7144(0x23e)]),'placeholder':_0x2a7144(0x207),'className':_0x2a7144(0x235),'rows':0x4}),(0x0,_0x25b40d['jsx'])('div',{'className':'flex\x20justify-end\x20mt-3','children':(0x0,_0x25b40d['jsx'])('button',{'onClick':_0x56bb09,'disabled':_0x103bcc||!_0x55da3d['trim'](),'className':_0x2a7144(0x222),'children':_0x103bcc?_0x2a7144(0x239):_0x2a7144(0x231)})})]})]}),'resolved'===_0x5b2ebd['status']&&!_0x5b2ebd[_0x2a7144(0x255)]&&(0x0,_0x25b40d['jsxs'])('div',{'className':_0x2a7144(0x21d),'children':[(0x0,_0x25b40d[_0x2a7144(0x22a)])('h3',{'className':_0x2a7144(0x227),'children':_0x2a7144(0x260)}),(0x0,_0x25b40d[_0x2a7144(0x22a)])('p',{'className':_0x2a7144(0x229),'children':'How\x20satisfied\x20are\x20you\x20with\x20the\x20resolution?'}),(0x0,_0x25b40d[_0x2a7144(0x22a)])(_0x2a7144(0x1f5),{'className':_0x2a7144(0x252),'children':[0x1,0x2,0x3,0x4,0x5]['map'](_0xe9c61d=>(0x0,_0x25b40d['jsx'])(_0x2a7144(0x22b),{'onClick':()=>_0x272291(_0xe9c61d),'disabled':_0x5cb37a,'className':'text-4xl\x20hover:scale-110\x20transition-transform\x20disabled:opacity-50','children':_0xe9c61d<=(_0x204261||0x0)?'⭐':'☆'},_0xe9c61d))})]}),_0x5b2ebd[_0x2a7144(0x255)]&&(0x0,_0x25b40d[_0x2a7144(0x24f)])('div',{'className':_0x2a7144(0x262),'children':[(0x0,_0x25b40d[_0x2a7144(0x22a)])('p',{'className':'text-green-800','children':'Thank\x20you\x20for\x20rating\x20this\x20ticket!\x20Your\x20feedback\x20helps\x20us\x20improve.'}),(0x0,_0x25b40d[_0x2a7144(0x22a)])(_0x2a7144(0x1f5),{'className':'flex\x20gap-1\x20mt-2','children':[0x1,0x2,0x3,0x4,0x5]['map'](_0x257ff2=>(0x0,_0x25b40d['jsx'])(_0x2a7144(0x24d),{'className':_0x2a7144(0x242),'children':_0x257ff2<=_0x5b2ebd[_0x2a7144(0x255)]?'⭐':'☆'},_0x257ff2))})]})]})}):(0x0,_0x25b40d[_0x2a7144(0x22a)])('div',{'className':'min-h-screen\x20bg-gray-50\x20py-8','children':(0x0,_0x25b40d['jsx'])('div',{'className':_0x2a7144(0x1f8),'children':(0x0,_0x25b40d[_0x2a7144(0x24f)])('div',{'className':_0x2a7144(0x25c),'children':[(0x0,_0x25b40d['jsx'])('h2',{'className':_0x2a7144(0x25f),'children':_0x2a7144(0x200)}),(0x0,_0x25b40d[_0x2a7144(0x22a)])('p',{'className':'mt-2\x20text-gray-600','children':_0x2a7144(0x209)}),(0x0,_0x25b40d[_0x2a7144(0x22a)])(_0x2a7144(0x22b),{'onClick':()=>_0x357030[_0x2a7144(0x1f6)]('/support'),'className':'mt-4\x20px-4\x20py-2\x20bg-emerald-600\x20text-white\x20rounded-lg\x20hover:bg-emerald-700','children':'Back\x20to\x20Support'})]})})});}function _0x364247(_0x1ef5d5){return new Date(_0x1ef5d5)['toLocaleString']();}},0xb73f:(_0x297632,_0x28fcfd,_0x5230ab)=>{Promise['resolve']()['then'](_0x5230ab['bind'](_0x5230ab,0x9c1c));},0xc541:(_0x411262,_0x54eea4,_0x3fefa0)=>{'use strict';const _0x38f000=_0x189f3c;var _0xfa5dd2=_0x3fefa0(0xed0d);_0x3fefa0['o'](_0xfa5dd2,_0x38f000(0x238))&&_0x3fefa0['d'](_0x54eea4,{'usePathname':function(){const _0x3083d7=_0x38f000;return _0xfa5dd2[_0x3083d7(0x238)];}}),_0x3fefa0['o'](_0xfa5dd2,_0x38f000(0x249))&&_0x3fefa0['d'](_0x54eea4,{'useRouter':function(){return _0xfa5dd2['useRouter'];}}),_0x3fefa0['o'](_0xfa5dd2,'useSearchParams')&&_0x3fefa0['d'](_0x54eea4,{'useSearchParams':function(){const _0x328996=_0x38f000;return _0xfa5dd2[_0x328996(0x256)];}});},0x10edb:(_0x120fe3,_0xd517c2,_0xe53a8f)=>{'use strict';_0xe53a8f['d'](_0xd517c2,{'A':()=>_0x1adcc5});var _0x436849=_0xe53a8f(0x5433),_0x14a3ba=_0xe53a8f(0x3e0d);function _0x1adcc5(){const _0x1a89d3=_0x105e;let [_0x2eb152,_0x56cdb3]=(0x0,_0x436849['useState'])(null),[_0x313fb3,_0x3f746d]=(0x0,_0x436849['useState'])(!0x0),[_0x1b7cbe,_0x58903e]=(0x0,_0x436849['useState'])(!0x1),[_0x3cd849,_0xf8ce47]=(0x0,_0x436849[_0x1a89d3(0x232)])(null),_0x278e57=(0x0,_0x436849[_0x1a89d3(0x1fb)])(async()=>{const _0x522e50=_0x1a89d3;try{let _0x1b8f88=(0x0,_0x14a3ba['getSupabase'])(),{data:_0x3b0d45,error:_0x3463b1}=await _0x1b8f88['auth']['refreshSession']();if(_0x3463b1)return console['error']('[useAuth]\x20Refresh\x20error:',_0x3463b1),!0x1;if(!_0x3b0d45?.['session'])return console[_0x522e50(0x1ea)](_0x522e50(0x21e)),!0x1;return _0xf8ce47(_0x3b0d45['session']),_0x56cdb3(_0x3b0d45['session'][_0x522e50(0x1ff)]),console[_0x522e50(0x215)](_0x522e50(0x22c)),!0x0;}catch(_0x2d18a2){return console['error']('[useAuth]\x20Failed\x20to\x20refresh:',_0x2d18a2),!0x1;}},[]);return(0x0,_0x436849[_0x1a89d3(0x233)])(()=>{const _0x4d6551=_0x1a89d3;_0x14a3ba['api']['getUser']()['then'](({data:{user:_0x242bf4}})=>{_0x56cdb3(_0x242bf4),_0x3f746d(!0x1),_0x58903e(!0x0);})['catch'](()=>{_0x3f746d(!0x1),_0x58903e(!0x0);});let {data:{subscription:_0x42fd40}}=_0x14a3ba[_0x4d6551(0x221)][_0x4d6551(0x1fe)](async(_0x543d03,_0x3d19db)=>{const _0x119f52=_0x4d6551;console['log']('[useAuth]\x20Auth\x20state\x20change:',_0x543d03),_0x119f52(0x21f)===_0x543d03&&console[_0x119f52(0x215)]('[useAuth]\x20Token\x20refreshed\x20successfully'),_0xf8ce47(_0x3d19db),_0x56cdb3(_0x3d19db?.[_0x119f52(0x1ff)]??null),_0x3f746d(!0x1),_0x58903e(!0x0);});return()=>_0x42fd40[_0x4d6551(0x247)]();},[]),{'user':_0x2eb152,'session':_0x3cd849,'loading':_0x313fb3,'isReady':_0x1b7cbe,'authenticated':!!_0x2eb152,'refreshSession':_0x278e57,'signOut':()=>_0x14a3ba['api'][_0x1a89d3(0x224)]()};}},0x14a5a:(_0x18a89b,_0x497375,_0x4ccf73)=>{'use strict';_0x4ccf73['d'](_0x497375,{'c0':()=>_0x50c152,'Gs':()=>_0x4568e2,'oJ':()=>_0x5f0379,'yS':()=>_0x1fea4d,'dS':()=>_0x3b68ae,'tY':()=>_0x2fc7a0});var _0xdd28d2=_0x4ccf73(0x5433),_0x547aa7=_0x4ccf73(0x3e0d);function _0xf90d22(_0xc1818b={}){const _0x154649=_0x105e;let {onTicketCreated:_0x50b7de,onTicketUpdated:_0x186123,onTicketDeleted:_0x5f42bd,onMessageAdded:_0xf38e27,ticketId:_0x317ca4}=_0xc1818b;(0x0,_0xdd28d2[_0x154649(0x233)])(()=>{const _0x5b12ba=_0x154649;let _0x11845a=(0x0,_0x547aa7[_0x5b12ba(0x23f)])(),_0x2e3b59=_0x11845a[_0x5b12ba(0x226)]('support_tickets_changes')['on']('postgres_changes',{'event':_0x5b12ba(0x23a),'schema':_0x5b12ba(0x221),'table':'support_tickets'},_0x478172=>{const _0x1b31dd=_0x5b12ba;console['log'](_0x1b31dd(0x254),_0x478172),_0x50b7de?.(_0x478172);})['on']('postgres_changes',{'event':_0x5b12ba(0x258),'schema':_0x5b12ba(0x221),'table':'support_tickets',..._0x317ca4?{'filter':'id=eq.'+_0x317ca4}:{}},_0x1e2be6=>{const _0x1addff=_0x5b12ba;console[_0x1addff(0x215)](_0x1addff(0x25b),_0x1e2be6),_0x186123?.(_0x1e2be6);})['on']('postgres_changes',{'event':_0x5b12ba(0x1fa),'schema':'api','table':'support_tickets'},_0x50b758=>{console['log']('Ticket\x20deleted:',_0x50b758),_0x5f42bd?.(_0x50b758);})[_0x5b12ba(0x1f1)](),_0x1e2d30=null;return _0x317ca4&&_0xf38e27&&(_0x1e2d30=_0x11845a['channel']('ticket_messages_changes')['on']('postgres_changes',{'event':_0x5b12ba(0x23a),'schema':_0x5b12ba(0x221),'table':'ticket_messages','filter':_0x5b12ba(0x1ef)+_0x317ca4},_0x5938d1=>{console['log']('Message\x20added:',_0x5938d1),_0xf38e27(_0x5938d1);})['subscribe']()),()=>{const _0x276160=_0x5b12ba;_0x11845a[_0x276160(0x203)](_0x2e3b59),_0x1e2d30&&_0x11845a['removeChannel'](_0x1e2d30);};},[_0x50b7de,_0x186123,_0x5f42bd,_0xf38e27,_0x317ca4]);}function _0x3b68ae(_0x47f2b3={}){const _0x15f3ff=_0x105e;let [_0x44a3d0,_0x4077ed]=(0x0,_0xdd28d2['useState'])([]),[_0x269ffe,_0x203f27]=(0x0,_0xdd28d2['useState'])(!0x0),[_0x5e65d7,_0x31ea07]=(0x0,_0xdd28d2[_0x15f3ff(0x232)])(null),[_0x462478,_0x30708f]=(0x0,_0xdd28d2['useState'])(0x0),_0x4862c7=(0x0,_0xdd28d2['useCallback'])(async()=>{const _0x2f9e7d=_0x15f3ff;try{_0x203f27(!0x0),_0x31ea07(null);let {tickets:_0x4a10e3,total:_0x491fcc}=await _0x547aa7[_0x2f9e7d(0x221)][_0x2f9e7d(0x244)]({'status':_0x47f2b3['status'],'category':_0x47f2b3['category'],'assigned_to':_0x47f2b3['assigned_to']});_0x4077ed(_0x4a10e3),_0x30708f(_0x491fcc);}catch(_0x514173){_0x31ea07(_0x514173 instanceof Error?_0x514173[_0x2f9e7d(0x24a)]:'Failed\x20to\x20fetch\x20tickets');}finally{_0x203f27(!0x1);}},[_0x47f2b3[_0x15f3ff(0x245)],_0x47f2b3[_0x15f3ff(0x1f0)],_0x47f2b3['assigned_to']]);return(0x0,_0xdd28d2['useEffect'])(()=>{const _0x5bf777=_0x15f3ff;if(_0x4862c7(),_0x47f2b3[_0x5bf777(0x243)]&&_0x47f2b3['refreshInterval']){let _0x5b7c6c=setInterval(_0x4862c7,_0x47f2b3['refreshInterval']);return()=>clearInterval(_0x5b7c6c);}},[_0x4862c7,_0x47f2b3[_0x15f3ff(0x243)],_0x47f2b3['refreshInterval']]),_0xf90d22({'onTicketCreated':!0x1!==_0x47f2b3[_0x15f3ff(0x246)]?()=>_0x4862c7():void 0x0,'onTicketUpdated':!0x1!==_0x47f2b3['enableRealtime']?()=>_0x4862c7():void 0x0,'onTicketDeleted':!0x1!==_0x47f2b3['enableRealtime']?()=>_0x4862c7():void 0x0}),{'tickets':_0x44a3d0,'loading':_0x269ffe,'error':_0x5e65d7,'total':_0x462478,'refetch':_0x4862c7};}function _0x1fea4d(_0x3fbf03,_0x42f832=!0x0){const _0x991576=_0x105e;let [_0x259916,_0x49589e]=(0x0,_0xdd28d2[_0x991576(0x232)])(null),[_0x1db771,_0x5489c9]=(0x0,_0xdd28d2[_0x991576(0x232)])(!0x0),[_0x537c14,_0x5890b2]=(0x0,_0xdd28d2[_0x991576(0x232)])(null),_0x4fa00e=(0x0,_0xdd28d2['useCallback'])(async()=>{const _0x41c0f5=_0x991576;if(!_0x3fbf03){_0x49589e(null),_0x5489c9(!0x1);return;}try{_0x5489c9(!0x0),_0x5890b2(null);let _0x404427=await _0x547aa7['api']['getTicket'](_0x3fbf03);_0x49589e(_0x404427);}catch(_0x4140f9){_0x5890b2(_0x4140f9 instanceof Error?_0x4140f9[_0x41c0f5(0x24a)]:'Failed\x20to\x20fetch\x20ticket');}finally{_0x5489c9(!0x1);}},[_0x3fbf03]);return(0x0,_0xdd28d2[_0x991576(0x233)])(()=>{_0x4fa00e();},[_0x4fa00e]),_0xf90d22({'ticketId':_0x3fbf03||void 0x0,'onTicketUpdated':_0x42f832?()=>_0x4fa00e():void 0x0,'onMessageAdded':_0x42f832?()=>_0x4fa00e():void 0x0}),{'ticket':_0x259916,'loading':_0x1db771,'error':_0x537c14,'refetch':_0x4fa00e};}function _0x4568e2(){const _0x364447=_0x105e;let [_0x3ac6ca,_0x4c2c7d]=(0x0,_0xdd28d2[_0x364447(0x232)])(!0x1),[_0x379294,_0x4812ef]=(0x0,_0xdd28d2[_0x364447(0x232)])(null);return{'createTicket':async _0x578ad1=>{const _0x44e679=_0x364447;try{return _0x4c2c7d(!0x0),_0x4812ef(null),(await _0x547aa7['api']['createTicket'](_0x578ad1))[_0x44e679(0x237)];}catch(_0x4a75cf){let _0x3191e9=_0x4a75cf instanceof Error?_0x4a75cf['message']:'Failed\x20to\x20create\x20ticket';throw _0x4812ef(_0x3191e9),Error(_0x3191e9);}finally{_0x4c2c7d(!0x1);}},'loading':_0x3ac6ca,'error':_0x379294};}function _0x2fc7a0(){let [_0x2db13d,_0xebec23]=(0x0,_0xdd28d2['useState'])(!0x1),[_0x1d3015,_0x92e922]=(0x0,_0xdd28d2['useState'])(null);return{'updateTicket':async _0x468a9b=>{const _0x396f09=_0x105e;try{return _0xebec23(!0x0),_0x92e922(null),(await _0x547aa7[_0x396f09(0x221)]['updateTicket'](_0x468a9b))['ticket'];}catch(_0x57be4c){let _0xe21127=_0x57be4c instanceof Error?_0x57be4c[_0x396f09(0x24a)]:_0x396f09(0x22e);throw _0x92e922(_0xe21127),Error(_0xe21127);}finally{_0xebec23(!0x1);}},'loading':_0x2db13d,'error':_0x1d3015};}function _0x5f0379(){const _0x40ab0c=_0x105e;let [_0xdb20f0,_0x3cb6c0]=(0x0,_0xdd28d2['useState'])(!0x1),[_0xdc3258,_0x32c136]=(0x0,_0xdd28d2[_0x40ab0c(0x232)])(null);return{'escalateTicket':async _0x510716=>{const _0xd2e729=_0x40ab0c;try{return _0x3cb6c0(!0x0),_0x32c136(null),(await _0x547aa7[_0xd2e729(0x221)][_0xd2e729(0x261)](_0x510716))['ticket'];}catch(_0x4fec01){let _0x26f4b6=_0x4fec01 instanceof Error?_0x4fec01['message']:_0xd2e729(0x250);throw _0x32c136(_0x26f4b6),Error(_0x26f4b6);}finally{_0x3cb6c0(!0x1);}},'loading':_0xdb20f0,'error':_0xdc3258};}function _0x50c152(){let [_0x3d7a4a,_0x8f5645]=(0x0,_0xdd28d2['useState'])(!0x1),[_0x31cd8c,_0x4c161e]=(0x0,_0xdd28d2['useState'])(null);return{'addMessage':async _0x437bdf=>{const _0x36c06a=_0x105e;try{return _0x8f5645(!0x0),_0x4c161e(null),(await _0x547aa7[_0x36c06a(0x221)][_0x36c06a(0x211)](_0x437bdf))['message'];}catch(_0x3acd9f){let _0x1afcff=_0x3acd9f instanceof Error?_0x3acd9f['message']:'Failed\x20to\x20add\x20message';throw _0x4c161e(_0x1afcff),Error(_0x1afcff);}finally{_0x8f5645(!0x1);}},'loading':_0x3d7a4a,'error':_0x31cd8c};}}},_0x59dc1f=>{_0x59dc1f['O'](0x0,[0x2603,0x259f,0x16fd,0x1b1b,0x492,0x1cbe],()=>_0x59dc1f(_0x59dc1f['s']=0xb73f)),_N_E=_0x59dc1f['O']();}]));