function _0x2cfb(_0x3200f4,_0x2d7ee8){_0x3200f4=_0x3200f4-0x1c6;const _0x585df8=_0x585d();let _0x2cfb58=_0x585df8[_0x3200f4];return _0x2cfb58;}const _0x50ece4=_0x2cfb;function _0x585d(){const _0x52bceb=['How\x20satisfied\x20are\x20you\x20with\x20the\x20resolution?','text-gray-700\x20whitespace-pre-wrap','updateTicket','refreshInterval','[useAuth]\x20Token\x20refreshed\x20successfully','unsubscribe','INSERT','max-w-4xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','escalateTicket','author','category','9JbYLBN','error','735906yVKWNn','assignee','message','11435464nCEXJD','support_tickets_changes','getTickets','autoRefresh','title','signOut','/support','push','resolved','webpackChunk_N_E','priority','Failed\x20to\x20load\x20ticket','flex\x20items-start\x20justify-between\x20mb-2','useState','map','split','useEffect','text-gray-600','api','font-semibold\x20text-gray-900','trim','flex\x20items-center\x20justify-between\x20mb-4','value','description','getSupabase','mt-2\x20text-gray-600','flex\x20justify-end\x20mt-3','session','user_role','text-3xl\x20font-bold\x20text-gray-900','flex\x20gap-1\x20mt-2','text-xs\x20text-gray-500','created_at','bg-gray-100\x20text-gray-800','auth','space-y-4\x20mb-6','border-t\x20pt-4','System','5fvJSYV','text-sm\x20font-medium\x20text-gray-700\x20mb-2','log','Failed\x20to\x20fetch\x20tickets','flex\x20items-center\x20gap-3','TOKEN_REFRESHED','user','refreshSession','4502481KBXeIn','jsx','text-gray-600\x20mb-4','display_name','jsxs','postgres_changes','addTicketMessage','Conversation','status','bg-blue-100\x20text-blue-800','removeChannel','ticket_id=eq.','admin','satisfaction_rating','animate-spin\x20rounded-full\x20h-12\x20w-12\x20border-b-2\x20border-emerald-600\x20mx-auto','Assigned\x20to:','56276390gQnwEH','Failed\x20to\x20fetch\x20ticket','button','[useAuth]\x20No\x20session\x20returned\x20after\x20refresh','charAt','mb-6','990930NYWlas','bg-gray-50\x20border\x20border-gray-200','Support\x20Team','flex\x20gap-2','useSearchParams','Failed\x20to\x20update\x20ticket','4EQjoGi','ticket','closed','text-xs\x20px-2\x20py-1\x20bg-blue-200\x20rounded','flex\x20items-center\x20justify-center\x20min-h-screen','text-center','UPDATE','assigned_to','filter','then','bg-purple-100\x20text-purple-800','10816841ZnRGwP','slice','px-6\x20py-2\x20bg-emerald-600\x20text-white\x20rounded-lg\x20hover:bg-emerald-700\x20disabled:opacity-50\x20disabled:cursor-not-allowed','text-2xl','subscribe','usePathname','textarea','channel','enableRealtime','is_system','text-lg\x20font-semibold\x20mb-4','text-green-800','span','bg-blue-50\x20border\x20border-blue-200','text-gray-600\x20hover:text-gray-900\x20mb-4\x20flex\x20items-center\x20gap-2','/auth/login','365702VAakZj','Back\x20to\x20Support','p-4\x20rounded-lg\x20','useRouter','useCallback','div'];_0x585d=function(){return _0x52bceb;};return _0x585d();}(function(_0x28e367,_0x125ee5){const _0x1009db=_0x2cfb,_0x4a8285=_0x28e367();while(!![]){try{const _0x577861=parseInt(_0x1009db(0x207))/0x1+-parseInt(_0x1009db(0x1e6))/0x2+parseInt(_0x1009db(0x1d0))/0x3*(-parseInt(_0x1009db(0x1ec))/0x4)+parseInt(_0x1009db(0x1c8))/0x5*(-parseInt(_0x1009db(0x21a))/0x6)+-parseInt(_0x1009db(0x1f7))/0x7+-parseInt(_0x1009db(0x21d))/0x8*(parseInt(_0x1009db(0x218))/0x9)+parseInt(_0x1009db(0x1e0))/0xa;if(_0x577861===_0x125ee5)break;else _0x4a8285['push'](_0x4a8285['shift']());}catch(_0x41ee36){_0x4a8285['push'](_0x4a8285['shift']());}}}(_0x585d,0xdba76),(self['webpackChunk_N_E']=self[_0x50ece4(0x226)]||[])['push']([[0xac3],{0x9c1c:(_0x20a500,_0x3c455d,_0x50bbe1)=>{'use strict';_0x50bbe1['r'](_0x3c455d),_0x50bbe1['d'](_0x3c455d,{'default':()=>_0x3ef463});var _0x3837e1=_0x50bbe1(0xd773),_0x26a367=_0x50bbe1(0x5433),_0x4082a3=_0x50bbe1(0x10edb),_0x49900e=_0x50bbe1(0xc541),_0x1ba1b8=_0x50bbe1(0x14a5a);function _0x3ef463(){const _0x14d413=_0x2cfb;let {user:_0x5d7112,loading:_0x32a27f}=(0x0,_0x4082a3['A'])(),_0x12b958=(0x0,_0x49900e[_0x14d413(0x20a)])(),_0x5473ab=(0x0,_0x49900e[_0x14d413(0x1ea)])()['get']('id'),{ticket:_0x4dfe10,loading:_0x33e26d,error:_0xfdac73,refetch:_0x30b93a}=(0x0,_0x1ba1b8['yS'])(_0x5473ab||''),{updateTicket:_0x3b6879,loading:_0x55bf9d}=(0x0,_0x1ba1b8['tY'])(),{addMessage:_0x538b0f,loading:_0x224b80}=(0x0,_0x1ba1b8['c0'])(),[_0x1cd52f,_0xc4c892]=(0x0,_0x26a367[_0x14d413(0x22a)])(''),[_0x8ccd7,_0x2241a9]=(0x0,_0x26a367['useState'])(null);(0x0,_0x26a367[_0x14d413(0x22d)])(()=>{const _0x15cb64=_0x14d413;_0x32a27f||_0x5d7112||_0x12b958[_0x15cb64(0x224)](_0x15cb64(0x206));},[_0x5d7112,_0x32a27f,_0x12b958]);let _0x3945c=async()=>{const _0x50b188=_0x14d413;if(_0x1cd52f[_0x50b188(0x231)]()&&_0x5473ab)try{await _0x538b0f({'ticketId':_0x5473ab,'message':_0x1cd52f}),_0xc4c892(''),_0x30b93a();}catch(_0x1544d2){console[_0x50b188(0x219)]('Failed\x20to\x20send\x20message:',_0x1544d2);}},_0x149177=async _0x523e8d=>{if(_0x5473ab)try{await _0x3b6879({'ticketId':_0x5473ab,'satisfaction_rating':_0x523e8d}),_0x2241a9(_0x523e8d),_0x30b93a();}catch(_0xecaa4e){console['error']('Failed\x20to\x20rate\x20ticket:',_0xecaa4e);}};return _0x5473ab?_0x32a27f||_0x33e26d?(0x0,_0x3837e1[_0x14d413(0x1d1)])('div',{'className':'flex\x20items-center\x20justify-center\x20min-h-screen','children':(0x0,_0x3837e1['jsxs'])('div',{'className':'text-center','children':[(0x0,_0x3837e1['jsx'])('div',{'className':_0x14d413(0x1de)}),(0x0,_0x3837e1[_0x14d413(0x1d1)])('p',{'className':'mt-4\x20text-gray-600','children':'Loading\x20ticket...'})]})}):_0xfdac73||!_0x4dfe10?(0x0,_0x3837e1['jsx'])('div',{'className':_0x14d413(0x1f0),'children':(0x0,_0x3837e1['jsxs'])(_0x14d413(0x20c),{'className':'text-center','children':[(0x0,_0x3837e1['jsx'])('p',{'className':'text-red-600','children':_0x14d413(0x228)}),(0x0,_0x3837e1[_0x14d413(0x1d1)])(_0x14d413(0x1e2),{'onClick':()=>_0x12b958[_0x14d413(0x224)](_0x14d413(0x223)),'className':'mt-4\x20text-emerald-600\x20hover:text-emerald-700','children':_0x14d413(0x208)})]})}):(0x0,_0x3837e1['jsx'])('div',{'className':'min-h-screen\x20bg-gray-50\x20py-8','children':(0x0,_0x3837e1['jsxs'])('div',{'className':_0x14d413(0x214),'children':[(0x0,_0x3837e1['jsxs'])('div',{'className':_0x14d413(0x1e5),'children':[(0x0,_0x3837e1[_0x14d413(0x1d1)])(_0x14d413(0x1e2),{'onClick':()=>_0x12b958[_0x14d413(0x224)](_0x14d413(0x223)),'className':_0x14d413(0x205),'children':'←\x20Back\x20to\x20Support'}),(0x0,_0x3837e1['jsx'])('h1',{'className':_0x14d413(0x23a),'children':_0x4dfe10[_0x14d413(0x221)]})]}),(0x0,_0x3837e1['jsxs'])('div',{'className':'bg-white\x20rounded-lg\x20shadow-md\x20p-6\x20mb-6','children':[(0x0,_0x3837e1[_0x14d413(0x1d4)])('div',{'className':_0x14d413(0x232),'children':[(0x0,_0x3837e1['jsxs'])('div',{'className':_0x14d413(0x1cc),'children':[(0x0,_0x3837e1[_0x14d413(0x1d1)])(_0x14d413(0x203),{'className':'px-4\x20py-2\x20text-sm\x20font-medium\x20rounded-full\x20'+({'open':_0x14d413(0x1d9),'in_progress':'bg-yellow-100\x20text-yellow-800','waiting_response':_0x14d413(0x1f6),'escalated':'bg-red-100\x20text-red-800','resolved':'bg-green-100\x20text-green-800','closed':'bg-gray-100\x20text-gray-800'}[_0x4dfe10['status']]||'bg-gray-100\x20text-gray-800'),'children':_0x4dfe10[_0x14d413(0x1d8)][_0x14d413(0x22c)]('_')['map'](_0x2b5d05=>_0x2b5d05[_0x14d413(0x1e4)](0x0)['toUpperCase']()+_0x2b5d05[_0x14d413(0x1f8)](0x1))['join']('\x20')}),(0x0,_0x3837e1[_0x14d413(0x1d1)])(_0x14d413(0x203),{'className':'px-3\x20py-1\x20text-sm\x20font-medium\x20rounded-full\x20'+({'low':_0x14d413(0x23e),'medium':_0x14d413(0x1d9),'high':'bg-orange-100\x20text-orange-800','urgent':'bg-red-100\x20text-red-800'}[_0x4dfe10[_0x14d413(0x227)]]||'bg-gray-100\x20text-gray-800'),'children':_0x4dfe10['priority']})]}),(0x0,_0x3837e1['jsxs'])(_0x14d413(0x203),{'className':'text-sm\x20text-gray-500','children':['Created\x20',_0xa049be(_0x4dfe10['created_at'])]})]}),(0x0,_0x3837e1[_0x14d413(0x1d4)])('div',{'className':'bg-gray-50\x20rounded-lg\x20p-4','children':[(0x0,_0x3837e1['jsx'])('p',{'className':_0x14d413(0x1c9),'children':'Original\x20Request:'}),(0x0,_0x3837e1[_0x14d413(0x1d1)])('p',{'className':'text-gray-700\x20whitespace-pre-wrap','children':_0x4dfe10[_0x14d413(0x234)]})]}),(0x0,_0x3837e1['jsxs'])('div',{'className':'grid\x20grid-cols-2\x20gap-4\x20mt-4\x20text-sm','children':[(0x0,_0x3837e1[_0x14d413(0x1d4)])(_0x14d413(0x20c),{'children':[(0x0,_0x3837e1[_0x14d413(0x1d1)])('span',{'className':_0x14d413(0x22e),'children':'Category:'}),(0x0,_0x3837e1['jsx'])('span',{'className':'ml-2\x20font-medium','children':_0x4dfe10[_0x14d413(0x217)]['split']('_')['map'](_0x470e0e=>_0x470e0e[_0x14d413(0x1e4)](0x0)['toUpperCase']()+_0x470e0e[_0x14d413(0x1f8)](0x1))['join']('\x20')})]}),_0x4dfe10[_0x14d413(0x1f3)]&&_0x4dfe10[_0x14d413(0x21b)]&&(0x0,_0x3837e1[_0x14d413(0x1d4)])(_0x14d413(0x20c),{'children':[(0x0,_0x3837e1['jsx'])(_0x14d413(0x203),{'className':_0x14d413(0x22e),'children':_0x14d413(0x1df)}),(0x0,_0x3837e1[_0x14d413(0x1d1)])(_0x14d413(0x203),{'className':'ml-2\x20font-medium','children':_0x4dfe10['assignee'][_0x14d413(0x1d3)]})]})]})]}),(0x0,_0x3837e1[_0x14d413(0x1d4)])(_0x14d413(0x20c),{'className':'bg-white\x20rounded-lg\x20shadow-md\x20p-6\x20mb-6','children':[(0x0,_0x3837e1['jsx'])('h2',{'className':'text-xl\x20font-semibold\x20mb-4','children':_0x14d413(0x1d7)}),(0x0,_0x3837e1[_0x14d413(0x1d1)])(_0x14d413(0x20c),{'className':_0x14d413(0x240),'children':_0x4dfe10['messages'][_0x14d413(0x1f4)](_0x8b3161=>!_0x8b3161['is_internal'])['map'](_0x39bcde=>{const _0xe3f7c5=_0x14d413;let _0x420997=_0x39bcde['author']&&['support','manager',_0xe3f7c5(0x1dc)]['includes'](_0x39bcde[_0xe3f7c5(0x216)][_0xe3f7c5(0x239)]);return(0x0,_0x3837e1[_0xe3f7c5(0x1d4)])('div',{'className':_0xe3f7c5(0x209)+(_0x39bcde[_0xe3f7c5(0x200)]?_0xe3f7c5(0x1e7):_0x420997?_0xe3f7c5(0x204):'bg-emerald-50\x20border\x20border-emerald-200'),'children':[(0x0,_0x3837e1[_0xe3f7c5(0x1d4)])(_0xe3f7c5(0x20c),{'className':_0xe3f7c5(0x229),'children':[(0x0,_0x3837e1['jsxs'])(_0xe3f7c5(0x20c),{'className':'flex\x20items-center\x20gap-2','children':[(0x0,_0x3837e1[_0xe3f7c5(0x1d1)])(_0xe3f7c5(0x203),{'className':_0xe3f7c5(0x230),'children':_0x39bcde[_0xe3f7c5(0x216)]?.['display_name']||_0xe3f7c5(0x1c7)}),_0x420997&&(0x0,_0x3837e1[_0xe3f7c5(0x1d1)])(_0xe3f7c5(0x203),{'className':_0xe3f7c5(0x1ef),'children':_0xe3f7c5(0x1e8)})]}),(0x0,_0x3837e1[_0xe3f7c5(0x1d1)])(_0xe3f7c5(0x203),{'className':_0xe3f7c5(0x23c),'children':_0xa049be(_0x39bcde[_0xe3f7c5(0x23d)])})]}),(0x0,_0x3837e1[_0xe3f7c5(0x1d1)])('p',{'className':_0xe3f7c5(0x20e),'children':_0x39bcde[_0xe3f7c5(0x21c)]})]},_0x39bcde['id']);})}),_0x14d413(0x1ee)!==_0x4dfe10[_0x14d413(0x1d8)]&&(0x0,_0x3837e1[_0x14d413(0x1d4)])(_0x14d413(0x20c),{'className':_0x14d413(0x1c6),'children':[(0x0,_0x3837e1[_0x14d413(0x1d1)])(_0x14d413(0x1fd),{'value':_0x1cd52f,'onChange':_0x108b1a=>_0xc4c892(_0x108b1a['target'][_0x14d413(0x233)]),'placeholder':'Type\x20your\x20reply...','className':'w-full\x20px-4\x20py-3\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent\x20resize-none','rows':0x4}),(0x0,_0x3837e1['jsx'])(_0x14d413(0x20c),{'className':_0x14d413(0x237),'children':(0x0,_0x3837e1['jsx'])(_0x14d413(0x1e2),{'onClick':_0x3945c,'disabled':_0x224b80||!_0x1cd52f['trim'](),'className':_0x14d413(0x1f9),'children':_0x224b80?'Sending...':'Send\x20Reply'})})]})]}),_0x14d413(0x225)===_0x4dfe10['status']&&!_0x4dfe10['satisfaction_rating']&&(0x0,_0x3837e1['jsxs'])('div',{'className':'bg-white\x20rounded-lg\x20shadow-md\x20p-6','children':[(0x0,_0x3837e1['jsx'])('h3',{'className':_0x14d413(0x201),'children':'Rate\x20Your\x20Support\x20Experience'}),(0x0,_0x3837e1['jsx'])('p',{'className':_0x14d413(0x1d2),'children':_0x14d413(0x20d)}),(0x0,_0x3837e1['jsx'])('div',{'className':_0x14d413(0x1e9),'children':[0x1,0x2,0x3,0x4,0x5]['map'](_0x19b18a=>(0x0,_0x3837e1['jsx'])('button',{'onClick':()=>_0x149177(_0x19b18a),'disabled':_0x55bf9d,'className':'text-4xl\x20hover:scale-110\x20transition-transform\x20disabled:opacity-50','children':_0x19b18a<=(_0x8ccd7||0x0)?'⭐':'☆'},_0x19b18a))})]}),_0x4dfe10[_0x14d413(0x1dd)]&&(0x0,_0x3837e1[_0x14d413(0x1d4)])(_0x14d413(0x20c),{'className':'bg-green-50\x20border\x20border-green-200\x20rounded-lg\x20p-6','children':[(0x0,_0x3837e1['jsx'])('p',{'className':_0x14d413(0x202),'children':'Thank\x20you\x20for\x20rating\x20this\x20ticket!\x20Your\x20feedback\x20helps\x20us\x20improve.'}),(0x0,_0x3837e1['jsx'])(_0x14d413(0x20c),{'className':_0x14d413(0x23b),'children':[0x1,0x2,0x3,0x4,0x5][_0x14d413(0x22b)](_0x282b1f=>(0x0,_0x3837e1['jsx'])(_0x14d413(0x203),{'className':_0x14d413(0x1fa),'children':_0x282b1f<=_0x4dfe10['satisfaction_rating']?'⭐':'☆'},_0x282b1f))})]})]})}):(0x0,_0x3837e1['jsx'])('div',{'className':'min-h-screen\x20bg-gray-50\x20py-8','children':(0x0,_0x3837e1['jsx'])(_0x14d413(0x20c),{'className':_0x14d413(0x214),'children':(0x0,_0x3837e1[_0x14d413(0x1d4)])('div',{'className':_0x14d413(0x1f1),'children':[(0x0,_0x3837e1[_0x14d413(0x1d1)])('h2',{'className':'text-2xl\x20font-bold\x20text-gray-900','children':'Ticket\x20Not\x20Found'}),(0x0,_0x3837e1[_0x14d413(0x1d1)])('p',{'className':_0x14d413(0x236),'children':'No\x20ticket\x20ID\x20provided.'}),(0x0,_0x3837e1['jsx'])(_0x14d413(0x1e2),{'onClick':()=>_0x12b958['push']('/support'),'className':'mt-4\x20px-4\x20py-2\x20bg-emerald-600\x20text-white\x20rounded-lg\x20hover:bg-emerald-700','children':_0x14d413(0x208)})]})})});}function _0xa049be(_0x135c30){return new Date(_0x135c30)['toLocaleString']();}},0xb73f:(_0x32f64b,_0x2c1108,_0x11abff)=>{const _0x28e8c8=_0x50ece4;Promise['resolve']()[_0x28e8c8(0x1f5)](_0x11abff['bind'](_0x11abff,0x9c1c));},0xc541:(_0x3276bb,_0x14beee,_0xd8b410)=>{'use strict';const _0x10fe87=_0x50ece4;var _0x46d94b=_0xd8b410(0xed0d);_0xd8b410['o'](_0x46d94b,_0x10fe87(0x1fc))&&_0xd8b410['d'](_0x14beee,{'usePathname':function(){return _0x46d94b['usePathname'];}}),_0xd8b410['o'](_0x46d94b,_0x10fe87(0x20a))&&_0xd8b410['d'](_0x14beee,{'useRouter':function(){return _0x46d94b['useRouter'];}}),_0xd8b410['o'](_0x46d94b,_0x10fe87(0x1ea))&&_0xd8b410['d'](_0x14beee,{'useSearchParams':function(){const _0x28f35a=_0x10fe87;return _0x46d94b[_0x28f35a(0x1ea)];}});},0x10edb:(_0x4603d8,_0x507a10,_0x5a7941)=>{'use strict';_0x5a7941['d'](_0x507a10,{'A':()=>_0x228a4e});var _0x9e6a8b=_0x5a7941(0x5433),_0x28e1e7=_0x5a7941(0x3e0d);function _0x228a4e(){const _0x356033=_0x2cfb;let [_0x1d72ec,_0x13f6d7]=(0x0,_0x9e6a8b[_0x356033(0x22a)])(null),[_0x10e882,_0x21702d]=(0x0,_0x9e6a8b[_0x356033(0x22a)])(!0x0),[_0x2673b6,_0x1c7caf]=(0x0,_0x9e6a8b[_0x356033(0x22a)])(!0x1),[_0x52d4c6,_0xa1a921]=(0x0,_0x9e6a8b['useState'])(null),_0x49efd6=(0x0,_0x9e6a8b['useCallback'])(async()=>{const _0xb83926=_0x356033;try{let _0x41f121=(0x0,_0x28e1e7[_0xb83926(0x235)])(),{data:_0x443860,error:_0x1f7f39}=await _0x41f121[_0xb83926(0x23f)][_0xb83926(0x1cf)]();if(_0x1f7f39)return console[_0xb83926(0x219)]('[useAuth]\x20Refresh\x20error:',_0x1f7f39),!0x1;if(!_0x443860?.[_0xb83926(0x238)])return console[_0xb83926(0x219)](_0xb83926(0x1e3)),!0x1;return _0xa1a921(_0x443860[_0xb83926(0x238)]),_0x13f6d7(_0x443860[_0xb83926(0x238)][_0xb83926(0x1ce)]),console['log']('[useAuth]\x20Session\x20refreshed\x20successfully'),!0x0;}catch(_0x5af797){return console[_0xb83926(0x219)]('[useAuth]\x20Failed\x20to\x20refresh:',_0x5af797),!0x1;}},[]);return(0x0,_0x9e6a8b['useEffect'])(()=>{const _0x5a3a4a=_0x356033;_0x28e1e7['api']['getUser']()['then'](({data:{user:_0x2dbe4b}})=>{_0x13f6d7(_0x2dbe4b),_0x21702d(!0x1),_0x1c7caf(!0x0);})['catch'](()=>{_0x21702d(!0x1),_0x1c7caf(!0x0);});let {data:{subscription:_0x5a37a6}}=_0x28e1e7[_0x5a3a4a(0x22f)]['onAuthStateChange'](async(_0x555580,_0x1aee43)=>{const _0x1e755c=_0x5a3a4a;console['log']('[useAuth]\x20Auth\x20state\x20change:',_0x555580),_0x1e755c(0x1cd)===_0x555580&&console[_0x1e755c(0x1ca)](_0x1e755c(0x211)),_0xa1a921(_0x1aee43),_0x13f6d7(_0x1aee43?.['user']??null),_0x21702d(!0x1),_0x1c7caf(!0x0);});return()=>_0x5a37a6[_0x5a3a4a(0x212)]();},[]),{'user':_0x1d72ec,'session':_0x52d4c6,'loading':_0x10e882,'isReady':_0x2673b6,'authenticated':!!_0x1d72ec,'refreshSession':_0x49efd6,'signOut':()=>_0x28e1e7['api'][_0x356033(0x222)]()};}},0x14a5a:(_0x5d0511,_0x525c91,_0x10d8a3)=>{'use strict';_0x10d8a3['d'](_0x525c91,{'c0':()=>_0x1bd178,'Gs':()=>_0x3b396f,'oJ':()=>_0x1c03cf,'yS':()=>_0x210da1,'dS':()=>_0x40c2fa,'tY':()=>_0x2030a7});var _0x1f3dcd=_0x10d8a3(0x5433),_0x3f13c4=_0x10d8a3(0x3e0d);function _0x3febac(_0x5e8ecf={}){const _0x5357a1=_0x2cfb;let {onTicketCreated:_0xb276a2,onTicketUpdated:_0x2a39eb,onTicketDeleted:_0x3e929a,onMessageAdded:_0x3ffe92,ticketId:_0x28b874}=_0x5e8ecf;(0x0,_0x1f3dcd[_0x5357a1(0x22d)])(()=>{const _0x28d5fa=_0x5357a1;let _0x3715fb=(0x0,_0x3f13c4[_0x28d5fa(0x235)])(),_0x3cf9b4=_0x3715fb[_0x28d5fa(0x1fe)](_0x28d5fa(0x21e))['on']('postgres_changes',{'event':_0x28d5fa(0x213),'schema':_0x28d5fa(0x22f),'table':'support_tickets'},_0x20f7f8=>{console['log']('Ticket\x20created:',_0x20f7f8),_0xb276a2?.(_0x20f7f8);})['on']('postgres_changes',{'event':_0x28d5fa(0x1f2),'schema':'api','table':'support_tickets',..._0x28b874?{'filter':'id=eq.'+_0x28b874}:{}},_0x1680c0=>{console['log']('Ticket\x20updated:',_0x1680c0),_0x2a39eb?.(_0x1680c0);})['on'](_0x28d5fa(0x1d5),{'event':'DELETE','schema':'api','table':'support_tickets'},_0x564c64=>{console['log']('Ticket\x20deleted:',_0x564c64),_0x3e929a?.(_0x564c64);})['subscribe'](),_0x3c9c47=null;return _0x28b874&&_0x3ffe92&&(_0x3c9c47=_0x3715fb['channel']('ticket_messages_changes')['on'](_0x28d5fa(0x1d5),{'event':_0x28d5fa(0x213),'schema':_0x28d5fa(0x22f),'table':'ticket_messages','filter':_0x28d5fa(0x1db)+_0x28b874},_0xa4a360=>{const _0x5aa566=_0x28d5fa;console[_0x5aa566(0x1ca)]('Message\x20added:',_0xa4a360),_0x3ffe92(_0xa4a360);})[_0x28d5fa(0x1fb)]()),()=>{const _0x4bd022=_0x28d5fa;_0x3715fb['removeChannel'](_0x3cf9b4),_0x3c9c47&&_0x3715fb[_0x4bd022(0x1da)](_0x3c9c47);};},[_0xb276a2,_0x2a39eb,_0x3e929a,_0x3ffe92,_0x28b874]);}function _0x40c2fa(_0x2931b8={}){const _0x483d08=_0x2cfb;let [_0x394ed0,_0xec230]=(0x0,_0x1f3dcd['useState'])([]),[_0x5ee7e4,_0x196a99]=(0x0,_0x1f3dcd[_0x483d08(0x22a)])(!0x0),[_0x2e67d1,_0x6b48b2]=(0x0,_0x1f3dcd[_0x483d08(0x22a)])(null),[_0x335a8a,_0x6e8fb0]=(0x0,_0x1f3dcd[_0x483d08(0x22a)])(0x0),_0x574b95=(0x0,_0x1f3dcd['useCallback'])(async()=>{const _0x5897b5=_0x483d08;try{_0x196a99(!0x0),_0x6b48b2(null);let {tickets:_0x44914e,total:_0x5db1a8}=await _0x3f13c4['api'][_0x5897b5(0x21f)]({'status':_0x2931b8['status'],'category':_0x2931b8['category'],'assigned_to':_0x2931b8['assigned_to']});_0xec230(_0x44914e),_0x6e8fb0(_0x5db1a8);}catch(_0x9e4424){_0x6b48b2(_0x9e4424 instanceof Error?_0x9e4424[_0x5897b5(0x21c)]:_0x5897b5(0x1cb));}finally{_0x196a99(!0x1);}},[_0x2931b8[_0x483d08(0x1d8)],_0x2931b8['category'],_0x2931b8['assigned_to']]);return(0x0,_0x1f3dcd['useEffect'])(()=>{const _0x1ea1eb=_0x483d08;if(_0x574b95(),_0x2931b8['autoRefresh']&&_0x2931b8[_0x1ea1eb(0x210)]){let _0x4e39e6=setInterval(_0x574b95,_0x2931b8[_0x1ea1eb(0x210)]);return()=>clearInterval(_0x4e39e6);}},[_0x574b95,_0x2931b8[_0x483d08(0x220)],_0x2931b8[_0x483d08(0x210)]]),_0x3febac({'onTicketCreated':!0x1!==_0x2931b8[_0x483d08(0x1ff)]?()=>_0x574b95():void 0x0,'onTicketUpdated':!0x1!==_0x2931b8[_0x483d08(0x1ff)]?()=>_0x574b95():void 0x0,'onTicketDeleted':!0x1!==_0x2931b8['enableRealtime']?()=>_0x574b95():void 0x0}),{'tickets':_0x394ed0,'loading':_0x5ee7e4,'error':_0x2e67d1,'total':_0x335a8a,'refetch':_0x574b95};}function _0x210da1(_0x41ed74,_0x309ca2=!0x0){const _0x4279fd=_0x2cfb;let [_0x2f970d,_0x1cac33]=(0x0,_0x1f3dcd['useState'])(null),[_0x24aa52,_0x1e6ca5]=(0x0,_0x1f3dcd[_0x4279fd(0x22a)])(!0x0),[_0x2f99c6,_0x873ce6]=(0x0,_0x1f3dcd[_0x4279fd(0x22a)])(null),_0x4d906a=(0x0,_0x1f3dcd[_0x4279fd(0x20b)])(async()=>{const _0x34a813=_0x4279fd;if(!_0x41ed74){_0x1cac33(null),_0x1e6ca5(!0x1);return;}try{_0x1e6ca5(!0x0),_0x873ce6(null);let _0x142cfd=await _0x3f13c4['api']['getTicket'](_0x41ed74);_0x1cac33(_0x142cfd);}catch(_0x5ee24e){_0x873ce6(_0x5ee24e instanceof Error?_0x5ee24e['message']:_0x34a813(0x1e1));}finally{_0x1e6ca5(!0x1);}},[_0x41ed74]);return(0x0,_0x1f3dcd[_0x4279fd(0x22d)])(()=>{_0x4d906a();},[_0x4d906a]),_0x3febac({'ticketId':_0x41ed74||void 0x0,'onTicketUpdated':_0x309ca2?()=>_0x4d906a():void 0x0,'onMessageAdded':_0x309ca2?()=>_0x4d906a():void 0x0}),{'ticket':_0x2f970d,'loading':_0x24aa52,'error':_0x2f99c6,'refetch':_0x4d906a};}function _0x3b396f(){let [_0x493901,_0xdf9c14]=(0x0,_0x1f3dcd['useState'])(!0x1),[_0x431dc0,_0x39b0ca]=(0x0,_0x1f3dcd['useState'])(null);return{'createTicket':async _0x491cb3=>{const _0x531358=_0x2cfb;try{return _0xdf9c14(!0x0),_0x39b0ca(null),(await _0x3f13c4[_0x531358(0x22f)]['createTicket'](_0x491cb3))['ticket'];}catch(_0x4be7a5){let _0x555858=_0x4be7a5 instanceof Error?_0x4be7a5[_0x531358(0x21c)]:'Failed\x20to\x20create\x20ticket';throw _0x39b0ca(_0x555858),Error(_0x555858);}finally{_0xdf9c14(!0x1);}},'loading':_0x493901,'error':_0x431dc0};}function _0x2030a7(){const _0x357148=_0x2cfb;let [_0xfa7682,_0x36ddcf]=(0x0,_0x1f3dcd['useState'])(!0x1),[_0x372b7d,_0x18255c]=(0x0,_0x1f3dcd[_0x357148(0x22a)])(null);return{'updateTicket':async _0x12c2f7=>{const _0x32f086=_0x357148;try{return _0x36ddcf(!0x0),_0x18255c(null),(await _0x3f13c4['api'][_0x32f086(0x20f)](_0x12c2f7))[_0x32f086(0x1ed)];}catch(_0x4a0e06){let _0x50ab96=_0x4a0e06 instanceof Error?_0x4a0e06[_0x32f086(0x21c)]:_0x32f086(0x1eb);throw _0x18255c(_0x50ab96),Error(_0x50ab96);}finally{_0x36ddcf(!0x1);}},'loading':_0xfa7682,'error':_0x372b7d};}function _0x1c03cf(){const _0x2e6b68=_0x2cfb;let [_0x2c4336,_0x195edf]=(0x0,_0x1f3dcd['useState'])(!0x1),[_0x2c1430,_0x5e8147]=(0x0,_0x1f3dcd[_0x2e6b68(0x22a)])(null);return{'escalateTicket':async _0x531792=>{const _0x4fcaa=_0x2e6b68;try{return _0x195edf(!0x0),_0x5e8147(null),(await _0x3f13c4['api'][_0x4fcaa(0x215)](_0x531792))['ticket'];}catch(_0x598e53){let _0x443764=_0x598e53 instanceof Error?_0x598e53[_0x4fcaa(0x21c)]:'Failed\x20to\x20escalate\x20ticket';throw _0x5e8147(_0x443764),Error(_0x443764);}finally{_0x195edf(!0x1);}},'loading':_0x2c4336,'error':_0x2c1430};}function _0x1bd178(){const _0x345df2=_0x2cfb;let [_0x5de3ad,_0x3d5140]=(0x0,_0x1f3dcd[_0x345df2(0x22a)])(!0x1),[_0x7443a1,_0x4a347a]=(0x0,_0x1f3dcd['useState'])(null);return{'addMessage':async _0x1eb4d9=>{const _0x2ca19b=_0x345df2;try{return _0x3d5140(!0x0),_0x4a347a(null),(await _0x3f13c4[_0x2ca19b(0x22f)][_0x2ca19b(0x1d6)](_0x1eb4d9))[_0x2ca19b(0x21c)];}catch(_0x5ac89c){let _0xf2694e=_0x5ac89c instanceof Error?_0x5ac89c['message']:'Failed\x20to\x20add\x20message';throw _0x4a347a(_0xf2694e),Error(_0xf2694e);}finally{_0x3d5140(!0x1);}},'loading':_0x5de3ad,'error':_0x7443a1};}}},_0x39f4c4=>{_0x39f4c4['O'](0x0,[0x2603,0x259f,0x16fd,0x1b1b,0x492,0x1cbe],()=>_0x39f4c4(_0x39f4c4['s']=0xb73f)),_N_E=_0x39f4c4['O']();}]));