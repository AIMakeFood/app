const _0x2762b4=_0x5e19;function _0x2764(){const _0x59c04d=['error','priority','min-h-screen\x20bg-gray-50\x20py-8','ticket_id=eq.','max-w-4xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','[useAuth]\x20No\x20session\x20returned\x20after\x20refresh','Conversation','UPDATE','flex\x20items-start\x20justify-between\x20mb-2','[useAuth]\x20Auth\x20state\x20change:','text-sm\x20font-medium\x20text-gray-700\x20mb-2','target','log','subscribe','session','bg-red-100\x20text-red-800','channel','div','created_at','map','bg-green-50\x20border\x20border-green-200\x20rounded-lg\x20p-6','useSearchParams','closed','jsxs','assigned_to','text-green-800','Assigned\x20to:','Failed\x20to\x20create\x20ticket','text-center','INSERT','value','getUser','4966185kofFew','api','push','button','text-gray-600','Back\x20to\x20Support','title','charAt','4555548pFOoTF','Failed\x20to\x20escalate\x20ticket','7865977XWGoTs','1AoBevy','Failed\x20to\x20add\x20message','/support','get','DELETE','useState','support','toUpperCase','assignee','px-6\x20py-2\x20bg-emerald-600\x20text-white\x20rounded-lg\x20hover:bg-emerald-700\x20disabled:opacity-50\x20disabled:cursor-not-allowed','1816RQjJeW','postgres_changes','Created\x20','text-xl\x20font-semibold\x20mb-4','resolve','ticket','Failed\x20to\x20load\x20ticket','mt-4\x20text-emerald-600\x20hover:text-emerald-700','signOut','refreshInterval','message','bg-gray-100\x20text-gray-800','text-xs\x20px-2\x20py-1\x20bg-blue-200\x20rounded','text-gray-600\x20hover:text-gray-900\x20mb-4\x20flex\x20items-center\x20gap-2','getSupabase','useEffect','28388110HBwmKH','animate-spin\x20rounded-full\x20h-12\x20w-12\x20border-b-2\x20border-emerald-600\x20mx-auto','Type\x20your\x20reply...','unsubscribe','grid\x20grid-cols-2\x20gap-4\x20mt-4\x20text-sm','manager','escalateTicket','Ticket\x20deleted:','useRouter','jsx','trim','filter','webpackChunk_N_E','Ticket\x20created:','←\x20Back\x20to\x20Support','ticket_messages_changes','removeChannel','border-t\x20pt-4','Failed\x20to\x20rate\x20ticket:','display_name','885384jdeEMy','mt-4\x20text-gray-600','bg-white\x20rounded-lg\x20shadow-md\x20p-6','slice','text-gray-600\x20mb-4','useCallback','span','text-3xl\x20font-bold\x20text-gray-900','text-lg\x20font-semibold\x20mb-4','bg-purple-100\x20text-purple-800','support_tickets','textarea','usePathname','flex\x20items-center\x20justify-center\x20min-h-screen','font-semibold\x20text-gray-900','satisfaction_rating','updateTicket','Ticket\x20updated:','category','7035YSMHxU','flex\x20items-center\x20gap-2','No\x20ticket\x20ID\x20provided.','status','6ngQwTN','1708914HKZYtz','Original\x20Request:','flex\x20gap-1\x20mt-2','[useAuth]\x20Session\x20refreshed\x20successfully','ticket_messages','autoRefresh'];_0x2764=function(){return _0x59c04d;};return _0x2764();}function _0x5e19(_0x24dd90,_0x4de648){_0x24dd90=_0x24dd90-0x1a6;const _0x2764c4=_0x2764();let _0x5e198a=_0x2764c4[_0x24dd90];return _0x5e198a;}(function(_0x5a199b,_0x54af06){const _0x1ba616=_0x5e19,_0x338afb=_0x5a199b();while(!![]){try{const _0x52f335=-parseInt(_0x1ba616(0x1f2))/0x1*(parseInt(_0x1ba616(0x1c1))/0x2)+parseInt(_0x1ba616(0x1bc))/0x3*(-parseInt(_0x1ba616(0x1fc))/0x4)+-parseInt(_0x1ba616(0x1e7))/0x5+parseInt(_0x1ba616(0x1c0))/0x6*(parseInt(_0x1ba616(0x1f1))/0x7)+parseInt(_0x1ba616(0x1a9))/0x8+-parseInt(_0x1ba616(0x1ef))/0x9+parseInt(_0x1ba616(0x20c))/0xa;if(_0x52f335===_0x54af06)break;else _0x338afb['push'](_0x338afb['shift']());}catch(_0x1dd48c){_0x338afb['push'](_0x338afb['shift']());}}}(_0x2764,0x9fd6b),(self[_0x2762b4(0x218)]=self['webpackChunk_N_E']||[])['push']([[0xac3],{0x9c1c:(_0x29aca9,_0x48fde6,_0xc7d20f)=>{'use strict';_0xc7d20f['r'](_0x48fde6),_0xc7d20f['d'](_0x48fde6,{'default':()=>_0x2ffcbb});var _0x103ec3=_0xc7d20f(0xd773),_0x3c0275=_0xc7d20f(0x5433),_0x516cfd=_0xc7d20f(0x10edb),_0x4c799=_0xc7d20f(0xc541),_0x221ec6=_0xc7d20f(0x14a5a);function _0x2ffcbb(){const _0xd98e48=_0x5e19;let {user:_0x4b9315,loading:_0x1d4694}=(0x0,_0x516cfd['A'])(),_0x37f4b3=(0x0,_0x4c799['useRouter'])(),_0x10b01f=(0x0,_0x4c799['useSearchParams'])()[_0xd98e48(0x1f5)]('id'),{ticket:_0x21999f,loading:_0x110eba,error:_0x1db4c5,refetch:_0x11ef4e}=(0x0,_0x221ec6['yS'])(_0x10b01f||''),{updateTicket:_0x342302,loading:_0x22b5a1}=(0x0,_0x221ec6['tY'])(),{addMessage:_0x157990,loading:_0x2f49fd}=(0x0,_0x221ec6['c0'])(),[_0x4c96a7,_0x4a6fb5]=(0x0,_0x3c0275['useState'])(''),[_0xf1baa6,_0x58af6f]=(0x0,_0x3c0275[_0xd98e48(0x1f7)])(null);(0x0,_0x3c0275['useEffect'])(()=>{_0x1d4694||_0x4b9315||_0x37f4b3['push']('/auth/login');},[_0x4b9315,_0x1d4694,_0x37f4b3]);let _0x2413bc=async()=>{if(_0x4c96a7['trim']()&&_0x10b01f)try{await _0x157990({'ticketId':_0x10b01f,'message':_0x4c96a7}),_0x4a6fb5(''),_0x11ef4e();}catch(_0x38c0ca){console['error']('Failed\x20to\x20send\x20message:',_0x38c0ca);}},_0x221c6c=async _0xe5431a=>{const _0x581a2f=_0xd98e48;if(_0x10b01f)try{await _0x342302({'ticketId':_0x10b01f,'satisfaction_rating':_0xe5431a}),_0x58af6f(_0xe5431a),_0x11ef4e();}catch(_0x28b833){console['error'](_0x581a2f(0x1a7),_0x28b833);}};return _0x10b01f?_0x1d4694||_0x110eba?(0x0,_0x103ec3[_0xd98e48(0x215)])(_0xd98e48(0x1d8),{'className':_0xd98e48(0x1b6),'children':(0x0,_0x103ec3[_0xd98e48(0x1de)])('div',{'className':'text-center','children':[(0x0,_0x103ec3['jsx'])('div',{'className':_0xd98e48(0x20d)}),(0x0,_0x103ec3['jsx'])('p',{'className':_0xd98e48(0x1aa),'children':'Loading\x20ticket...'})]})}):_0x1db4c5||!_0x21999f?(0x0,_0x103ec3['jsx'])(_0xd98e48(0x1d8),{'className':_0xd98e48(0x1b6),'children':(0x0,_0x103ec3[_0xd98e48(0x1de)])(_0xd98e48(0x1d8),{'className':_0xd98e48(0x1e3),'children':[(0x0,_0x103ec3[_0xd98e48(0x215)])('p',{'className':'text-red-600','children':_0xd98e48(0x202)}),(0x0,_0x103ec3['jsx'])(_0xd98e48(0x1ea),{'onClick':()=>_0x37f4b3['push'](_0xd98e48(0x1f4)),'className':_0xd98e48(0x203),'children':_0xd98e48(0x1ec)})]})}):(0x0,_0x103ec3[_0xd98e48(0x215)])('div',{'className':'min-h-screen\x20bg-gray-50\x20py-8','children':(0x0,_0x103ec3['jsxs'])(_0xd98e48(0x1d8),{'className':_0xd98e48(0x1cb),'children':[(0x0,_0x103ec3[_0xd98e48(0x1de)])(_0xd98e48(0x1d8),{'className':'mb-6','children':[(0x0,_0x103ec3[_0xd98e48(0x215)])(_0xd98e48(0x1ea),{'onClick':()=>_0x37f4b3['push']('/support'),'className':_0xd98e48(0x209),'children':_0xd98e48(0x21a)}),(0x0,_0x103ec3['jsx'])('h1',{'className':_0xd98e48(0x1b0),'children':_0x21999f[_0xd98e48(0x1ed)]})]}),(0x0,_0x103ec3['jsxs'])('div',{'className':'bg-white\x20rounded-lg\x20shadow-md\x20p-6\x20mb-6','children':[(0x0,_0x103ec3[_0xd98e48(0x1de)])('div',{'className':'flex\x20items-center\x20justify-between\x20mb-4','children':[(0x0,_0x103ec3['jsxs'])('div',{'className':'flex\x20items-center\x20gap-3','children':[(0x0,_0x103ec3['jsx'])(_0xd98e48(0x1af),{'className':'px-4\x20py-2\x20text-sm\x20font-medium\x20rounded-full\x20'+({'open':'bg-blue-100\x20text-blue-800','in_progress':'bg-yellow-100\x20text-yellow-800','waiting_response':_0xd98e48(0x1b2),'escalated':_0xd98e48(0x1d6),'resolved':'bg-green-100\x20text-green-800','closed':'bg-gray-100\x20text-gray-800'}[_0x21999f['status']]||'bg-gray-100\x20text-gray-800'),'children':_0x21999f[_0xd98e48(0x1bf)]['split']('_')['map'](_0x1e75fd=>_0x1e75fd[_0xd98e48(0x1ee)](0x0)[_0xd98e48(0x1f9)]()+_0x1e75fd['slice'](0x1))['join']('\x20')}),(0x0,_0x103ec3[_0xd98e48(0x215)])(_0xd98e48(0x1af),{'className':'px-3\x20py-1\x20text-sm\x20font-medium\x20rounded-full\x20'+({'low':_0xd98e48(0x207),'medium':'bg-blue-100\x20text-blue-800','high':'bg-orange-100\x20text-orange-800','urgent':'bg-red-100\x20text-red-800'}[_0x21999f[_0xd98e48(0x1c8)]]||'bg-gray-100\x20text-gray-800'),'children':_0x21999f['priority']})]}),(0x0,_0x103ec3['jsxs'])(_0xd98e48(0x1af),{'className':'text-sm\x20text-gray-500','children':[_0xd98e48(0x1fe),_0x137e58(_0x21999f[_0xd98e48(0x1d9)])]})]}),(0x0,_0x103ec3['jsxs'])(_0xd98e48(0x1d8),{'className':'bg-gray-50\x20rounded-lg\x20p-4','children':[(0x0,_0x103ec3[_0xd98e48(0x215)])('p',{'className':_0xd98e48(0x1d1),'children':_0xd98e48(0x1c2)}),(0x0,_0x103ec3['jsx'])('p',{'className':'text-gray-700\x20whitespace-pre-wrap','children':_0x21999f['description']})]}),(0x0,_0x103ec3['jsxs'])(_0xd98e48(0x1d8),{'className':_0xd98e48(0x210),'children':[(0x0,_0x103ec3['jsxs'])('div',{'children':[(0x0,_0x103ec3[_0xd98e48(0x215)])('span',{'className':_0xd98e48(0x1eb),'children':'Category:'}),(0x0,_0x103ec3[_0xd98e48(0x215)])('span',{'className':'ml-2\x20font-medium','children':_0x21999f[_0xd98e48(0x1bb)]['split']('_')['map'](_0x37063e=>_0x37063e[_0xd98e48(0x1ee)](0x0)[_0xd98e48(0x1f9)]()+_0x37063e[_0xd98e48(0x1ac)](0x1))['join']('\x20')})]}),_0x21999f[_0xd98e48(0x1df)]&&_0x21999f[_0xd98e48(0x1fa)]&&(0x0,_0x103ec3['jsxs'])('div',{'children':[(0x0,_0x103ec3['jsx'])(_0xd98e48(0x1af),{'className':'text-gray-600','children':_0xd98e48(0x1e1)}),(0x0,_0x103ec3[_0xd98e48(0x215)])(_0xd98e48(0x1af),{'className':'ml-2\x20font-medium','children':_0x21999f[_0xd98e48(0x1fa)][_0xd98e48(0x1a8)]})]})]})]}),(0x0,_0x103ec3['jsxs'])('div',{'className':'bg-white\x20rounded-lg\x20shadow-md\x20p-6\x20mb-6','children':[(0x0,_0x103ec3['jsx'])('h2',{'className':_0xd98e48(0x1ff),'children':_0xd98e48(0x1cd)}),(0x0,_0x103ec3[_0xd98e48(0x215)])(_0xd98e48(0x1d8),{'className':'space-y-4\x20mb-6','children':_0x21999f['messages'][_0xd98e48(0x217)](_0x3df4c5=>!_0x3df4c5['is_internal'])['map'](_0x4fe0f8=>{const _0x1ac329=_0xd98e48;let _0x171f0b=_0x4fe0f8['author']&&[_0x1ac329(0x1f8),_0x1ac329(0x211),'admin']['includes'](_0x4fe0f8['author']['user_role']);return(0x0,_0x103ec3[_0x1ac329(0x1de)])('div',{'className':'p-4\x20rounded-lg\x20'+(_0x4fe0f8['is_system']?'bg-gray-50\x20border\x20border-gray-200':_0x171f0b?'bg-blue-50\x20border\x20border-blue-200':'bg-emerald-50\x20border\x20border-emerald-200'),'children':[(0x0,_0x103ec3['jsxs'])('div',{'className':_0x1ac329(0x1cf),'children':[(0x0,_0x103ec3['jsxs'])(_0x1ac329(0x1d8),{'className':_0x1ac329(0x1bd),'children':[(0x0,_0x103ec3[_0x1ac329(0x215)])(_0x1ac329(0x1af),{'className':_0x1ac329(0x1b7),'children':_0x4fe0f8['author']?.[_0x1ac329(0x1a8)]||'System'}),_0x171f0b&&(0x0,_0x103ec3['jsx'])(_0x1ac329(0x1af),{'className':_0x1ac329(0x208),'children':'Support\x20Team'})]}),(0x0,_0x103ec3[_0x1ac329(0x215)])(_0x1ac329(0x1af),{'className':'text-xs\x20text-gray-500','children':_0x137e58(_0x4fe0f8['created_at'])})]}),(0x0,_0x103ec3[_0x1ac329(0x215)])('p',{'className':'text-gray-700\x20whitespace-pre-wrap','children':_0x4fe0f8['message']})]},_0x4fe0f8['id']);})}),_0xd98e48(0x1dd)!==_0x21999f[_0xd98e48(0x1bf)]&&(0x0,_0x103ec3[_0xd98e48(0x1de)])('div',{'className':_0xd98e48(0x1a6),'children':[(0x0,_0x103ec3['jsx'])(_0xd98e48(0x1b4),{'value':_0x4c96a7,'onChange':_0x4e4f3e=>_0x4a6fb5(_0x4e4f3e[_0xd98e48(0x1d2)][_0xd98e48(0x1e5)]),'placeholder':_0xd98e48(0x20e),'className':'w-full\x20px-4\x20py-3\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent\x20resize-none','rows':0x4}),(0x0,_0x103ec3['jsx'])(_0xd98e48(0x1d8),{'className':'flex\x20justify-end\x20mt-3','children':(0x0,_0x103ec3[_0xd98e48(0x215)])('button',{'onClick':_0x2413bc,'disabled':_0x2f49fd||!_0x4c96a7[_0xd98e48(0x216)](),'className':_0xd98e48(0x1fb),'children':_0x2f49fd?'Sending...':'Send\x20Reply'})})]})]}),'resolved'===_0x21999f['status']&&!_0x21999f['satisfaction_rating']&&(0x0,_0x103ec3[_0xd98e48(0x1de)])('div',{'className':_0xd98e48(0x1ab),'children':[(0x0,_0x103ec3['jsx'])('h3',{'className':_0xd98e48(0x1b1),'children':'Rate\x20Your\x20Support\x20Experience'}),(0x0,_0x103ec3[_0xd98e48(0x215)])('p',{'className':_0xd98e48(0x1ad),'children':'How\x20satisfied\x20are\x20you\x20with\x20the\x20resolution?'}),(0x0,_0x103ec3['jsx'])('div',{'className':'flex\x20gap-2','children':[0x1,0x2,0x3,0x4,0x5][_0xd98e48(0x1da)](_0x204521=>(0x0,_0x103ec3[_0xd98e48(0x215)])(_0xd98e48(0x1ea),{'onClick':()=>_0x221c6c(_0x204521),'disabled':_0x22b5a1,'className':'text-4xl\x20hover:scale-110\x20transition-transform\x20disabled:opacity-50','children':_0x204521<=(_0xf1baa6||0x0)?'⭐':'☆'},_0x204521))})]}),_0x21999f[_0xd98e48(0x1b8)]&&(0x0,_0x103ec3[_0xd98e48(0x1de)])(_0xd98e48(0x1d8),{'className':_0xd98e48(0x1db),'children':[(0x0,_0x103ec3[_0xd98e48(0x215)])('p',{'className':_0xd98e48(0x1e0),'children':'Thank\x20you\x20for\x20rating\x20this\x20ticket!\x20Your\x20feedback\x20helps\x20us\x20improve.'}),(0x0,_0x103ec3[_0xd98e48(0x215)])('div',{'className':_0xd98e48(0x1c3),'children':[0x1,0x2,0x3,0x4,0x5]['map'](_0x35842b=>(0x0,_0x103ec3['jsx'])('span',{'className':'text-2xl','children':_0x35842b<=_0x21999f['satisfaction_rating']?'⭐':'☆'},_0x35842b))})]})]})}):(0x0,_0x103ec3['jsx'])(_0xd98e48(0x1d8),{'className':_0xd98e48(0x1c9),'children':(0x0,_0x103ec3['jsx'])('div',{'className':'max-w-4xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','children':(0x0,_0x103ec3[_0xd98e48(0x1de)])(_0xd98e48(0x1d8),{'className':'text-center','children':[(0x0,_0x103ec3['jsx'])('h2',{'className':'text-2xl\x20font-bold\x20text-gray-900','children':'Ticket\x20Not\x20Found'}),(0x0,_0x103ec3[_0xd98e48(0x215)])('p',{'className':'mt-2\x20text-gray-600','children':_0xd98e48(0x1be)}),(0x0,_0x103ec3[_0xd98e48(0x215)])('button',{'onClick':()=>_0x37f4b3[_0xd98e48(0x1e9)](_0xd98e48(0x1f4)),'className':'mt-4\x20px-4\x20py-2\x20bg-emerald-600\x20text-white\x20rounded-lg\x20hover:bg-emerald-700','children':'Back\x20to\x20Support'})]})})});}function _0x137e58(_0x3a1aa7){return new Date(_0x3a1aa7)['toLocaleString']();}},0xb73f:(_0x45888a,_0x230303,_0x1c02e4)=>{const _0x414f07=_0x2762b4;Promise[_0x414f07(0x200)]()['then'](_0x1c02e4['bind'](_0x1c02e4,0x9c1c));},0xc541:(_0x17a54f,_0xb19d42,_0x5e9968)=>{'use strict';const _0x2b6ba2=_0x2762b4;var _0x426ae1=_0x5e9968(0xed0d);_0x5e9968['o'](_0x426ae1,_0x2b6ba2(0x1b5))&&_0x5e9968['d'](_0xb19d42,{'usePathname':function(){const _0x1958a3=_0x2b6ba2;return _0x426ae1[_0x1958a3(0x1b5)];}}),_0x5e9968['o'](_0x426ae1,_0x2b6ba2(0x214))&&_0x5e9968['d'](_0xb19d42,{'useRouter':function(){return _0x426ae1['useRouter'];}}),_0x5e9968['o'](_0x426ae1,_0x2b6ba2(0x1dc))&&_0x5e9968['d'](_0xb19d42,{'useSearchParams':function(){return _0x426ae1['useSearchParams'];}});},0x10edb:(_0x3a3019,_0x175ef1,_0x182be2)=>{'use strict';_0x182be2['d'](_0x175ef1,{'A':()=>_0x1baccc});var _0x49d25f=_0x182be2(0x5433),_0x2eba02=_0x182be2(0x3e0d);function _0x1baccc(){const _0x4dfe4a=_0x5e19;let [_0x508139,_0x3c7a06]=(0x0,_0x49d25f['useState'])(null),[_0xc09642,_0x1ff582]=(0x0,_0x49d25f['useState'])(!0x0),[_0xa456d5,_0x5c352f]=(0x0,_0x49d25f['useState'])(!0x1),[_0x4ba640,_0x150910]=(0x0,_0x49d25f['useState'])(null),_0x10bf05=(0x0,_0x49d25f[_0x4dfe4a(0x1ae)])(async()=>{const _0x1cae4f=_0x4dfe4a;try{let _0x11a54a=(0x0,_0x2eba02['getSupabase'])(),{data:_0x579717,error:_0x57c86f}=await _0x11a54a['auth']['refreshSession']();if(_0x57c86f)return console[_0x1cae4f(0x1c7)]('[useAuth]\x20Refresh\x20error:',_0x57c86f),!0x1;if(!_0x579717?.[_0x1cae4f(0x1d5)])return console['error'](_0x1cae4f(0x1cc)),!0x1;return _0x150910(_0x579717['session']),_0x3c7a06(_0x579717[_0x1cae4f(0x1d5)]['user']),console[_0x1cae4f(0x1d3)](_0x1cae4f(0x1c4)),!0x0;}catch(_0x4e2008){return console[_0x1cae4f(0x1c7)]('[useAuth]\x20Failed\x20to\x20refresh:',_0x4e2008),!0x1;}},[]);return(0x0,_0x49d25f['useEffect'])(()=>{const _0x2638dc=_0x4dfe4a;_0x2eba02['api'][_0x2638dc(0x1e6)]()['then'](({data:{user:_0x104970}})=>{_0x3c7a06(_0x104970),_0x1ff582(!0x1),_0x5c352f(!0x0);})['catch'](()=>{_0x1ff582(!0x1),_0x5c352f(!0x0);});let {data:{subscription:_0x3529e0}}=_0x2eba02[_0x2638dc(0x1e8)]['onAuthStateChange'](async(_0x53a505,_0x5ea9a5)=>{const _0x2c3ddd=_0x2638dc;console[_0x2c3ddd(0x1d3)](_0x2c3ddd(0x1d0),_0x53a505),'TOKEN_REFRESHED'===_0x53a505&&console[_0x2c3ddd(0x1d3)]('[useAuth]\x20Token\x20refreshed\x20successfully'),_0x150910(_0x5ea9a5),_0x3c7a06(_0x5ea9a5?.['user']??null),_0x1ff582(!0x1),_0x5c352f(!0x0);});return()=>_0x3529e0[_0x2638dc(0x20f)]();},[]),{'user':_0x508139,'session':_0x4ba640,'loading':_0xc09642,'isReady':_0xa456d5,'authenticated':!!_0x508139,'refreshSession':_0x10bf05,'signOut':()=>_0x2eba02['api'][_0x4dfe4a(0x204)]()};}},0x14a5a:(_0x1adfb3,_0x268d39,_0x4c1d51)=>{'use strict';_0x4c1d51['d'](_0x268d39,{'c0':()=>_0x3e9e15,'Gs':()=>_0x1864c2,'oJ':()=>_0x3466d6,'yS':()=>_0x162bb7,'dS':()=>_0x11bbc9,'tY':()=>_0x4c3509});var _0x563d28=_0x4c1d51(0x5433),_0x5e24e6=_0x4c1d51(0x3e0d);function _0x172f96(_0xd26d1f={}){let {onTicketCreated:_0x3d7975,onTicketUpdated:_0x47cb4c,onTicketDeleted:_0x16ce0a,onMessageAdded:_0x539dc2,ticketId:_0x20939f}=_0xd26d1f;(0x0,_0x563d28['useEffect'])(()=>{const _0x43698e=_0x5e19;let _0x844659=(0x0,_0x5e24e6[_0x43698e(0x20a)])(),_0x58cefa=_0x844659[_0x43698e(0x1d7)]('support_tickets_changes')['on'](_0x43698e(0x1fd),{'event':'INSERT','schema':_0x43698e(0x1e8),'table':_0x43698e(0x1b3)},_0x27d38d=>{const _0x2e4063=_0x43698e;console[_0x2e4063(0x1d3)](_0x2e4063(0x219),_0x27d38d),_0x3d7975?.(_0x27d38d);})['on'](_0x43698e(0x1fd),{'event':_0x43698e(0x1ce),'schema':'api','table':_0x43698e(0x1b3),..._0x20939f?{'filter':'id=eq.'+_0x20939f}:{}},_0x1b4d7e=>{const _0x3a2ce7=_0x43698e;console[_0x3a2ce7(0x1d3)](_0x3a2ce7(0x1ba),_0x1b4d7e),_0x47cb4c?.(_0x1b4d7e);})['on'](_0x43698e(0x1fd),{'event':_0x43698e(0x1f6),'schema':'api','table':'support_tickets'},_0xf5b54c=>{const _0x4b904f=_0x43698e;console[_0x4b904f(0x1d3)](_0x4b904f(0x213),_0xf5b54c),_0x16ce0a?.(_0xf5b54c);})['subscribe'](),_0x9f6d28=null;return _0x20939f&&_0x539dc2&&(_0x9f6d28=_0x844659[_0x43698e(0x1d7)](_0x43698e(0x21b))['on'](_0x43698e(0x1fd),{'event':_0x43698e(0x1e4),'schema':_0x43698e(0x1e8),'table':_0x43698e(0x1c5),'filter':_0x43698e(0x1ca)+_0x20939f},_0xbcb1a0=>{const _0x473195=_0x43698e;console[_0x473195(0x1d3)]('Message\x20added:',_0xbcb1a0),_0x539dc2(_0xbcb1a0);})[_0x43698e(0x1d4)]()),()=>{const _0xa927d7=_0x43698e;_0x844659['removeChannel'](_0x58cefa),_0x9f6d28&&_0x844659[_0xa927d7(0x21c)](_0x9f6d28);};},[_0x3d7975,_0x47cb4c,_0x16ce0a,_0x539dc2,_0x20939f]);}function _0x11bbc9(_0x2b6ddf={}){const _0x5b2e6a=_0x5e19;let [_0x1c3da4,_0x267f13]=(0x0,_0x563d28[_0x5b2e6a(0x1f7)])([]),[_0x43f1c7,_0x598bf9]=(0x0,_0x563d28[_0x5b2e6a(0x1f7)])(!0x0),[_0x1a9441,_0x3e8286]=(0x0,_0x563d28['useState'])(null),[_0x3ebac9,_0x1e4dac]=(0x0,_0x563d28[_0x5b2e6a(0x1f7)])(0x0),_0x165c85=(0x0,_0x563d28['useCallback'])(async()=>{const _0x255ff1=_0x5b2e6a;try{_0x598bf9(!0x0),_0x3e8286(null);let {tickets:_0x2f99e0,total:_0x23cd09}=await _0x5e24e6['api']['getTickets']({'status':_0x2b6ddf[_0x255ff1(0x1bf)],'category':_0x2b6ddf['category'],'assigned_to':_0x2b6ddf[_0x255ff1(0x1df)]});_0x267f13(_0x2f99e0),_0x1e4dac(_0x23cd09);}catch(_0x41e662){_0x3e8286(_0x41e662 instanceof Error?_0x41e662['message']:'Failed\x20to\x20fetch\x20tickets');}finally{_0x598bf9(!0x1);}},[_0x2b6ddf['status'],_0x2b6ddf[_0x5b2e6a(0x1bb)],_0x2b6ddf['assigned_to']]);return(0x0,_0x563d28['useEffect'])(()=>{const _0x1b1112=_0x5b2e6a;if(_0x165c85(),_0x2b6ddf['autoRefresh']&&_0x2b6ddf[_0x1b1112(0x205)]){let _0x323f68=setInterval(_0x165c85,_0x2b6ddf['refreshInterval']);return()=>clearInterval(_0x323f68);}},[_0x165c85,_0x2b6ddf[_0x5b2e6a(0x1c6)],_0x2b6ddf['refreshInterval']]),_0x172f96({'onTicketCreated':!0x1!==_0x2b6ddf['enableRealtime']?()=>_0x165c85():void 0x0,'onTicketUpdated':!0x1!==_0x2b6ddf['enableRealtime']?()=>_0x165c85():void 0x0,'onTicketDeleted':!0x1!==_0x2b6ddf['enableRealtime']?()=>_0x165c85():void 0x0}),{'tickets':_0x1c3da4,'loading':_0x43f1c7,'error':_0x1a9441,'total':_0x3ebac9,'refetch':_0x165c85};}function _0x162bb7(_0x27393b,_0x1fe99e=!0x0){const _0x4606ac=_0x5e19;let [_0x2fd427,_0x369684]=(0x0,_0x563d28[_0x4606ac(0x1f7)])(null),[_0x504f5a,_0x32d812]=(0x0,_0x563d28[_0x4606ac(0x1f7)])(!0x0),[_0x6326d3,_0x1ef543]=(0x0,_0x563d28['useState'])(null),_0x380af3=(0x0,_0x563d28[_0x4606ac(0x1ae)])(async()=>{const _0x386637=_0x4606ac;if(!_0x27393b){_0x369684(null),_0x32d812(!0x1);return;}try{_0x32d812(!0x0),_0x1ef543(null);let _0x3f6282=await _0x5e24e6[_0x386637(0x1e8)]['getTicket'](_0x27393b);_0x369684(_0x3f6282);}catch(_0x7fd290){_0x1ef543(_0x7fd290 instanceof Error?_0x7fd290[_0x386637(0x206)]:'Failed\x20to\x20fetch\x20ticket');}finally{_0x32d812(!0x1);}},[_0x27393b]);return(0x0,_0x563d28[_0x4606ac(0x20b)])(()=>{_0x380af3();},[_0x380af3]),_0x172f96({'ticketId':_0x27393b||void 0x0,'onTicketUpdated':_0x1fe99e?()=>_0x380af3():void 0x0,'onMessageAdded':_0x1fe99e?()=>_0x380af3():void 0x0}),{'ticket':_0x2fd427,'loading':_0x504f5a,'error':_0x6326d3,'refetch':_0x380af3};}function _0x1864c2(){const _0x83ee50=_0x5e19;let [_0x4f99b4,_0x3ac439]=(0x0,_0x563d28['useState'])(!0x1),[_0x58bf79,_0x5037f0]=(0x0,_0x563d28[_0x83ee50(0x1f7)])(null);return{'createTicket':async _0x20c4e4=>{const _0x40f35d=_0x83ee50;try{return _0x3ac439(!0x0),_0x5037f0(null),(await _0x5e24e6['api']['createTicket'](_0x20c4e4))[_0x40f35d(0x201)];}catch(_0x34c69a){let _0xb2a6f0=_0x34c69a instanceof Error?_0x34c69a[_0x40f35d(0x206)]:_0x40f35d(0x1e2);throw _0x5037f0(_0xb2a6f0),Error(_0xb2a6f0);}finally{_0x3ac439(!0x1);}},'loading':_0x4f99b4,'error':_0x58bf79};}function _0x4c3509(){const _0x316bda=_0x5e19;let [_0x35471a,_0x409f10]=(0x0,_0x563d28[_0x316bda(0x1f7)])(!0x1),[_0x692598,_0x5d6fa9]=(0x0,_0x563d28['useState'])(null);return{'updateTicket':async _0x54a8ef=>{const _0x51fa1f=_0x316bda;try{return _0x409f10(!0x0),_0x5d6fa9(null),(await _0x5e24e6['api'][_0x51fa1f(0x1b9)](_0x54a8ef))[_0x51fa1f(0x201)];}catch(_0x5a4e19){let _0x152a50=_0x5a4e19 instanceof Error?_0x5a4e19[_0x51fa1f(0x206)]:'Failed\x20to\x20update\x20ticket';throw _0x5d6fa9(_0x152a50),Error(_0x152a50);}finally{_0x409f10(!0x1);}},'loading':_0x35471a,'error':_0x692598};}function _0x3466d6(){let [_0x331c07,_0x3f2280]=(0x0,_0x563d28['useState'])(!0x1),[_0x2c8e9b,_0x2d4546]=(0x0,_0x563d28['useState'])(null);return{'escalateTicket':async _0xfc3294=>{const _0x14258c=_0x5e19;try{return _0x3f2280(!0x0),_0x2d4546(null),(await _0x5e24e6[_0x14258c(0x1e8)][_0x14258c(0x212)](_0xfc3294))['ticket'];}catch(_0x4b108d){let _0x40d2eb=_0x4b108d instanceof Error?_0x4b108d['message']:_0x14258c(0x1f0);throw _0x2d4546(_0x40d2eb),Error(_0x40d2eb);}finally{_0x3f2280(!0x1);}},'loading':_0x331c07,'error':_0x2c8e9b};}function _0x3e9e15(){const _0x49e0d2=_0x5e19;let [_0x379e59,_0x7cc766]=(0x0,_0x563d28['useState'])(!0x1),[_0x288da4,_0x5d5ea0]=(0x0,_0x563d28[_0x49e0d2(0x1f7)])(null);return{'addMessage':async _0x5d5765=>{const _0x56b544=_0x49e0d2;try{return _0x7cc766(!0x0),_0x5d5ea0(null),(await _0x5e24e6[_0x56b544(0x1e8)]['addTicketMessage'](_0x5d5765))[_0x56b544(0x206)];}catch(_0x4726e8){let _0x43d585=_0x4726e8 instanceof Error?_0x4726e8['message']:_0x56b544(0x1f3);throw _0x5d5ea0(_0x43d585),Error(_0x43d585);}finally{_0x7cc766(!0x1);}},'loading':_0x379e59,'error':_0x288da4};}}},_0x134850=>{_0x134850['O'](0x0,[0x2603,0x259f,0x16fd,0x1b1b,0x492,0x1cbe],()=>_0x134850(_0x134850['s']=0xb73f)),_N_E=_0x134850['O']();}]));