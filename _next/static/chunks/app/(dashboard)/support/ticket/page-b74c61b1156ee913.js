function _0xafa4(){const _0x8db19b=['user','Send\x20Reply','Type\x20your\x20reply...','support','32EHYEoL','trim','div','text-sm\x20text-gray-500','charAt','created_at','ml-2\x20font-medium','Category:','ticket_messages','22347528lmiTZl','author','Failed\x20to\x20add\x20message','text-4xl\x20hover:scale-110\x20transition-transform\x20disabled:opacity-50','status','button','6023202GJYHGX','id=eq.','category','Failed\x20to\x20load\x20ticket','System','message','min-h-screen\x20bg-gray-50\x20py-8','ticket_id=eq.','text-xl\x20font-semibold\x20mb-4','unsubscribe','display_name','px-6\x20py-2\x20bg-emerald-600\x20text-white\x20rounded-lg\x20hover:bg-emerald-700\x20disabled:opacity-50\x20disabled:cursor-not-allowed','signOut','usePathname','error','1025305xMeBPa','includes','satisfaction_rating','max-w-4xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','Created\x20','mt-4\x20text-emerald-600\x20hover:text-emerald-700','useRouter','refreshSession','jsxs','[useAuth]\x20Auth\x20state\x20change:','bg-blue-100\x20text-blue-800','then','split','text-green-800','subscribe','span','text-xs\x20px-2\x20py-1\x20bg-blue-200\x20rounded','useEffect','text-2xl','TOKEN_REFRESHED','←\x20Back\x20to\x20Support','bg-green-50\x20border\x20border-green-200\x20rounded-lg\x20p-6','flex\x20items-center\x20justify-center\x20min-h-screen','mb-6','Rate\x20Your\x20Support\x20Experience','getUser','api','get','is_system','postgres_changes','grid\x20grid-cols-2\x20gap-4\x20mt-4\x20text-sm','Assigned\x20to:','px-4\x20py-2\x20text-sm\x20font-medium\x20rounded-full\x20','text-gray-600','Loading\x20ticket...','font-semibold\x20text-gray-900','push','useState','autoRefresh','bg-white\x20rounded-lg\x20shadow-md\x20p-6\x20mb-6','Conversation','7789516VLMIRq','support_tickets','jsx','animate-spin\x20rounded-full\x20h-12\x20w-12\x20border-b-2\x20border-emerald-600\x20mx-auto','/support','58054qGuUHv','escalateTicket','filter','priority','px-3\x20py-1\x20text-sm\x20font-medium\x20rounded-full\x20','textarea','Back\x20to\x20Support','[useAuth]\x20Session\x20refreshed\x20successfully','enableRealtime','updateTicket','Ticket\x20updated:','896676Kcczfx','description','DELETE','ticket','assigned_to','webpackChunk_N_E','3473682eZxRXj','assignee','auth','text-gray-600\x20hover:text-gray-900\x20mb-4\x20flex\x20items-center\x20gap-2','text-center','log','[useAuth]\x20Refresh\x20error:','bg-red-100\x20text-red-800','text-gray-700\x20whitespace-pre-wrap','map','bg-gray-100\x20text-gray-800','support_tickets_changes','useSearchParams','[useAuth]\x20No\x20session\x20returned\x20after\x20refresh'];_0xafa4=function(){return _0x8db19b;};return _0xafa4();}const _0x400177=_0x3d12;function _0x3d12(_0x442239,_0x538c45){_0x442239=_0x442239-0x1f1;const _0xafa41=_0xafa4();let _0x3d12e9=_0xafa41[_0x442239];return _0x3d12e9;}(function(_0xc1864b,_0x21878b){const _0xb6e86e=_0x3d12,_0x252198=_0xc1864b();while(!![]){try{const _0x365b31=-parseInt(_0xb6e86e(0x23a))/0x1*(parseInt(_0xb6e86e(0x217))/0x2)+-parseInt(_0xb6e86e(0x228))/0x3+parseInt(_0xb6e86e(0x222))/0x4+-parseInt(_0xb6e86e(0x258))/0x5+parseInt(_0xb6e86e(0x249))/0x6+-parseInt(_0xb6e86e(0x212))/0x7+parseInt(_0xb6e86e(0x243))/0x8;if(_0x365b31===_0x21878b)break;else _0x252198['push'](_0x252198['shift']());}catch(_0x14b687){_0x252198['push'](_0x252198['shift']());}}}(_0xafa4,0x969a6),(self[_0x400177(0x227)]=self[_0x400177(0x227)]||[])['push']([[0xac3],{0x9c1c:(_0x517b91,_0x144c69,_0x88fc1d)=>{'use strict';_0x88fc1d['r'](_0x144c69),_0x88fc1d['d'](_0x144c69,{'default':()=>_0x338043});var _0x404a44=_0x88fc1d(0xd773),_0x531ba1=_0x88fc1d(0x5433),_0x3b7f2f=_0x88fc1d(0x10edb),_0x34cd29=_0x88fc1d(0xc541),_0x569e3a=_0x88fc1d(0x14a5a);function _0x338043(){const _0x4b4776=_0x3d12;let {user:_0x51bbcb,loading:_0x2e2421}=(0x0,_0x3b7f2f['A'])(),_0x4ff5f2=(0x0,_0x34cd29[_0x4b4776(0x25e)])(),_0x4c0af=(0x0,_0x34cd29[_0x4b4776(0x234)])()[_0x4b4776(0x204)]('id'),{ticket:_0x38dbf0,loading:_0x1730e3,error:_0x124584,refetch:_0x14e755}=(0x0,_0x569e3a['yS'])(_0x4c0af||''),{updateTicket:_0x965441,loading:_0x39c3b8}=(0x0,_0x569e3a['tY'])(),{addMessage:_0xb581ca,loading:_0x1745a4}=(0x0,_0x569e3a['c0'])(),[_0x5c5011,_0x1b1717]=(0x0,_0x531ba1[_0x4b4776(0x20e)])(''),[_0xb91a8a,_0x321e85]=(0x0,_0x531ba1[_0x4b4776(0x20e)])(null);(0x0,_0x531ba1[_0x4b4776(0x1fa)])(()=>{_0x2e2421||_0x51bbcb||_0x4ff5f2['push']('/auth/login');},[_0x51bbcb,_0x2e2421,_0x4ff5f2]);let _0x30b638=async()=>{const _0x5ec0c7=_0x4b4776;if(_0x5c5011[_0x5ec0c7(0x23b)]()&&_0x4c0af)try{await _0xb581ca({'ticketId':_0x4c0af,'message':_0x5c5011}),_0x1b1717(''),_0x14e755();}catch(_0x3981cc){console[_0x5ec0c7(0x257)]('Failed\x20to\x20send\x20message:',_0x3981cc);}},_0x540cb0=async _0x3f5846=>{if(_0x4c0af)try{await _0x965441({'ticketId':_0x4c0af,'satisfaction_rating':_0x3f5846}),_0x321e85(_0x3f5846),_0x14e755();}catch(_0x5c547d){console['error']('Failed\x20to\x20rate\x20ticket:',_0x5c547d);}};return _0x4c0af?_0x2e2421||_0x1730e3?(0x0,_0x404a44[_0x4b4776(0x214)])(_0x4b4776(0x23c),{'className':_0x4b4776(0x1ff),'children':(0x0,_0x404a44[_0x4b4776(0x1f1)])('div',{'className':_0x4b4776(0x22c),'children':[(0x0,_0x404a44['jsx'])(_0x4b4776(0x23c),{'className':_0x4b4776(0x215)}),(0x0,_0x404a44['jsx'])('p',{'className':'mt-4\x20text-gray-600','children':_0x4b4776(0x20b)})]})}):_0x124584||!_0x38dbf0?(0x0,_0x404a44['jsx'])(_0x4b4776(0x23c),{'className':_0x4b4776(0x1ff),'children':(0x0,_0x404a44['jsxs'])('div',{'className':'text-center','children':[(0x0,_0x404a44[_0x4b4776(0x214)])('p',{'className':'text-red-600','children':_0x4b4776(0x24c)}),(0x0,_0x404a44['jsx'])(_0x4b4776(0x248),{'onClick':()=>_0x4ff5f2['push']('/support'),'className':_0x4b4776(0x25d),'children':_0x4b4776(0x21d)})]})}):(0x0,_0x404a44['jsx'])('div',{'className':_0x4b4776(0x24f),'children':(0x0,_0x404a44[_0x4b4776(0x1f1)])('div',{'className':'max-w-4xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','children':[(0x0,_0x404a44['jsxs'])('div',{'className':_0x4b4776(0x200),'children':[(0x0,_0x404a44['jsx'])('button',{'onClick':()=>_0x4ff5f2[_0x4b4776(0x20d)](_0x4b4776(0x216)),'className':_0x4b4776(0x22b),'children':_0x4b4776(0x1fd)}),(0x0,_0x404a44['jsx'])('h1',{'className':'text-3xl\x20font-bold\x20text-gray-900','children':_0x38dbf0['title']})]}),(0x0,_0x404a44[_0x4b4776(0x1f1)])(_0x4b4776(0x23c),{'className':_0x4b4776(0x210),'children':[(0x0,_0x404a44[_0x4b4776(0x1f1)])(_0x4b4776(0x23c),{'className':'flex\x20items-center\x20justify-between\x20mb-4','children':[(0x0,_0x404a44[_0x4b4776(0x1f1)])(_0x4b4776(0x23c),{'className':'flex\x20items-center\x20gap-3','children':[(0x0,_0x404a44[_0x4b4776(0x214)])(_0x4b4776(0x1f8),{'className':_0x4b4776(0x209)+({'open':_0x4b4776(0x1f3),'in_progress':'bg-yellow-100\x20text-yellow-800','waiting_response':'bg-purple-100\x20text-purple-800','escalated':'bg-red-100\x20text-red-800','resolved':'bg-green-100\x20text-green-800','closed':'bg-gray-100\x20text-gray-800'}[_0x38dbf0[_0x4b4776(0x247)]]||_0x4b4776(0x232)),'children':_0x38dbf0[_0x4b4776(0x247)][_0x4b4776(0x1f5)]('_')['map'](_0x4196e8=>_0x4196e8['charAt'](0x0)['toUpperCase']()+_0x4196e8['slice'](0x1))['join']('\x20')}),(0x0,_0x404a44['jsx'])('span',{'className':_0x4b4776(0x21b)+({'low':'bg-gray-100\x20text-gray-800','medium':_0x4b4776(0x1f3),'high':'bg-orange-100\x20text-orange-800','urgent':_0x4b4776(0x22f)}[_0x38dbf0[_0x4b4776(0x21a)]]||'bg-gray-100\x20text-gray-800'),'children':_0x38dbf0[_0x4b4776(0x21a)]})]}),(0x0,_0x404a44['jsxs'])('span',{'className':_0x4b4776(0x23d),'children':[_0x4b4776(0x25c),_0x3c5c1c(_0x38dbf0[_0x4b4776(0x23f)])]})]}),(0x0,_0x404a44['jsxs'])('div',{'className':'bg-gray-50\x20rounded-lg\x20p-4','children':[(0x0,_0x404a44['jsx'])('p',{'className':'text-sm\x20font-medium\x20text-gray-700\x20mb-2','children':'Original\x20Request:'}),(0x0,_0x404a44[_0x4b4776(0x214)])('p',{'className':'text-gray-700\x20whitespace-pre-wrap','children':_0x38dbf0[_0x4b4776(0x223)]})]}),(0x0,_0x404a44['jsxs'])('div',{'className':_0x4b4776(0x207),'children':[(0x0,_0x404a44[_0x4b4776(0x1f1)])(_0x4b4776(0x23c),{'children':[(0x0,_0x404a44[_0x4b4776(0x214)])('span',{'className':'text-gray-600','children':_0x4b4776(0x241)}),(0x0,_0x404a44[_0x4b4776(0x214)])('span',{'className':_0x4b4776(0x240),'children':_0x38dbf0['category']['split']('_')[_0x4b4776(0x231)](_0x2c851f=>_0x2c851f[_0x4b4776(0x23e)](0x0)['toUpperCase']()+_0x2c851f['slice'](0x1))['join']('\x20')})]}),_0x38dbf0[_0x4b4776(0x226)]&&_0x38dbf0[_0x4b4776(0x229)]&&(0x0,_0x404a44[_0x4b4776(0x1f1)])(_0x4b4776(0x23c),{'children':[(0x0,_0x404a44['jsx'])(_0x4b4776(0x1f8),{'className':_0x4b4776(0x20a),'children':_0x4b4776(0x208)}),(0x0,_0x404a44[_0x4b4776(0x214)])(_0x4b4776(0x1f8),{'className':'ml-2\x20font-medium','children':_0x38dbf0[_0x4b4776(0x229)]['display_name']})]})]})]}),(0x0,_0x404a44['jsxs'])(_0x4b4776(0x23c),{'className':_0x4b4776(0x210),'children':[(0x0,_0x404a44['jsx'])('h2',{'className':_0x4b4776(0x251),'children':_0x4b4776(0x211)}),(0x0,_0x404a44['jsx'])('div',{'className':'space-y-4\x20mb-6','children':_0x38dbf0['messages'][_0x4b4776(0x219)](_0x3c438f=>!_0x3c438f['is_internal'])[_0x4b4776(0x231)](_0x3034c7=>{const _0x485a31=_0x4b4776;let _0x59caaf=_0x3034c7[_0x485a31(0x244)]&&[_0x485a31(0x239),'manager','admin'][_0x485a31(0x259)](_0x3034c7['author']['user_role']);return(0x0,_0x404a44[_0x485a31(0x1f1)])(_0x485a31(0x23c),{'className':'p-4\x20rounded-lg\x20'+(_0x3034c7[_0x485a31(0x205)]?'bg-gray-50\x20border\x20border-gray-200':_0x59caaf?'bg-blue-50\x20border\x20border-blue-200':'bg-emerald-50\x20border\x20border-emerald-200'),'children':[(0x0,_0x404a44['jsxs'])('div',{'className':'flex\x20items-start\x20justify-between\x20mb-2','children':[(0x0,_0x404a44['jsxs'])(_0x485a31(0x23c),{'className':'flex\x20items-center\x20gap-2','children':[(0x0,_0x404a44[_0x485a31(0x214)])(_0x485a31(0x1f8),{'className':_0x485a31(0x20c),'children':_0x3034c7[_0x485a31(0x244)]?.[_0x485a31(0x253)]||_0x485a31(0x24d)}),_0x59caaf&&(0x0,_0x404a44['jsx'])('span',{'className':_0x485a31(0x1f9),'children':'Support\x20Team'})]}),(0x0,_0x404a44[_0x485a31(0x214)])(_0x485a31(0x1f8),{'className':'text-xs\x20text-gray-500','children':_0x3c5c1c(_0x3034c7['created_at'])})]}),(0x0,_0x404a44[_0x485a31(0x214)])('p',{'className':_0x485a31(0x230),'children':_0x3034c7[_0x485a31(0x24e)]})]},_0x3034c7['id']);})}),'closed'!==_0x38dbf0[_0x4b4776(0x247)]&&(0x0,_0x404a44['jsxs'])('div',{'className':'border-t\x20pt-4','children':[(0x0,_0x404a44[_0x4b4776(0x214)])(_0x4b4776(0x21c),{'value':_0x5c5011,'onChange':_0x5eadf5=>_0x1b1717(_0x5eadf5['target']['value']),'placeholder':_0x4b4776(0x238),'className':'w-full\x20px-4\x20py-3\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent\x20resize-none','rows':0x4}),(0x0,_0x404a44['jsx'])(_0x4b4776(0x23c),{'className':'flex\x20justify-end\x20mt-3','children':(0x0,_0x404a44[_0x4b4776(0x214)])(_0x4b4776(0x248),{'onClick':_0x30b638,'disabled':_0x1745a4||!_0x5c5011['trim'](),'className':_0x4b4776(0x254),'children':_0x1745a4?'Sending...':_0x4b4776(0x237)})})]})]}),'resolved'===_0x38dbf0['status']&&!_0x38dbf0[_0x4b4776(0x25a)]&&(0x0,_0x404a44['jsxs'])(_0x4b4776(0x23c),{'className':'bg-white\x20rounded-lg\x20shadow-md\x20p-6','children':[(0x0,_0x404a44[_0x4b4776(0x214)])('h3',{'className':'text-lg\x20font-semibold\x20mb-4','children':_0x4b4776(0x201)}),(0x0,_0x404a44['jsx'])('p',{'className':'text-gray-600\x20mb-4','children':'How\x20satisfied\x20are\x20you\x20with\x20the\x20resolution?'}),(0x0,_0x404a44['jsx'])('div',{'className':'flex\x20gap-2','children':[0x1,0x2,0x3,0x4,0x5]['map'](_0x770926=>(0x0,_0x404a44['jsx'])(_0x4b4776(0x248),{'onClick':()=>_0x540cb0(_0x770926),'disabled':_0x39c3b8,'className':_0x4b4776(0x246),'children':_0x770926<=(_0xb91a8a||0x0)?'⭐':'☆'},_0x770926))})]}),_0x38dbf0['satisfaction_rating']&&(0x0,_0x404a44[_0x4b4776(0x1f1)])('div',{'className':_0x4b4776(0x1fe),'children':[(0x0,_0x404a44[_0x4b4776(0x214)])('p',{'className':_0x4b4776(0x1f6),'children':'Thank\x20you\x20for\x20rating\x20this\x20ticket!\x20Your\x20feedback\x20helps\x20us\x20improve.'}),(0x0,_0x404a44[_0x4b4776(0x214)])(_0x4b4776(0x23c),{'className':'flex\x20gap-1\x20mt-2','children':[0x1,0x2,0x3,0x4,0x5]['map'](_0x3140c9=>(0x0,_0x404a44['jsx'])(_0x4b4776(0x1f8),{'className':_0x4b4776(0x1fb),'children':_0x3140c9<=_0x38dbf0['satisfaction_rating']?'⭐':'☆'},_0x3140c9))})]})]})}):(0x0,_0x404a44['jsx'])('div',{'className':'min-h-screen\x20bg-gray-50\x20py-8','children':(0x0,_0x404a44['jsx'])(_0x4b4776(0x23c),{'className':_0x4b4776(0x25b),'children':(0x0,_0x404a44['jsxs'])('div',{'className':_0x4b4776(0x22c),'children':[(0x0,_0x404a44[_0x4b4776(0x214)])('h2',{'className':'text-2xl\x20font-bold\x20text-gray-900','children':'Ticket\x20Not\x20Found'}),(0x0,_0x404a44['jsx'])('p',{'className':'mt-2\x20text-gray-600','children':'No\x20ticket\x20ID\x20provided.'}),(0x0,_0x404a44[_0x4b4776(0x214)])(_0x4b4776(0x248),{'onClick':()=>_0x4ff5f2[_0x4b4776(0x20d)]('/support'),'className':'mt-4\x20px-4\x20py-2\x20bg-emerald-600\x20text-white\x20rounded-lg\x20hover:bg-emerald-700','children':'Back\x20to\x20Support'})]})})});}function _0x3c5c1c(_0x53a192){return new Date(_0x53a192)['toLocaleString']();}},0xb73f:(_0x193acb,_0x80a769,_0x3e746a)=>{Promise['resolve']()['then'](_0x3e746a['bind'](_0x3e746a,0x9c1c));},0xc541:(_0x50a887,_0x4cff18,_0x16827f)=>{'use strict';const _0x2cef85=_0x400177;var _0x379a8a=_0x16827f(0xed0d);_0x16827f['o'](_0x379a8a,'usePathname')&&_0x16827f['d'](_0x4cff18,{'usePathname':function(){const _0x374d96=_0x3d12;return _0x379a8a[_0x374d96(0x256)];}}),_0x16827f['o'](_0x379a8a,_0x2cef85(0x25e))&&_0x16827f['d'](_0x4cff18,{'useRouter':function(){return _0x379a8a['useRouter'];}}),_0x16827f['o'](_0x379a8a,'useSearchParams')&&_0x16827f['d'](_0x4cff18,{'useSearchParams':function(){return _0x379a8a['useSearchParams'];}});},0x10edb:(_0x53a28d,_0x813927,_0x2ff46e)=>{'use strict';_0x2ff46e['d'](_0x813927,{'A':()=>_0x5dcc6c});var _0x141db7=_0x2ff46e(0x5433),_0x47bec2=_0x2ff46e(0x3e0d);function _0x5dcc6c(){const _0xe4f1e8=_0x3d12;let [_0x2a0b5e,_0x1f7a52]=(0x0,_0x141db7[_0xe4f1e8(0x20e)])(null),[_0x3776c9,_0x45c159]=(0x0,_0x141db7[_0xe4f1e8(0x20e)])(!0x0),[_0x2e5112,_0x175c8e]=(0x0,_0x141db7[_0xe4f1e8(0x20e)])(!0x1),[_0x304d2f,_0x5bf029]=(0x0,_0x141db7['useState'])(null),_0xb549a0=(0x0,_0x141db7['useCallback'])(async()=>{const _0x333daa=_0xe4f1e8;try{let _0x5b6253=(0x0,_0x47bec2['getSupabase'])(),{data:_0x29f652,error:_0x2850e2}=await _0x5b6253[_0x333daa(0x22a)][_0x333daa(0x25f)]();if(_0x2850e2)return console['error'](_0x333daa(0x22e),_0x2850e2),!0x1;if(!_0x29f652?.['session'])return console[_0x333daa(0x257)](_0x333daa(0x235)),!0x1;return _0x5bf029(_0x29f652['session']),_0x1f7a52(_0x29f652['session'][_0x333daa(0x236)]),console[_0x333daa(0x22d)](_0x333daa(0x21e)),!0x0;}catch(_0x562e4d){return console['error']('[useAuth]\x20Failed\x20to\x20refresh:',_0x562e4d),!0x1;}},[]);return(0x0,_0x141db7[_0xe4f1e8(0x1fa)])(()=>{const _0xe8feef=_0xe4f1e8;_0x47bec2[_0xe8feef(0x203)][_0xe8feef(0x202)]()[_0xe8feef(0x1f4)](({data:{user:_0x19199b}})=>{_0x1f7a52(_0x19199b),_0x45c159(!0x1),_0x175c8e(!0x0);})['catch'](()=>{_0x45c159(!0x1),_0x175c8e(!0x0);});let {data:{subscription:_0x4674b0}}=_0x47bec2[_0xe8feef(0x203)]['onAuthStateChange'](async(_0x2af32f,_0x3bbed6)=>{const _0x443e3a=_0xe8feef;console[_0x443e3a(0x22d)](_0x443e3a(0x1f2),_0x2af32f),_0x443e3a(0x1fc)===_0x2af32f&&console['log']('[useAuth]\x20Token\x20refreshed\x20successfully'),_0x5bf029(_0x3bbed6),_0x1f7a52(_0x3bbed6?.[_0x443e3a(0x236)]??null),_0x45c159(!0x1),_0x175c8e(!0x0);});return()=>_0x4674b0[_0xe8feef(0x252)]();},[]),{'user':_0x2a0b5e,'session':_0x304d2f,'loading':_0x3776c9,'isReady':_0x2e5112,'authenticated':!!_0x2a0b5e,'refreshSession':_0xb549a0,'signOut':()=>_0x47bec2[_0xe4f1e8(0x203)][_0xe4f1e8(0x255)]()};}},0x14a5a:(_0x50e33b,_0xa88ce5,_0x3b3f62)=>{'use strict';_0x3b3f62['d'](_0xa88ce5,{'c0':()=>_0x4e92c1,'Gs':()=>_0x45275f,'oJ':()=>_0x58c621,'yS':()=>_0x270db1,'dS':()=>_0xef8b11,'tY':()=>_0x2d8fb1});var _0xd8dd73=_0x3b3f62(0x5433),_0x13dab8=_0x3b3f62(0x3e0d);function _0x1d3c11(_0x43c061={}){const _0x15acfd=_0x3d12;let {onTicketCreated:_0x3c1f03,onTicketUpdated:_0x6220e8,onTicketDeleted:_0x55e135,onMessageAdded:_0x134906,ticketId:_0x49c863}=_0x43c061;(0x0,_0xd8dd73[_0x15acfd(0x1fa)])(()=>{const _0x4e767b=_0x15acfd;let _0x47580c=(0x0,_0x13dab8['getSupabase'])(),_0x151b05=_0x47580c['channel'](_0x4e767b(0x233))['on'](_0x4e767b(0x206),{'event':'INSERT','schema':_0x4e767b(0x203),'table':'support_tickets'},_0x41f507=>{console['log']('Ticket\x20created:',_0x41f507),_0x3c1f03?.(_0x41f507);})['on'](_0x4e767b(0x206),{'event':'UPDATE','schema':_0x4e767b(0x203),'table':'support_tickets',..._0x49c863?{'filter':_0x4e767b(0x24a)+_0x49c863}:{}},_0x1cb8cd=>{const _0x15e164=_0x4e767b;console['log'](_0x15e164(0x221),_0x1cb8cd),_0x6220e8?.(_0x1cb8cd);})['on'](_0x4e767b(0x206),{'event':_0x4e767b(0x224),'schema':'api','table':_0x4e767b(0x213)},_0x18eafa=>{const _0x496296=_0x4e767b;console[_0x496296(0x22d)]('Ticket\x20deleted:',_0x18eafa),_0x55e135?.(_0x18eafa);})['subscribe'](),_0x58c87c=null;return _0x49c863&&_0x134906&&(_0x58c87c=_0x47580c['channel']('ticket_messages_changes')['on'](_0x4e767b(0x206),{'event':'INSERT','schema':_0x4e767b(0x203),'table':_0x4e767b(0x242),'filter':_0x4e767b(0x250)+_0x49c863},_0x41c1c9=>{console['log']('Message\x20added:',_0x41c1c9),_0x134906(_0x41c1c9);})[_0x4e767b(0x1f7)]()),()=>{_0x47580c['removeChannel'](_0x151b05),_0x58c87c&&_0x47580c['removeChannel'](_0x58c87c);};},[_0x3c1f03,_0x6220e8,_0x55e135,_0x134906,_0x49c863]);}function _0xef8b11(_0x3f0277={}){const _0x2042fa=_0x3d12;let [_0x55baff,_0x14f663]=(0x0,_0xd8dd73['useState'])([]),[_0x13a871,_0x4c45f9]=(0x0,_0xd8dd73[_0x2042fa(0x20e)])(!0x0),[_0x424c73,_0xf226c0]=(0x0,_0xd8dd73['useState'])(null),[_0x5d1656,_0x1f93fb]=(0x0,_0xd8dd73[_0x2042fa(0x20e)])(0x0),_0x4f041a=(0x0,_0xd8dd73['useCallback'])(async()=>{const _0xa3fd47=_0x2042fa;try{_0x4c45f9(!0x0),_0xf226c0(null);let {tickets:_0x99596c,total:_0x3c838f}=await _0x13dab8['api']['getTickets']({'status':_0x3f0277['status'],'category':_0x3f0277['category'],'assigned_to':_0x3f0277[_0xa3fd47(0x226)]});_0x14f663(_0x99596c),_0x1f93fb(_0x3c838f);}catch(_0x914b68){_0xf226c0(_0x914b68 instanceof Error?_0x914b68['message']:'Failed\x20to\x20fetch\x20tickets');}finally{_0x4c45f9(!0x1);}},[_0x3f0277[_0x2042fa(0x247)],_0x3f0277[_0x2042fa(0x24b)],_0x3f0277[_0x2042fa(0x226)]]);return(0x0,_0xd8dd73[_0x2042fa(0x1fa)])(()=>{const _0x3b95de=_0x2042fa;if(_0x4f041a(),_0x3f0277[_0x3b95de(0x20f)]&&_0x3f0277['refreshInterval']){let _0x9de2df=setInterval(_0x4f041a,_0x3f0277['refreshInterval']);return()=>clearInterval(_0x9de2df);}},[_0x4f041a,_0x3f0277['autoRefresh'],_0x3f0277['refreshInterval']]),_0x1d3c11({'onTicketCreated':!0x1!==_0x3f0277[_0x2042fa(0x21f)]?()=>_0x4f041a():void 0x0,'onTicketUpdated':!0x1!==_0x3f0277[_0x2042fa(0x21f)]?()=>_0x4f041a():void 0x0,'onTicketDeleted':!0x1!==_0x3f0277['enableRealtime']?()=>_0x4f041a():void 0x0}),{'tickets':_0x55baff,'loading':_0x13a871,'error':_0x424c73,'total':_0x5d1656,'refetch':_0x4f041a};}function _0x270db1(_0x165870,_0x125383=!0x0){const _0x2e0713=_0x3d12;let [_0x9be3d9,_0x16ea29]=(0x0,_0xd8dd73['useState'])(null),[_0x163528,_0xa3ea68]=(0x0,_0xd8dd73[_0x2e0713(0x20e)])(!0x0),[_0x297880,_0x45284e]=(0x0,_0xd8dd73['useState'])(null),_0x4f693e=(0x0,_0xd8dd73['useCallback'])(async()=>{const _0x4fdc49=_0x2e0713;if(!_0x165870){_0x16ea29(null),_0xa3ea68(!0x1);return;}try{_0xa3ea68(!0x0),_0x45284e(null);let _0x56addb=await _0x13dab8[_0x4fdc49(0x203)]['getTicket'](_0x165870);_0x16ea29(_0x56addb);}catch(_0xc0378b){_0x45284e(_0xc0378b instanceof Error?_0xc0378b['message']:'Failed\x20to\x20fetch\x20ticket');}finally{_0xa3ea68(!0x1);}},[_0x165870]);return(0x0,_0xd8dd73[_0x2e0713(0x1fa)])(()=>{_0x4f693e();},[_0x4f693e]),_0x1d3c11({'ticketId':_0x165870||void 0x0,'onTicketUpdated':_0x125383?()=>_0x4f693e():void 0x0,'onMessageAdded':_0x125383?()=>_0x4f693e():void 0x0}),{'ticket':_0x9be3d9,'loading':_0x163528,'error':_0x297880,'refetch':_0x4f693e};}function _0x45275f(){const _0x36b5d7=_0x3d12;let [_0x5cbe0f,_0x15fe70]=(0x0,_0xd8dd73['useState'])(!0x1),[_0x3f2f51,_0x491f03]=(0x0,_0xd8dd73[_0x36b5d7(0x20e)])(null);return{'createTicket':async _0xf268d1=>{const _0xe7f020=_0x36b5d7;try{return _0x15fe70(!0x0),_0x491f03(null),(await _0x13dab8[_0xe7f020(0x203)]['createTicket'](_0xf268d1))[_0xe7f020(0x225)];}catch(_0x3db019){let _0x2b19ab=_0x3db019 instanceof Error?_0x3db019['message']:'Failed\x20to\x20create\x20ticket';throw _0x491f03(_0x2b19ab),Error(_0x2b19ab);}finally{_0x15fe70(!0x1);}},'loading':_0x5cbe0f,'error':_0x3f2f51};}function _0x2d8fb1(){const _0x5a2f97=_0x3d12;let [_0x232cb2,_0x242fa2]=(0x0,_0xd8dd73[_0x5a2f97(0x20e)])(!0x1),[_0x144c62,_0x1189af]=(0x0,_0xd8dd73['useState'])(null);return{'updateTicket':async _0x39b8fb=>{const _0x592b45=_0x5a2f97;try{return _0x242fa2(!0x0),_0x1189af(null),(await _0x13dab8['api'][_0x592b45(0x220)](_0x39b8fb))['ticket'];}catch(_0x4ad2fa){let _0x51b9f0=_0x4ad2fa instanceof Error?_0x4ad2fa['message']:'Failed\x20to\x20update\x20ticket';throw _0x1189af(_0x51b9f0),Error(_0x51b9f0);}finally{_0x242fa2(!0x1);}},'loading':_0x232cb2,'error':_0x144c62};}function _0x58c621(){const _0x5c0b37=_0x3d12;let [_0x350d06,_0x1721cf]=(0x0,_0xd8dd73['useState'])(!0x1),[_0x2187c2,_0x2179f8]=(0x0,_0xd8dd73[_0x5c0b37(0x20e)])(null);return{'escalateTicket':async _0x3b04b4=>{const _0x35f1b0=_0x5c0b37;try{return _0x1721cf(!0x0),_0x2179f8(null),(await _0x13dab8[_0x35f1b0(0x203)][_0x35f1b0(0x218)](_0x3b04b4))[_0x35f1b0(0x225)];}catch(_0x4cdcf9){let _0x580a00=_0x4cdcf9 instanceof Error?_0x4cdcf9['message']:'Failed\x20to\x20escalate\x20ticket';throw _0x2179f8(_0x580a00),Error(_0x580a00);}finally{_0x1721cf(!0x1);}},'loading':_0x350d06,'error':_0x2187c2};}function _0x4e92c1(){const _0x1ba1b3=_0x3d12;let [_0x3b1682,_0x1ef18f]=(0x0,_0xd8dd73[_0x1ba1b3(0x20e)])(!0x1),[_0x348007,_0x1bee97]=(0x0,_0xd8dd73[_0x1ba1b3(0x20e)])(null);return{'addMessage':async _0x3db44c=>{const _0x18a8f8=_0x1ba1b3;try{return _0x1ef18f(!0x0),_0x1bee97(null),(await _0x13dab8['api']['addTicketMessage'](_0x3db44c))[_0x18a8f8(0x24e)];}catch(_0x5d2deb){let _0x1ea0b2=_0x5d2deb instanceof Error?_0x5d2deb[_0x18a8f8(0x24e)]:_0x18a8f8(0x245);throw _0x1bee97(_0x1ea0b2),Error(_0x1ea0b2);}finally{_0x1ef18f(!0x1);}},'loading':_0x3b1682,'error':_0x348007};}}},_0x59e517=>{_0x59e517['O'](0x0,[0x2603,0x259f,0x16fd,0x1b1b,0x492,0x1cbe],()=>_0x59e517(_0x59e517['s']=0xb73f)),_N_E=_0x59e517['O']();}]));