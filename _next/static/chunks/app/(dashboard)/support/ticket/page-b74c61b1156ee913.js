function _0x1109(_0x46aaa2,_0x398ab3){_0x46aaa2=_0x46aaa2-0x95;const _0xd6778=_0xd677();let _0x11097b=_0xd6778[_0x46aaa2];return _0x11097b;}function _0xd677(){const _0x6fa02b=['12083951DaGGoa','955734GekNrk','10WfyMCp','admin','category','bg-emerald-50\x20border\x20border-emerald-200','mt-2\x20text-gray-600','map','useRouter','253418WXUXxW','getSupabase','bg-green-50\x20border\x20border-green-200\x20rounded-lg\x20p-6','520GfdRax','jsxs','catch','mt-4\x20px-4\x20py-2\x20bg-emerald-600\x20text-white\x20rounded-lg\x20hover:bg-emerald-700','660512nbzhXQ','←\x20Back\x20to\x20Support','bg-green-100\x20text-green-800','description','Sending...','api','assignee','usePathname','priority','Support\x20Team','session','[useAuth]\x20Auth\x20state\x20change:','text-gray-600\x20mb-4','bg-blue-100\x20text-blue-800','bg-orange-100\x20text-orange-800','flex\x20items-center\x20gap-2','bg-gray-50\x20rounded-lg\x20p-4','flex\x20items-center\x20justify-center\x20min-h-screen','text-xl\x20font-semibold\x20mb-4','push','text-sm\x20font-medium\x20text-gray-700\x20mb-2','Category:','Failed\x20to\x20add\x20message','onAuthStateChange','status','is_system','useState','resolve','ml-2\x20font-medium','INSERT','bg-purple-100\x20text-purple-800','messages','/auth/login','bg-gray-100\x20text-gray-800','div','split','Ticket\x20created:','Original\x20Request:','Ticket\x20deleted:','refreshSession','Thank\x20you\x20for\x20rating\x20this\x20ticket!\x20Your\x20feedback\x20helps\x20us\x20improve.','subscribe','signOut','3VIlRiF','support_tickets_changes','escalateTicket','System','[useAuth]\x20Failed\x20to\x20refresh:','toUpperCase','postgres_changes','ticket','5yyWEGq','[useAuth]\x20Session\x20refreshed\x20successfully','text-3xl\x20font-bold\x20text-gray-900','assigned_to','text-gray-700\x20whitespace-pre-wrap','useSearchParams','315357yNqfqn','Back\x20to\x20Support','Failed\x20to\x20rate\x20ticket:','Rate\x20Your\x20Support\x20Experience','channel','log','flex\x20gap-1\x20mt-2','min-h-screen\x20bg-gray-50\x20py-8','refreshInterval','button','text-green-800','message','bg-gray-50\x20border\x20border-gray-200','p-4\x20rounded-lg\x20','mt-4\x20text-emerald-600\x20hover:text-emerald-700','mb-6','useEffect','charAt','satisfaction_rating','error','getTickets','includes','Send\x20Reply','/support','jsx','join','author','Assigned\x20to:','Failed\x20to\x20create\x20ticket','addTicketMessage','TOKEN_REFRESHED','text-2xl\x20font-bold\x20text-gray-900','created_at','target','space-y-4\x20mb-6','get','toLocaleString','88919dwkbXz','manager','40617VSMFjP','ticket_messages_changes','text-xs\x20text-gray-500','span','ticket_id=eq.','getTicket','text-center','auth'];_0xd677=function(){return _0x6fa02b;};return _0xd677();}(function(_0x2e50ef,_0x589107){const _0x3aa5c4=_0x1109,_0x51e321=_0x2e50ef();while(!![]){try{const _0x2632ad=-parseInt(_0x3aa5c4(0xb7))/0x1+-parseInt(_0x3aa5c4(0xca))/0x2+-parseInt(_0x3aa5c4(0xfc))/0x3*(parseInt(_0x3aa5c4(0xd1))/0x4)+parseInt(_0x3aa5c4(0x104))/0x5*(-parseInt(_0x3aa5c4(0xc2))/0x6)+-parseInt(_0x3aa5c4(0x10a))/0x7+-parseInt(_0x3aa5c4(0xcd))/0x8*(parseInt(_0x3aa5c4(0xb9))/0x9)+-parseInt(_0x3aa5c4(0xc3))/0xa*(-parseInt(_0x3aa5c4(0xc1))/0xb);if(_0x2632ad===_0x589107)break;else _0x51e321['push'](_0x51e321['shift']());}catch(_0x21d0be){_0x51e321['push'](_0x51e321['shift']());}}}(_0xd677,0x35bc4),(self['webpackChunk_N_E']=self['webpackChunk_N_E']||[])['push']([[0xac3],{0x9c1c:(_0x452b71,_0x3fccb7,_0x18e1fd)=>{'use strict';_0x18e1fd['r'](_0x3fccb7),_0x18e1fd['d'](_0x3fccb7,{'default':()=>_0xb0109c});var _0x5ba524=_0x18e1fd(0xd773),_0x3eca5a=_0x18e1fd(0x5433),_0x14cbf3=_0x18e1fd(0x10edb),_0x3fa8f6=_0x18e1fd(0xc541),_0x178540=_0x18e1fd(0x14a5a);function _0xb0109c(){const _0x274e0a=_0x1109;let {user:_0x2b876b,loading:_0x24dcbb}=(0x0,_0x14cbf3['A'])(),_0x4d5ef5=(0x0,_0x3fa8f6['useRouter'])(),_0x3c663e=(0x0,_0x3fa8f6['useSearchParams'])()[_0x274e0a(0xb5)]('id'),{ticket:_0x59c943,loading:_0x59b457,error:_0xd5a612,refetch:_0xa4cd2a}=(0x0,_0x178540['yS'])(_0x3c663e||''),{updateTicket:_0x4e663d,loading:_0x2497d7}=(0x0,_0x178540['tY'])(),{addMessage:_0x32945a,loading:_0x18c010}=(0x0,_0x178540['c0'])(),[_0x2a1242,_0x18e31c]=(0x0,_0x3eca5a['useState'])(''),[_0x21f9f7,_0x5c672e]=(0x0,_0x3eca5a[_0x274e0a(0xeb)])(null);(0x0,_0x3eca5a[_0x274e0a(0xa2)])(()=>{const _0x12f69d=_0x274e0a;_0x24dcbb||_0x2b876b||_0x4d5ef5['push'](_0x12f69d(0xf1));},[_0x2b876b,_0x24dcbb,_0x4d5ef5]);let _0x258581=async()=>{if(_0x2a1242['trim']()&&_0x3c663e)try{await _0x32945a({'ticketId':_0x3c663e,'message':_0x2a1242}),_0x18e31c(''),_0xa4cd2a();}catch(_0xf8cf7a){console['error']('Failed\x20to\x20send\x20message:',_0xf8cf7a);}},_0x726e54=async _0x3ea66a=>{const _0x379f40=_0x274e0a;if(_0x3c663e)try{await _0x4e663d({'ticketId':_0x3c663e,'satisfaction_rating':_0x3ea66a}),_0x5c672e(_0x3ea66a),_0xa4cd2a();}catch(_0x154029){console['error'](_0x379f40(0x10c),_0x154029);}};return _0x3c663e?_0x24dcbb||_0x59b457?(0x0,_0x5ba524[_0x274e0a(0xaa)])(_0x274e0a(0xf3),{'className':_0x274e0a(0xe2),'children':(0x0,_0x5ba524['jsxs'])(_0x274e0a(0xf3),{'className':_0x274e0a(0xbf),'children':[(0x0,_0x5ba524['jsx'])(_0x274e0a(0xf3),{'className':'animate-spin\x20rounded-full\x20h-12\x20w-12\x20border-b-2\x20border-emerald-600\x20mx-auto'}),(0x0,_0x5ba524['jsx'])('p',{'className':'mt-4\x20text-gray-600','children':'Loading\x20ticket...'})]})}):_0xd5a612||!_0x59c943?(0x0,_0x5ba524[_0x274e0a(0xaa)])(_0x274e0a(0xf3),{'className':'flex\x20items-center\x20justify-center\x20min-h-screen','children':(0x0,_0x5ba524['jsxs'])('div',{'className':'text-center','children':[(0x0,_0x5ba524['jsx'])('p',{'className':'text-red-600','children':'Failed\x20to\x20load\x20ticket'}),(0x0,_0x5ba524['jsx'])(_0x274e0a(0x9b),{'onClick':()=>_0x4d5ef5['push']('/support'),'className':_0x274e0a(0xa0),'children':_0x274e0a(0x10b)})]})}):(0x0,_0x5ba524['jsx'])(_0x274e0a(0xf3),{'className':'min-h-screen\x20bg-gray-50\x20py-8','children':(0x0,_0x5ba524[_0x274e0a(0xce)])(_0x274e0a(0xf3),{'className':'max-w-4xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','children':[(0x0,_0x5ba524[_0x274e0a(0xce)])(_0x274e0a(0xf3),{'className':_0x274e0a(0xa1),'children':[(0x0,_0x5ba524[_0x274e0a(0xaa)])('button',{'onClick':()=>_0x4d5ef5[_0x274e0a(0xe4)](_0x274e0a(0xa9)),'className':'text-gray-600\x20hover:text-gray-900\x20mb-4\x20flex\x20items-center\x20gap-2','children':_0x274e0a(0xd2)}),(0x0,_0x5ba524[_0x274e0a(0xaa)])('h1',{'className':_0x274e0a(0x106),'children':_0x59c943['title']})]}),(0x0,_0x5ba524['jsxs'])(_0x274e0a(0xf3),{'className':'bg-white\x20rounded-lg\x20shadow-md\x20p-6\x20mb-6','children':[(0x0,_0x5ba524[_0x274e0a(0xce)])(_0x274e0a(0xf3),{'className':'flex\x20items-center\x20justify-between\x20mb-4','children':[(0x0,_0x5ba524[_0x274e0a(0xce)])('div',{'className':'flex\x20items-center\x20gap-3','children':[(0x0,_0x5ba524[_0x274e0a(0xaa)])(_0x274e0a(0xbc),{'className':'px-4\x20py-2\x20text-sm\x20font-medium\x20rounded-full\x20'+({'open':'bg-blue-100\x20text-blue-800','in_progress':'bg-yellow-100\x20text-yellow-800','waiting_response':_0x274e0a(0xef),'escalated':'bg-red-100\x20text-red-800','resolved':_0x274e0a(0xd3),'closed':_0x274e0a(0xf2)}[_0x59c943[_0x274e0a(0xe9)]]||_0x274e0a(0xf2)),'children':_0x59c943['status'][_0x274e0a(0xf4)]('_')[_0x274e0a(0xc8)](_0x158c58=>_0x158c58[_0x274e0a(0xa3)](0x0)['toUpperCase']()+_0x158c58['slice'](0x1))[_0x274e0a(0xab)]('\x20')}),(0x0,_0x5ba524['jsx'])('span',{'className':'px-3\x20py-1\x20text-sm\x20font-medium\x20rounded-full\x20'+({'low':_0x274e0a(0xf2),'medium':_0x274e0a(0xde),'high':_0x274e0a(0xdf),'urgent':'bg-red-100\x20text-red-800'}[_0x59c943[_0x274e0a(0xd9)]]||_0x274e0a(0xf2)),'children':_0x59c943[_0x274e0a(0xd9)]})]}),(0x0,_0x5ba524[_0x274e0a(0xce)])(_0x274e0a(0xbc),{'className':'text-sm\x20text-gray-500','children':['Created\x20',_0x2806df(_0x59c943[_0x274e0a(0xb2)])]})]}),(0x0,_0x5ba524[_0x274e0a(0xce)])(_0x274e0a(0xf3),{'className':_0x274e0a(0xe1),'children':[(0x0,_0x5ba524[_0x274e0a(0xaa)])('p',{'className':_0x274e0a(0xe5),'children':_0x274e0a(0xf6)}),(0x0,_0x5ba524['jsx'])('p',{'className':_0x274e0a(0x108),'children':_0x59c943[_0x274e0a(0xd4)]})]}),(0x0,_0x5ba524[_0x274e0a(0xce)])(_0x274e0a(0xf3),{'className':'grid\x20grid-cols-2\x20gap-4\x20mt-4\x20text-sm','children':[(0x0,_0x5ba524['jsxs'])('div',{'children':[(0x0,_0x5ba524['jsx'])(_0x274e0a(0xbc),{'className':'text-gray-600','children':_0x274e0a(0xe6)}),(0x0,_0x5ba524['jsx'])('span',{'className':_0x274e0a(0xed),'children':_0x59c943[_0x274e0a(0xc5)][_0x274e0a(0xf4)]('_')[_0x274e0a(0xc8)](_0x5a9af4=>_0x5a9af4['charAt'](0x0)[_0x274e0a(0x101)]()+_0x5a9af4['slice'](0x1))['join']('\x20')})]}),_0x59c943['assigned_to']&&_0x59c943[_0x274e0a(0xd7)]&&(0x0,_0x5ba524['jsxs'])('div',{'children':[(0x0,_0x5ba524[_0x274e0a(0xaa)])(_0x274e0a(0xbc),{'className':'text-gray-600','children':_0x274e0a(0xad)}),(0x0,_0x5ba524[_0x274e0a(0xaa)])(_0x274e0a(0xbc),{'className':'ml-2\x20font-medium','children':_0x59c943['assignee']['display_name']})]})]})]}),(0x0,_0x5ba524['jsxs'])(_0x274e0a(0xf3),{'className':'bg-white\x20rounded-lg\x20shadow-md\x20p-6\x20mb-6','children':[(0x0,_0x5ba524['jsx'])('h2',{'className':_0x274e0a(0xe3),'children':'Conversation'}),(0x0,_0x5ba524[_0x274e0a(0xaa)])('div',{'className':_0x274e0a(0xb4),'children':_0x59c943[_0x274e0a(0xf0)]['filter'](_0x58c308=>!_0x58c308['is_internal'])[_0x274e0a(0xc8)](_0x13f5ba=>{const _0x4b7fd1=_0x274e0a;let _0x50be22=_0x13f5ba['author']&&['support',_0x4b7fd1(0xb8),_0x4b7fd1(0xc4)][_0x4b7fd1(0xa7)](_0x13f5ba['author']['user_role']);return(0x0,_0x5ba524['jsxs'])(_0x4b7fd1(0xf3),{'className':_0x4b7fd1(0x9f)+(_0x13f5ba[_0x4b7fd1(0xea)]?_0x4b7fd1(0x9e):_0x50be22?'bg-blue-50\x20border\x20border-blue-200':_0x4b7fd1(0xc6)),'children':[(0x0,_0x5ba524[_0x4b7fd1(0xce)])(_0x4b7fd1(0xf3),{'className':'flex\x20items-start\x20justify-between\x20mb-2','children':[(0x0,_0x5ba524[_0x4b7fd1(0xce)])(_0x4b7fd1(0xf3),{'className':_0x4b7fd1(0xe0),'children':[(0x0,_0x5ba524['jsx'])(_0x4b7fd1(0xbc),{'className':'font-semibold\x20text-gray-900','children':_0x13f5ba[_0x4b7fd1(0xac)]?.['display_name']||_0x4b7fd1(0xff)}),_0x50be22&&(0x0,_0x5ba524[_0x4b7fd1(0xaa)])('span',{'className':'text-xs\x20px-2\x20py-1\x20bg-blue-200\x20rounded','children':_0x4b7fd1(0xda)})]}),(0x0,_0x5ba524[_0x4b7fd1(0xaa)])('span',{'className':_0x4b7fd1(0xbb),'children':_0x2806df(_0x13f5ba[_0x4b7fd1(0xb2)])})]}),(0x0,_0x5ba524[_0x4b7fd1(0xaa)])('p',{'className':'text-gray-700\x20whitespace-pre-wrap','children':_0x13f5ba['message']})]},_0x13f5ba['id']);})}),'closed'!==_0x59c943[_0x274e0a(0xe9)]&&(0x0,_0x5ba524[_0x274e0a(0xce)])(_0x274e0a(0xf3),{'className':'border-t\x20pt-4','children':[(0x0,_0x5ba524[_0x274e0a(0xaa)])('textarea',{'value':_0x2a1242,'onChange':_0x4cfd02=>_0x18e31c(_0x4cfd02[_0x274e0a(0xb3)]['value']),'placeholder':'Type\x20your\x20reply...','className':'w-full\x20px-4\x20py-3\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent\x20resize-none','rows':0x4}),(0x0,_0x5ba524['jsx'])(_0x274e0a(0xf3),{'className':'flex\x20justify-end\x20mt-3','children':(0x0,_0x5ba524['jsx'])(_0x274e0a(0x9b),{'onClick':_0x258581,'disabled':_0x18c010||!_0x2a1242['trim'](),'className':'px-6\x20py-2\x20bg-emerald-600\x20text-white\x20rounded-lg\x20hover:bg-emerald-700\x20disabled:opacity-50\x20disabled:cursor-not-allowed','children':_0x18c010?_0x274e0a(0xd5):_0x274e0a(0xa8)})})]})]}),'resolved'===_0x59c943['status']&&!_0x59c943['satisfaction_rating']&&(0x0,_0x5ba524[_0x274e0a(0xce)])(_0x274e0a(0xf3),{'className':'bg-white\x20rounded-lg\x20shadow-md\x20p-6','children':[(0x0,_0x5ba524[_0x274e0a(0xaa)])('h3',{'className':'text-lg\x20font-semibold\x20mb-4','children':_0x274e0a(0x95)}),(0x0,_0x5ba524[_0x274e0a(0xaa)])('p',{'className':_0x274e0a(0xdd),'children':'How\x20satisfied\x20are\x20you\x20with\x20the\x20resolution?'}),(0x0,_0x5ba524[_0x274e0a(0xaa)])(_0x274e0a(0xf3),{'className':'flex\x20gap-2','children':[0x1,0x2,0x3,0x4,0x5][_0x274e0a(0xc8)](_0x4e3034=>(0x0,_0x5ba524['jsx'])(_0x274e0a(0x9b),{'onClick':()=>_0x726e54(_0x4e3034),'disabled':_0x2497d7,'className':'text-4xl\x20hover:scale-110\x20transition-transform\x20disabled:opacity-50','children':_0x4e3034<=(_0x21f9f7||0x0)?'⭐':'☆'},_0x4e3034))})]}),_0x59c943[_0x274e0a(0xa4)]&&(0x0,_0x5ba524[_0x274e0a(0xce)])('div',{'className':_0x274e0a(0xcc),'children':[(0x0,_0x5ba524['jsx'])('p',{'className':_0x274e0a(0x9c),'children':_0x274e0a(0xf9)}),(0x0,_0x5ba524['jsx'])(_0x274e0a(0xf3),{'className':_0x274e0a(0x98),'children':[0x1,0x2,0x3,0x4,0x5][_0x274e0a(0xc8)](_0x23177a=>(0x0,_0x5ba524[_0x274e0a(0xaa)])(_0x274e0a(0xbc),{'className':'text-2xl','children':_0x23177a<=_0x59c943[_0x274e0a(0xa4)]?'⭐':'☆'},_0x23177a))})]})]})}):(0x0,_0x5ba524[_0x274e0a(0xaa)])('div',{'className':_0x274e0a(0x99),'children':(0x0,_0x5ba524[_0x274e0a(0xaa)])(_0x274e0a(0xf3),{'className':'max-w-4xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','children':(0x0,_0x5ba524['jsxs'])(_0x274e0a(0xf3),{'className':'text-center','children':[(0x0,_0x5ba524['jsx'])('h2',{'className':_0x274e0a(0xb1),'children':'Ticket\x20Not\x20Found'}),(0x0,_0x5ba524['jsx'])('p',{'className':_0x274e0a(0xc7),'children':'No\x20ticket\x20ID\x20provided.'}),(0x0,_0x5ba524[_0x274e0a(0xaa)])(_0x274e0a(0x9b),{'onClick':()=>_0x4d5ef5[_0x274e0a(0xe4)](_0x274e0a(0xa9)),'className':_0x274e0a(0xd0),'children':_0x274e0a(0x10b)})]})})});}function _0x2806df(_0x3951ac){const _0x156c6f=_0x1109;return new Date(_0x3951ac)[_0x156c6f(0xb6)]();}},0xb73f:(_0x28c746,_0x30a1cd,_0x153927)=>{const _0x2f6510=_0x1109;Promise[_0x2f6510(0xec)]()['then'](_0x153927['bind'](_0x153927,0x9c1c));},0xc541:(_0x2c1562,_0xdceb69,_0x16c81c)=>{'use strict';const _0x1d76c9=_0x1109;var _0x34635c=_0x16c81c(0xed0d);_0x16c81c['o'](_0x34635c,_0x1d76c9(0xd8))&&_0x16c81c['d'](_0xdceb69,{'usePathname':function(){return _0x34635c['usePathname'];}}),_0x16c81c['o'](_0x34635c,_0x1d76c9(0xc9))&&_0x16c81c['d'](_0xdceb69,{'useRouter':function(){return _0x34635c['useRouter'];}}),_0x16c81c['o'](_0x34635c,_0x1d76c9(0x109))&&_0x16c81c['d'](_0xdceb69,{'useSearchParams':function(){return _0x34635c['useSearchParams'];}});},0x10edb:(_0x360eb3,_0x3f22fa,_0x57f363)=>{'use strict';_0x57f363['d'](_0x3f22fa,{'A':()=>_0x53731d});var _0x370562=_0x57f363(0x5433),_0x83e0d6=_0x57f363(0x3e0d);function _0x53731d(){const _0x4b0786=_0x1109;let [_0x358891,_0x58e59a]=(0x0,_0x370562['useState'])(null),[_0x127d9c,_0x14b927]=(0x0,_0x370562['useState'])(!0x0),[_0x2ee181,_0x2b0103]=(0x0,_0x370562[_0x4b0786(0xeb)])(!0x1),[_0x55db90,_0x54154e]=(0x0,_0x370562[_0x4b0786(0xeb)])(null),_0x493d8f=(0x0,_0x370562['useCallback'])(async()=>{const _0x200b5c=_0x4b0786;try{let _0x2ccde8=(0x0,_0x83e0d6[_0x200b5c(0xcb)])(),{data:_0x444c7f,error:_0x235311}=await _0x2ccde8[_0x200b5c(0xc0)][_0x200b5c(0xf8)]();if(_0x235311)return console[_0x200b5c(0xa5)]('[useAuth]\x20Refresh\x20error:',_0x235311),!0x1;if(!_0x444c7f?.['session'])return console['error']('[useAuth]\x20No\x20session\x20returned\x20after\x20refresh'),!0x1;return _0x54154e(_0x444c7f[_0x200b5c(0xdb)]),_0x58e59a(_0x444c7f['session']['user']),console['log'](_0x200b5c(0x105)),!0x0;}catch(_0x5872e5){return console['error'](_0x200b5c(0x100),_0x5872e5),!0x1;}},[]);return(0x0,_0x370562[_0x4b0786(0xa2)])(()=>{const _0x37baea=_0x4b0786;_0x83e0d6[_0x37baea(0xd6)]['getUser']()['then'](({data:{user:_0x171ad6}})=>{_0x58e59a(_0x171ad6),_0x14b927(!0x1),_0x2b0103(!0x0);})[_0x37baea(0xcf)](()=>{_0x14b927(!0x1),_0x2b0103(!0x0);});let {data:{subscription:_0xf3fe4b}}=_0x83e0d6[_0x37baea(0xd6)][_0x37baea(0xe8)](async(_0x5420a1,_0x4d0ed8)=>{const _0xf82bae=_0x37baea;console[_0xf82bae(0x97)](_0xf82bae(0xdc),_0x5420a1),_0xf82bae(0xb0)===_0x5420a1&&console['log']('[useAuth]\x20Token\x20refreshed\x20successfully'),_0x54154e(_0x4d0ed8),_0x58e59a(_0x4d0ed8?.['user']??null),_0x14b927(!0x1),_0x2b0103(!0x0);});return()=>_0xf3fe4b['unsubscribe']();},[]),{'user':_0x358891,'session':_0x55db90,'loading':_0x127d9c,'isReady':_0x2ee181,'authenticated':!!_0x358891,'refreshSession':_0x493d8f,'signOut':()=>_0x83e0d6[_0x4b0786(0xd6)][_0x4b0786(0xfb)]()};}},0x14a5a:(_0xba31f6,_0x476a9d,_0x218700)=>{'use strict';_0x218700['d'](_0x476a9d,{'c0':()=>_0x2721ef,'Gs':()=>_0x3a5ec9,'oJ':()=>_0x388d13,'yS':()=>_0xef275e,'dS':()=>_0x22c4de,'tY':()=>_0xc7a0c8});var _0x1b32a8=_0x218700(0x5433),_0x5c49a0=_0x218700(0x3e0d);function _0x5cf0d5(_0x35ad7f={}){const _0x57d546=_0x1109;let {onTicketCreated:_0x1be286,onTicketUpdated:_0x7d41bb,onTicketDeleted:_0x2aecca,onMessageAdded:_0x57a613,ticketId:_0x5d94c6}=_0x35ad7f;(0x0,_0x1b32a8[_0x57d546(0xa2)])(()=>{const _0x33f229=_0x57d546;let _0xfce6c0=(0x0,_0x5c49a0[_0x33f229(0xcb)])(),_0x3ef18c=_0xfce6c0['channel'](_0x33f229(0xfd))['on']('postgres_changes',{'event':_0x33f229(0xee),'schema':'api','table':'support_tickets'},_0x2b714f=>{const _0xb2ea4=_0x33f229;console['log'](_0xb2ea4(0xf5),_0x2b714f),_0x1be286?.(_0x2b714f);})['on']('postgres_changes',{'event':'UPDATE','schema':'api','table':'support_tickets',..._0x5d94c6?{'filter':'id=eq.'+_0x5d94c6}:{}},_0xff44c0=>{const _0x4b810d=_0x33f229;console[_0x4b810d(0x97)]('Ticket\x20updated:',_0xff44c0),_0x7d41bb?.(_0xff44c0);})['on']('postgres_changes',{'event':'DELETE','schema':_0x33f229(0xd6),'table':'support_tickets'},_0x74274c=>{const _0x38a9f4=_0x33f229;console['log'](_0x38a9f4(0xf7),_0x74274c),_0x2aecca?.(_0x74274c);})[_0x33f229(0xfa)](),_0x127512=null;return _0x5d94c6&&_0x57a613&&(_0x127512=_0xfce6c0[_0x33f229(0x96)](_0x33f229(0xba))['on'](_0x33f229(0x102),{'event':_0x33f229(0xee),'schema':_0x33f229(0xd6),'table':'ticket_messages','filter':_0x33f229(0xbd)+_0x5d94c6},_0x51e0fe=>{const _0x41b8fc=_0x33f229;console[_0x41b8fc(0x97)]('Message\x20added:',_0x51e0fe),_0x57a613(_0x51e0fe);})[_0x33f229(0xfa)]()),()=>{_0xfce6c0['removeChannel'](_0x3ef18c),_0x127512&&_0xfce6c0['removeChannel'](_0x127512);};},[_0x1be286,_0x7d41bb,_0x2aecca,_0x57a613,_0x5d94c6]);}function _0x22c4de(_0x1b3e24={}){const _0x24d55e=_0x1109;let [_0x5c7e16,_0x54002a]=(0x0,_0x1b32a8[_0x24d55e(0xeb)])([]),[_0x3b1b50,_0xc01339]=(0x0,_0x1b32a8[_0x24d55e(0xeb)])(!0x0),[_0x49303d,_0x3d7eff]=(0x0,_0x1b32a8[_0x24d55e(0xeb)])(null),[_0x18bb39,_0x4df9f1]=(0x0,_0x1b32a8[_0x24d55e(0xeb)])(0x0),_0x12268b=(0x0,_0x1b32a8['useCallback'])(async()=>{const _0x41233c=_0x24d55e;try{_0xc01339(!0x0),_0x3d7eff(null);let {tickets:_0x327155,total:_0x4578a6}=await _0x5c49a0['api'][_0x41233c(0xa6)]({'status':_0x1b3e24[_0x41233c(0xe9)],'category':_0x1b3e24['category'],'assigned_to':_0x1b3e24[_0x41233c(0x107)]});_0x54002a(_0x327155),_0x4df9f1(_0x4578a6);}catch(_0x17b10b){_0x3d7eff(_0x17b10b instanceof Error?_0x17b10b[_0x41233c(0x9d)]:'Failed\x20to\x20fetch\x20tickets');}finally{_0xc01339(!0x1);}},[_0x1b3e24['status'],_0x1b3e24[_0x24d55e(0xc5)],_0x1b3e24[_0x24d55e(0x107)]]);return(0x0,_0x1b32a8[_0x24d55e(0xa2)])(()=>{if(_0x12268b(),_0x1b3e24['autoRefresh']&&_0x1b3e24['refreshInterval']){let _0x29165f=setInterval(_0x12268b,_0x1b3e24['refreshInterval']);return()=>clearInterval(_0x29165f);}},[_0x12268b,_0x1b3e24['autoRefresh'],_0x1b3e24[_0x24d55e(0x9a)]]),_0x5cf0d5({'onTicketCreated':!0x1!==_0x1b3e24['enableRealtime']?()=>_0x12268b():void 0x0,'onTicketUpdated':!0x1!==_0x1b3e24['enableRealtime']?()=>_0x12268b():void 0x0,'onTicketDeleted':!0x1!==_0x1b3e24['enableRealtime']?()=>_0x12268b():void 0x0}),{'tickets':_0x5c7e16,'loading':_0x3b1b50,'error':_0x49303d,'total':_0x18bb39,'refetch':_0x12268b};}function _0xef275e(_0x22b247,_0x2e69f9=!0x0){const _0x34d2c7=_0x1109;let [_0x3c66b0,_0x424896]=(0x0,_0x1b32a8['useState'])(null),[_0x5db55e,_0x348719]=(0x0,_0x1b32a8[_0x34d2c7(0xeb)])(!0x0),[_0x3f468a,_0x5a2209]=(0x0,_0x1b32a8[_0x34d2c7(0xeb)])(null),_0xe357e0=(0x0,_0x1b32a8['useCallback'])(async()=>{const _0x2c00a9=_0x34d2c7;if(!_0x22b247){_0x424896(null),_0x348719(!0x1);return;}try{_0x348719(!0x0),_0x5a2209(null);let _0x52034b=await _0x5c49a0[_0x2c00a9(0xd6)][_0x2c00a9(0xbe)](_0x22b247);_0x424896(_0x52034b);}catch(_0x363413){_0x5a2209(_0x363413 instanceof Error?_0x363413[_0x2c00a9(0x9d)]:'Failed\x20to\x20fetch\x20ticket');}finally{_0x348719(!0x1);}},[_0x22b247]);return(0x0,_0x1b32a8['useEffect'])(()=>{_0xe357e0();},[_0xe357e0]),_0x5cf0d5({'ticketId':_0x22b247||void 0x0,'onTicketUpdated':_0x2e69f9?()=>_0xe357e0():void 0x0,'onMessageAdded':_0x2e69f9?()=>_0xe357e0():void 0x0}),{'ticket':_0x3c66b0,'loading':_0x5db55e,'error':_0x3f468a,'refetch':_0xe357e0};}function _0x3a5ec9(){const _0x402731=_0x1109;let [_0x4978b8,_0x2e63d8]=(0x0,_0x1b32a8[_0x402731(0xeb)])(!0x1),[_0x37cabf,_0x1c2b20]=(0x0,_0x1b32a8['useState'])(null);return{'createTicket':async _0x41457b=>{const _0x233ded=_0x402731;try{return _0x2e63d8(!0x0),_0x1c2b20(null),(await _0x5c49a0[_0x233ded(0xd6)]['createTicket'](_0x41457b))[_0x233ded(0x103)];}catch(_0x3b7843){let _0x3cabcc=_0x3b7843 instanceof Error?_0x3b7843['message']:_0x233ded(0xae);throw _0x1c2b20(_0x3cabcc),Error(_0x3cabcc);}finally{_0x2e63d8(!0x1);}},'loading':_0x4978b8,'error':_0x37cabf};}function _0xc7a0c8(){const _0x106f43=_0x1109;let [_0x308260,_0x5e6a46]=(0x0,_0x1b32a8[_0x106f43(0xeb)])(!0x1),[_0xe29d81,_0x4e3f42]=(0x0,_0x1b32a8['useState'])(null);return{'updateTicket':async _0x672d09=>{const _0x54535c=_0x106f43;try{return _0x5e6a46(!0x0),_0x4e3f42(null),(await _0x5c49a0['api']['updateTicket'](_0x672d09))[_0x54535c(0x103)];}catch(_0x5cf86b){let _0x5111a7=_0x5cf86b instanceof Error?_0x5cf86b[_0x54535c(0x9d)]:'Failed\x20to\x20update\x20ticket';throw _0x4e3f42(_0x5111a7),Error(_0x5111a7);}finally{_0x5e6a46(!0x1);}},'loading':_0x308260,'error':_0xe29d81};}function _0x388d13(){const _0x44813c=_0x1109;let [_0x429028,_0x599b4e]=(0x0,_0x1b32a8[_0x44813c(0xeb)])(!0x1),[_0x158ecf,_0x2e6c25]=(0x0,_0x1b32a8[_0x44813c(0xeb)])(null);return{'escalateTicket':async _0x46d56a=>{const _0x39b4f0=_0x44813c;try{return _0x599b4e(!0x0),_0x2e6c25(null),(await _0x5c49a0['api'][_0x39b4f0(0xfe)](_0x46d56a))['ticket'];}catch(_0x10184c){let _0x2ff874=_0x10184c instanceof Error?_0x10184c[_0x39b4f0(0x9d)]:'Failed\x20to\x20escalate\x20ticket';throw _0x2e6c25(_0x2ff874),Error(_0x2ff874);}finally{_0x599b4e(!0x1);}},'loading':_0x429028,'error':_0x158ecf};}function _0x2721ef(){const _0x237564=_0x1109;let [_0x570785,_0x32d900]=(0x0,_0x1b32a8[_0x237564(0xeb)])(!0x1),[_0x4bfb99,_0x3ce0f1]=(0x0,_0x1b32a8[_0x237564(0xeb)])(null);return{'addMessage':async _0x3a04c=>{const _0x178471=_0x237564;try{return _0x32d900(!0x0),_0x3ce0f1(null),(await _0x5c49a0['api'][_0x178471(0xaf)](_0x3a04c))['message'];}catch(_0x54d2f1){let _0x210018=_0x54d2f1 instanceof Error?_0x54d2f1[_0x178471(0x9d)]:_0x178471(0xe7);throw _0x3ce0f1(_0x210018),Error(_0x210018);}finally{_0x32d900(!0x1);}},'loading':_0x570785,'error':_0x4bfb99};}}},_0x20bf30=>{_0x20bf30['O'](0x0,[0x2603,0x259f,0x16fd,0x1b1b,0x492,0x1cbe],()=>_0x20bf30(_0x20bf30['s']=0xb73f)),_N_E=_0x20bf30['O']();}]));