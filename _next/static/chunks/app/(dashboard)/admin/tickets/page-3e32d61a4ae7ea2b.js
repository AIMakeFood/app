function _0x13c1(){const _0x2a05c7=['217uBDKzX','Open','split','resolve','All\x20Categories','user_role','28568WuYTPN','postgres_changes','bg-blue-100\x20text-blue-800','24aFTnDZ','28796iNUldE','Resolved','30VBlCQz','flex\x20flex-wrap\x20gap-4\x20text-xs\x20text-gray-500','charAt','flex\x20items-start\x20justify-between','TOKEN_REFRESHED','568863tQgexp','usePathname','grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4','target','resolved','/auth/login','Account','6024744pUGPjn','escalateTicket','useEffect','option','useCallback','Closed','admin','closed','log','INSERT','Failed\x20to\x20update\x20ticket','subscribe','useSearchParams','length','UPDATE','open','session','Ticket\x20deleted:','assigned_to','useRouter','div','all','Showing\x20','user','DELETE','[useAuth]\x20Refresh\x20error:','/admin/tickets','Technical','jsx','p-12\x20text-center','error','unassigned','Try\x20adjusting\x20your\x20filters','Yesterday','label','then','getSupabase','support_tickets_changes','/admin/ticket?id=','bg-red-100\x20text-red-800','1780hYTOwM','bg-red-50\x20border\x20border-red-200\x20rounded-lg\x20p-4\x20mb-6','Waiting\x20Response','useState','get','Message\x20added:','w-full\x20px-3\x20py-2\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent','flex-1\x20min-w-0','status','jsxs','block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-2','other','text-sm\x20text-gray-500','bind','refreshInterval','span','catch','removeChannel','assignee','value','Unassigned','Bug\x20Report','Escalated','ticket','message','select','1392882oaDSVh','ticket_messages','map','Failed\x20to\x20add\x20message','description','bg-white\x20rounded-lg\x20shadow-md\x20p-6\x20mb-6','text-gray-500\x20text-lg','2564sWJaed','All\x20Statuses','support_tickets','includes','Manage\x20and\x20respond\x20to\x20user\x20support\x20requests','billing','12eUjAez','api','206096qiSPZd','escalated','[useAuth]\x20Token\x20refreshed\x20successfully','enableRealtime','push','\x20tickets','channel','autoRefresh','Ticket\x20updated:','bg-gray-100\x20text-gray-800','Failed\x20to\x20fetch\x20tickets','category','Category:\x20','support','Failed\x20to\x20fetch\x20ticket','Failed\x20to\x20escalate\x20ticket','[useAuth]\x20Failed\x20to\x20refresh:','technical','Assigned\x20to\x20Me','signOut'];_0x13c1=function(){return _0x2a05c7;};return _0x13c1();}function _0x46bf(_0x5523ec,_0x5ee010){_0x5523ec=_0x5523ec-0x18c;const _0x13c16e=_0x13c1();let _0x46bf22=_0x13c16e[_0x5523ec];return _0x46bf22;}(function(_0xaaef94,_0x355812){const _0x2b80d2=_0x46bf,_0x16137d=_0xaaef94();while(!![]){try{const _0x3eb4b1=-parseInt(_0x2b80d2(0x1ff))/0x1+parseInt(_0x2b80d2(0x1a0))/0x2*(parseInt(_0x2b80d2(0x19f))/0x3)+-parseInt(_0x2b80d2(0x1f7))/0x4*(-parseInt(_0x2b80d2(0x1d6))/0x5)+parseInt(_0x2b80d2(0x1f0))/0x6+-parseInt(_0x2b80d2(0x196))/0x7*(-parseInt(_0x2b80d2(0x19c))/0x8)+parseInt(_0x2b80d2(0x1a7))/0x9*(parseInt(_0x2b80d2(0x1a2))/0xa)+parseInt(_0x2b80d2(0x1ae))/0xb*(-parseInt(_0x2b80d2(0x1fd))/0xc);if(_0x3eb4b1===_0x355812)break;else _0x16137d['push'](_0x16137d['shift']());}catch(_0x12e722){_0x16137d['push'](_0x16137d['shift']());}}}(_0x13c1,0x1dcc1),(self['webpackChunk_N_E']=self['webpackChunk_N_E']||[])['push']([[0x2f4],{0x4db1:(_0x4c9135,_0x9c1ba0,_0x4e67f4)=>{'use strict';_0x4e67f4['r'](_0x9c1ba0),_0x4e67f4['d'](_0x9c1ba0,{'default':()=>_0x45e3b6});var _0x542299=_0x4e67f4(0xd773),_0x15433f=_0x4e67f4(0x5433),_0x45aeeb=_0x4e67f4(0x10edb),_0x251d69=_0x4e67f4(0xc541),_0x1ae9db=_0x4e67f4(0x14a5a);function _0x45e3b6(){const _0x4706df=_0x46bf;let {user:_0x638031,loading:_0xf671ea}=(0x0,_0x45aeeb['A'])(),_0x5bdbc2=(0x0,_0x251d69['useRouter'])(),_0x1f04ba=(0x0,_0x251d69[_0x4706df(0x1ba)])(),_0x5ce361=_0x1f04ba[_0x4706df(0x1da)]('status')||void 0x0,_0x48214b=_0x1f04ba['get'](_0x4706df(0x18d))||void 0x0,_0x2ac47b=_0x1f04ba[_0x4706df(0x1da)]('assigned_to')||void 0x0,{tickets:_0x1c7af7,loading:_0x9e2ade,error:_0x394fcf,refetch:_0x5637bb}=(0x0,_0x1ae9db['dS'])({'status':_0x5ce361,'category':_0x48214b,'assigned_to':_0x2ac47b,'autoRefresh':!0x0,'refreshInterval':0x7530}),[_0x1ba801,_0x104c02]=(0x0,_0x15433f['useState'])(_0x5ce361||_0x4706df(0x1c3)),[_0x29c781,_0xfa1583]=(0x0,_0x15433f[_0x4706df(0x1d9)])(_0x48214b||_0x4706df(0x1c3)),[_0x2c3059,_0xfb65e1]=(0x0,_0x15433f[_0x4706df(0x1d9)])(_0x2ac47b||'all'),[_0x3c6a61,_0x8a2687]=(0x0,_0x15433f['useState'])(null);return((0x0,_0x15433f['useEffect'])(()=>{const _0x28d6b3=_0x4706df;_0xf671ea||_0x638031?_0x638031&&Promise[_0x28d6b3(0x199)]()[_0x28d6b3(0x1d1)](_0x4e67f4['bind'](_0x4e67f4,0x3e0d))['then'](({api:_0x5951f6})=>{const _0x5be36f=_0x28d6b3;_0x5951f6['getProfile']()[_0x5be36f(0x1d1)](_0x3ab31a=>{const _0x4e595c=_0x5be36f;_0x8a2687(_0x3ab31a),_0x3ab31a&&![_0x4e595c(0x1b4),'manager','support'][_0x4e595c(0x1fa)](_0x3ab31a[_0x4e595c(0x19b)]||'')&&_0x5bdbc2[_0x4e595c(0x203)]('/dashboard');})[_0x5be36f(0x1e6)](()=>{_0x5bdbc2['push']('/dashboard');});}):_0x5bdbc2['push'](_0x28d6b3(0x1ac));},[_0x638031,_0xf671ea,_0x5bdbc2]),(0x0,_0x15433f[_0x4706df(0x1b0)])(()=>{const _0x49294d=_0x4706df;let _0x4d884a=new URLSearchParams();_0x49294d(0x1c3)!==_0x1ba801&&_0x4d884a['set']('status',_0x1ba801),_0x49294d(0x1c3)!==_0x29c781&&_0x4d884a['set']('category',_0x29c781),_0x49294d(0x1c3)!==_0x2c3059&&_0x4d884a['set'](_0x49294d(0x1c0),_0x2c3059);let _0x45d27f=_0x4d884a['toString']()?'?'+_0x4d884a:_0x49294d(0x1c8);_0x5bdbc2['push'](_0x45d27f);},[_0x1ba801,_0x29c781,_0x2c3059,_0x5bdbc2]),_0xf671ea||_0x9e2ade)?(0x0,_0x542299[_0x4706df(0x1ca)])('div',{'className':'flex\x20items-center\x20justify-center\x20min-h-screen','children':(0x0,_0x542299['jsxs'])('div',{'className':'text-center','children':[(0x0,_0x542299['jsx'])('div',{'className':'animate-spin\x20rounded-full\x20h-12\x20w-12\x20border-b-2\x20border-emerald-600\x20mx-auto'}),(0x0,_0x542299['jsx'])('p',{'className':'mt-4\x20text-gray-600','children':'Loading\x20tickets...'})]})}):_0x3c6a61&&[_0x4706df(0x1b4),'manager',_0x4706df(0x18f)][_0x4706df(0x1fa)](_0x3c6a61[_0x4706df(0x19b)]||'')?(0x0,_0x542299[_0x4706df(0x1ca)])(_0x4706df(0x1c2),{'className':'min-h-screen\x20bg-gray-50\x20py-8','children':(0x0,_0x542299['jsxs'])('div',{'className':'max-w-7xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','children':[(0x0,_0x542299[_0x4706df(0x1df)])('div',{'className':'mb-8','children':[(0x0,_0x542299[_0x4706df(0x1ca)])('h1',{'className':'text-3xl\x20font-bold\x20text-gray-900','children':'Support\x20Tickets'}),(0x0,_0x542299[_0x4706df(0x1ca)])('p',{'className':'mt-2\x20text-gray-600','children':_0x4706df(0x1fb)})]}),(0x0,_0x542299[_0x4706df(0x1ca)])(_0x4706df(0x1c2),{'className':_0x4706df(0x1f5),'children':(0x0,_0x542299[_0x4706df(0x1df)])('div',{'className':_0x4706df(0x1a9),'children':[(0x0,_0x542299[_0x4706df(0x1df)])('div',{'children':[(0x0,_0x542299['jsx'])(_0x4706df(0x1d0),{'className':_0x4706df(0x1e0),'children':'Status'}),(0x0,_0x542299['jsxs'])(_0x4706df(0x1ef),{'value':_0x1ba801,'onChange':_0x46bda7=>_0x104c02(_0x46bda7[_0x4706df(0x1aa)][_0x4706df(0x1e9)]),'className':'w-full\x20px-3\x20py-2\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent','children':[(0x0,_0x542299[_0x4706df(0x1ca)])('option',{'value':_0x4706df(0x1c3),'children':_0x4706df(0x1f8)}),(0x0,_0x542299['jsx'])('option',{'value':_0x4706df(0x1bd),'children':_0x4706df(0x197)}),(0x0,_0x542299[_0x4706df(0x1ca)])(_0x4706df(0x1b1),{'value':'in_progress','children':'In\x20Progress'}),(0x0,_0x542299['jsx'])('option',{'value':'waiting_response','children':_0x4706df(0x1d8)}),(0x0,_0x542299[_0x4706df(0x1ca)])('option',{'value':_0x4706df(0x200),'children':_0x4706df(0x1ec)}),(0x0,_0x542299[_0x4706df(0x1ca)])(_0x4706df(0x1b1),{'value':_0x4706df(0x1ab),'children':_0x4706df(0x1a1)}),(0x0,_0x542299[_0x4706df(0x1ca)])('option',{'value':_0x4706df(0x1b5),'children':_0x4706df(0x1b3)})]})]}),(0x0,_0x542299['jsxs'])(_0x4706df(0x1c2),{'children':[(0x0,_0x542299[_0x4706df(0x1ca)])('label',{'className':_0x4706df(0x1e0),'children':'Category'}),(0x0,_0x542299[_0x4706df(0x1df)])(_0x4706df(0x1ef),{'value':_0x29c781,'onChange':_0x1e525a=>_0xfa1583(_0x1e525a[_0x4706df(0x1aa)][_0x4706df(0x1e9)]),'className':_0x4706df(0x1dc),'children':[(0x0,_0x542299[_0x4706df(0x1ca)])('option',{'value':'all','children':_0x4706df(0x19a)}),(0x0,_0x542299['jsx'])(_0x4706df(0x1b1),{'value':'subscription','children':'Subscription'}),(0x0,_0x542299['jsx'])(_0x4706df(0x1b1),{'value':_0x4706df(0x193),'children':_0x4706df(0x1c9)}),(0x0,_0x542299['jsx'])(_0x4706df(0x1b1),{'value':'account','children':_0x4706df(0x1ad)}),(0x0,_0x542299['jsx'])('option',{'value':_0x4706df(0x1fc),'children':'Billing'}),(0x0,_0x542299['jsx'])(_0x4706df(0x1b1),{'value':'feature_request','children':'Feature\x20Request'}),(0x0,_0x542299['jsx'])(_0x4706df(0x1b1),{'value':'bug_report','children':_0x4706df(0x1eb)}),(0x0,_0x542299[_0x4706df(0x1ca)])(_0x4706df(0x1b1),{'value':_0x4706df(0x1e1),'children':'Other'})]})]}),(0x0,_0x542299['jsxs'])('div',{'children':[(0x0,_0x542299[_0x4706df(0x1ca)])(_0x4706df(0x1d0),{'className':_0x4706df(0x1e0),'children':'Assignment'}),(0x0,_0x542299['jsxs'])(_0x4706df(0x1ef),{'value':_0x2c3059,'onChange':_0x217df0=>_0xfb65e1(_0x217df0['target'][_0x4706df(0x1e9)]),'className':_0x4706df(0x1dc),'children':[(0x0,_0x542299[_0x4706df(0x1ca)])('option',{'value':_0x4706df(0x1c3),'children':'All\x20Tickets'}),(0x0,_0x542299['jsx'])('option',{'value':'me','children':_0x4706df(0x194)}),(0x0,_0x542299['jsx'])(_0x4706df(0x1b1),{'value':_0x4706df(0x1cd),'children':_0x4706df(0x1ea)})]})]})]})}),_0x394fcf&&(0x0,_0x542299[_0x4706df(0x1ca)])('div',{'className':_0x4706df(0x1d7),'children':(0x0,_0x542299[_0x4706df(0x1ca)])('p',{'className':'text-red-800','children':_0x394fcf})}),(0x0,_0x542299['jsx'])(_0x4706df(0x1c2),{'className':'bg-white\x20rounded-lg\x20shadow-md\x20overflow-hidden','children':(0x0,_0x542299[_0x4706df(0x1ca)])(_0x4706df(0x1c2),{'className':'divide-y\x20divide-gray-200','children':0x0===_0x1c7af7[_0x4706df(0x1bb)]?(0x0,_0x542299[_0x4706df(0x1df)])('div',{'className':_0x4706df(0x1cb),'children':[(0x0,_0x542299[_0x4706df(0x1ca)])('p',{'className':_0x4706df(0x1f6),'children':'No\x20tickets\x20found'}),(0x0,_0x542299['jsx'])('p',{'className':'text-gray-400\x20text-sm\x20mt-2','children':_0x4706df(0x1ce)})]}):_0x1c7af7[_0x4706df(0x1f2)](_0x27ee45=>{const _0x3bdd96=_0x4706df;let _0x33d2ef,_0x12ed7c;return(0x0,_0x542299[_0x3bdd96(0x1ca)])(_0x3bdd96(0x1c2),{'className':'p-6\x20hover:bg-gray-50\x20cursor-pointer\x20transition-colors','onClick':()=>_0x5bdbc2[_0x3bdd96(0x203)](_0x3bdd96(0x1d4)+_0x27ee45['id']),'children':(0x0,_0x542299['jsxs'])('div',{'className':_0x3bdd96(0x1a5),'children':[(0x0,_0x542299['jsxs'])(_0x3bdd96(0x1c2),{'className':_0x3bdd96(0x1dd),'children':[(0x0,_0x542299[_0x3bdd96(0x1df)])('div',{'className':'flex\x20items-center\x20gap-3\x20mb-2','children':[(0x0,_0x542299['jsx'])('h3',{'className':'text-lg\x20font-semibold\x20text-gray-900\x20truncate','children':_0x27ee45['title']}),(0x0,_0x542299['jsx'])(_0x3bdd96(0x1e5),{'className':'px-3\x20py-1\x20text-xs\x20font-medium\x20rounded-full\x20'+({'low':_0x3bdd96(0x208),'medium':_0x3bdd96(0x19e),'high':'bg-orange-100\x20text-orange-800','urgent':'bg-red-100\x20text-red-800'}[_0x27ee45['priority']]||_0x3bdd96(0x208)),'children':_0x27ee45['priority']})]}),(0x0,_0x542299[_0x3bdd96(0x1ca)])('p',{'className':'text-gray-600\x20text-sm\x20mb-3\x20line-clamp-2','children':_0x27ee45[_0x3bdd96(0x1f4)]}),(0x0,_0x542299['jsxs'])(_0x3bdd96(0x1c2),{'className':_0x3bdd96(0x1a3),'children':[(0x0,_0x542299[_0x3bdd96(0x1df)])('span',{'children':[_0x3bdd96(0x18e),_0x27ee45['category'][_0x3bdd96(0x198)]('_')[_0x3bdd96(0x1f2)](_0x228308=>_0x228308[_0x3bdd96(0x1a4)](0x0)['toUpperCase']()+_0x228308['slice'](0x1))['join']('\x20')]}),(0x0,_0x542299[_0x3bdd96(0x1df)])(_0x3bdd96(0x1e5),{'children':['Created:\x20',(_0x33d2ef=new Date(_0x27ee45['created_at']),0x0===(_0x12ed7c=Math['floor']((new Date()['getTime']()-_0x33d2ef['getTime']())/0x5265c00))?'Today':0x1===_0x12ed7c?_0x3bdd96(0x1cf):_0x12ed7c<0x7?_0x12ed7c+'\x20days\x20ago':_0x33d2ef['toLocaleDateString']())]}),_0x27ee45[_0x3bdd96(0x1c0)]&&_0x27ee45[_0x3bdd96(0x1e8)]&&(0x0,_0x542299[_0x3bdd96(0x1df)])('span',{'children':['Assigned\x20to:\x20',_0x27ee45[_0x3bdd96(0x1e8)]['display_name']]})]})]}),(0x0,_0x542299['jsx'])('div',{'className':'ml-4\x20flex-shrink-0','children':(0x0,_0x542299['jsx'])('span',{'className':'px-4\x20py-2\x20text-sm\x20font-medium\x20rounded-full\x20'+({'open':_0x3bdd96(0x19e),'in_progress':'bg-yellow-100\x20text-yellow-800','waiting_response':'bg-purple-100\x20text-purple-800','escalated':_0x3bdd96(0x1d5),'resolved':'bg-green-100\x20text-green-800','closed':'bg-gray-100\x20text-gray-800'}[_0x27ee45[_0x3bdd96(0x1de)]]||'bg-gray-100\x20text-gray-800'),'children':_0x27ee45[_0x3bdd96(0x1de)]['split']('_')['map'](_0x2b755f=>_0x2b755f[_0x3bdd96(0x1a4)](0x0)['toUpperCase']()+_0x2b755f['slice'](0x1))['join']('\x20')})})]})},_0x27ee45['id']);})})}),(0x0,_0x542299['jsx'])('div',{'className':'mt-6\x20flex\x20justify-center','children':(0x0,_0x542299['jsxs'])('p',{'className':_0x4706df(0x1e2),'children':[_0x4706df(0x1c4),_0x1c7af7[_0x4706df(0x1bb)],_0x4706df(0x204)]})})]})}):null;}},0xc541:(_0xd12bda,_0xb5c69a,_0x5d1e1c)=>{'use strict';const _0xfbb26c=_0x46bf;var _0x4ab944=_0x5d1e1c(0xed0d);_0x5d1e1c['o'](_0x4ab944,_0xfbb26c(0x1a8))&&_0x5d1e1c['d'](_0xb5c69a,{'usePathname':function(){return _0x4ab944['usePathname'];}}),_0x5d1e1c['o'](_0x4ab944,'useRouter')&&_0x5d1e1c['d'](_0xb5c69a,{'useRouter':function(){const _0x2d3b6a=_0xfbb26c;return _0x4ab944[_0x2d3b6a(0x1c1)];}}),_0x5d1e1c['o'](_0x4ab944,_0xfbb26c(0x1ba))&&_0x5d1e1c['d'](_0xb5c69a,{'useSearchParams':function(){return _0x4ab944['useSearchParams'];}});},0x10edb:(_0x5b977b,_0x4b1459,_0x21d87f)=>{'use strict';_0x21d87f['d'](_0x4b1459,{'A':()=>_0x3abcde});var _0x44763a=_0x21d87f(0x5433),_0x3efdc5=_0x21d87f(0x3e0d);function _0x3abcde(){const _0x2b0218=_0x46bf;let [_0x1ef61d,_0x361917]=(0x0,_0x44763a[_0x2b0218(0x1d9)])(null),[_0x394afd,_0x3afeea]=(0x0,_0x44763a[_0x2b0218(0x1d9)])(!0x0),[_0x19338d,_0x43c236]=(0x0,_0x44763a[_0x2b0218(0x1d9)])(!0x1),[_0x47d146,_0xdd6c44]=(0x0,_0x44763a[_0x2b0218(0x1d9)])(null),_0x31d456=(0x0,_0x44763a[_0x2b0218(0x1b2)])(async()=>{const _0x311bae=_0x2b0218;try{let _0x3e5828=(0x0,_0x3efdc5[_0x311bae(0x1d2)])(),{data:_0x336b84,error:_0x5085e2}=await _0x3e5828['auth']['refreshSession']();if(_0x5085e2)return console[_0x311bae(0x1cc)](_0x311bae(0x1c7),_0x5085e2),!0x1;if(!_0x336b84?.[_0x311bae(0x1be)])return console[_0x311bae(0x1cc)]('[useAuth]\x20No\x20session\x20returned\x20after\x20refresh'),!0x1;return _0xdd6c44(_0x336b84['session']),_0x361917(_0x336b84['session'][_0x311bae(0x1c5)]),console['log']('[useAuth]\x20Session\x20refreshed\x20successfully'),!0x0;}catch(_0x2a093b){return console[_0x311bae(0x1cc)](_0x311bae(0x192),_0x2a093b),!0x1;}},[]);return(0x0,_0x44763a[_0x2b0218(0x1b0)])(()=>{const _0x1479a6=_0x2b0218;_0x3efdc5[_0x1479a6(0x1fe)]['getUser']()['then'](({data:{user:_0x80ffff}})=>{_0x361917(_0x80ffff),_0x3afeea(!0x1),_0x43c236(!0x0);})['catch'](()=>{_0x3afeea(!0x1),_0x43c236(!0x0);});let {data:{subscription:_0x910981}}=_0x3efdc5['api']['onAuthStateChange'](async(_0x3e8115,_0x392321)=>{const _0x45fef0=_0x1479a6;console[_0x45fef0(0x1b6)]('[useAuth]\x20Auth\x20state\x20change:',_0x3e8115),_0x45fef0(0x1a6)===_0x3e8115&&console[_0x45fef0(0x1b6)](_0x45fef0(0x201)),_0xdd6c44(_0x392321),_0x361917(_0x392321?.[_0x45fef0(0x1c5)]??null),_0x3afeea(!0x1),_0x43c236(!0x0);});return()=>_0x910981['unsubscribe']();},[]),{'user':_0x1ef61d,'session':_0x47d146,'loading':_0x394afd,'isReady':_0x19338d,'authenticated':!!_0x1ef61d,'refreshSession':_0x31d456,'signOut':()=>_0x3efdc5['api'][_0x2b0218(0x195)]()};}},0x14a5a:(_0x5a1368,_0x267d94,_0x2c4433)=>{'use strict';_0x2c4433['d'](_0x267d94,{'c0':()=>_0x28ebe0,'Gs':()=>_0x2ffb7c,'oJ':()=>_0x3e8c81,'yS':()=>_0x1b53c2,'dS':()=>_0x89e02d,'tY':()=>_0x114197});var _0x44af95=_0x2c4433(0x5433),_0x50c06f=_0x2c4433(0x3e0d);function _0x5162f0(_0x452861={}){const _0x3fdce1=_0x46bf;let {onTicketCreated:_0x533091,onTicketUpdated:_0x5297ae,onTicketDeleted:_0x3ab8ad,onMessageAdded:_0x4808a6,ticketId:_0x19d8bb}=_0x452861;(0x0,_0x44af95[_0x3fdce1(0x1b0)])(()=>{const _0x53dc6f=_0x3fdce1;let _0x1f348f=(0x0,_0x50c06f[_0x53dc6f(0x1d2)])(),_0x12b60f=_0x1f348f['channel'](_0x53dc6f(0x1d3))['on'](_0x53dc6f(0x19d),{'event':_0x53dc6f(0x1b7),'schema':'api','table':_0x53dc6f(0x1f9)},_0x3023fa=>{const _0x34dd63=_0x53dc6f;console[_0x34dd63(0x1b6)]('Ticket\x20created:',_0x3023fa),_0x533091?.(_0x3023fa);})['on']('postgres_changes',{'event':_0x53dc6f(0x1bc),'schema':'api','table':'support_tickets',..._0x19d8bb?{'filter':'id=eq.'+_0x19d8bb}:{}},_0x1481dc=>{const _0x2939a4=_0x53dc6f;console['log'](_0x2939a4(0x207),_0x1481dc),_0x5297ae?.(_0x1481dc);})['on']('postgres_changes',{'event':_0x53dc6f(0x1c6),'schema':_0x53dc6f(0x1fe),'table':_0x53dc6f(0x1f9)},_0x48c953=>{const _0x284681=_0x53dc6f;console['log'](_0x284681(0x1bf),_0x48c953),_0x3ab8ad?.(_0x48c953);})[_0x53dc6f(0x1b9)](),_0xdd2677=null;return _0x19d8bb&&_0x4808a6&&(_0xdd2677=_0x1f348f[_0x53dc6f(0x205)]('ticket_messages_changes')['on'](_0x53dc6f(0x19d),{'event':'INSERT','schema':_0x53dc6f(0x1fe),'table':_0x53dc6f(0x1f1),'filter':'ticket_id=eq.'+_0x19d8bb},_0x3c85e7=>{const _0x2f85a3=_0x53dc6f;console['log'](_0x2f85a3(0x1db),_0x3c85e7),_0x4808a6(_0x3c85e7);})[_0x53dc6f(0x1b9)]()),()=>{const _0x5e1613=_0x53dc6f;_0x1f348f[_0x5e1613(0x1e7)](_0x12b60f),_0xdd2677&&_0x1f348f['removeChannel'](_0xdd2677);};},[_0x533091,_0x5297ae,_0x3ab8ad,_0x4808a6,_0x19d8bb]);}function _0x89e02d(_0x230c4f={}){const _0x3f10e2=_0x46bf;let [_0x21a777,_0x2b8cc0]=(0x0,_0x44af95[_0x3f10e2(0x1d9)])([]),[_0x725350,_0x208735]=(0x0,_0x44af95[_0x3f10e2(0x1d9)])(!0x0),[_0x3f230a,_0x21cc20]=(0x0,_0x44af95[_0x3f10e2(0x1d9)])(null),[_0x5d8535,_0x3973e6]=(0x0,_0x44af95['useState'])(0x0),_0x356f2f=(0x0,_0x44af95[_0x3f10e2(0x1b2)])(async()=>{const _0x3d49fe=_0x3f10e2;try{_0x208735(!0x0),_0x21cc20(null);let {tickets:_0x58353e,total:_0x1ae8cb}=await _0x50c06f['api']['getTickets']({'status':_0x230c4f[_0x3d49fe(0x1de)],'category':_0x230c4f['category'],'assigned_to':_0x230c4f['assigned_to']});_0x2b8cc0(_0x58353e),_0x3973e6(_0x1ae8cb);}catch(_0x5a9041){_0x21cc20(_0x5a9041 instanceof Error?_0x5a9041['message']:_0x3d49fe(0x18c));}finally{_0x208735(!0x1);}},[_0x230c4f[_0x3f10e2(0x1de)],_0x230c4f[_0x3f10e2(0x18d)],_0x230c4f['assigned_to']]);return(0x0,_0x44af95['useEffect'])(()=>{const _0x151cb7=_0x3f10e2;if(_0x356f2f(),_0x230c4f[_0x151cb7(0x206)]&&_0x230c4f[_0x151cb7(0x1e4)]){let _0x2159ae=setInterval(_0x356f2f,_0x230c4f['refreshInterval']);return()=>clearInterval(_0x2159ae);}},[_0x356f2f,_0x230c4f['autoRefresh'],_0x230c4f['refreshInterval']]),_0x5162f0({'onTicketCreated':!0x1!==_0x230c4f[_0x3f10e2(0x202)]?()=>_0x356f2f():void 0x0,'onTicketUpdated':!0x1!==_0x230c4f['enableRealtime']?()=>_0x356f2f():void 0x0,'onTicketDeleted':!0x1!==_0x230c4f[_0x3f10e2(0x202)]?()=>_0x356f2f():void 0x0}),{'tickets':_0x21a777,'loading':_0x725350,'error':_0x3f230a,'total':_0x5d8535,'refetch':_0x356f2f};}function _0x1b53c2(_0x1eca92,_0x466307=!0x0){const _0x3a79cf=_0x46bf;let [_0x3592c0,_0x243871]=(0x0,_0x44af95['useState'])(null),[_0x1c534d,_0x2878b4]=(0x0,_0x44af95[_0x3a79cf(0x1d9)])(!0x0),[_0x4a5157,_0x2cfd77]=(0x0,_0x44af95[_0x3a79cf(0x1d9)])(null),_0x594cb0=(0x0,_0x44af95[_0x3a79cf(0x1b2)])(async()=>{const _0x532f91=_0x3a79cf;if(!_0x1eca92){_0x243871(null),_0x2878b4(!0x1);return;}try{_0x2878b4(!0x0),_0x2cfd77(null);let _0x132638=await _0x50c06f[_0x532f91(0x1fe)]['getTicket'](_0x1eca92);_0x243871(_0x132638);}catch(_0x4e0dd1){_0x2cfd77(_0x4e0dd1 instanceof Error?_0x4e0dd1['message']:_0x532f91(0x190));}finally{_0x2878b4(!0x1);}},[_0x1eca92]);return(0x0,_0x44af95['useEffect'])(()=>{_0x594cb0();},[_0x594cb0]),_0x5162f0({'ticketId':_0x1eca92||void 0x0,'onTicketUpdated':_0x466307?()=>_0x594cb0():void 0x0,'onMessageAdded':_0x466307?()=>_0x594cb0():void 0x0}),{'ticket':_0x3592c0,'loading':_0x1c534d,'error':_0x4a5157,'refetch':_0x594cb0};}function _0x2ffb7c(){let [_0xb53dae,_0x4f0a6f]=(0x0,_0x44af95['useState'])(!0x1),[_0x169b48,_0x2d3d62]=(0x0,_0x44af95['useState'])(null);return{'createTicket':async _0x5a9716=>{const _0x5c1300=_0x46bf;try{return _0x4f0a6f(!0x0),_0x2d3d62(null),(await _0x50c06f[_0x5c1300(0x1fe)]['createTicket'](_0x5a9716))[_0x5c1300(0x1ed)];}catch(_0x1bfe41){let _0x23a81c=_0x1bfe41 instanceof Error?_0x1bfe41[_0x5c1300(0x1ee)]:'Failed\x20to\x20create\x20ticket';throw _0x2d3d62(_0x23a81c),Error(_0x23a81c);}finally{_0x4f0a6f(!0x1);}},'loading':_0xb53dae,'error':_0x169b48};}function _0x114197(){let [_0x4bb77d,_0x2a282e]=(0x0,_0x44af95['useState'])(!0x1),[_0x262539,_0x26122e]=(0x0,_0x44af95['useState'])(null);return{'updateTicket':async _0x409825=>{const _0x1c55de=_0x46bf;try{return _0x2a282e(!0x0),_0x26122e(null),(await _0x50c06f['api']['updateTicket'](_0x409825))['ticket'];}catch(_0x3bb03f){let _0xb92589=_0x3bb03f instanceof Error?_0x3bb03f[_0x1c55de(0x1ee)]:_0x1c55de(0x1b8);throw _0x26122e(_0xb92589),Error(_0xb92589);}finally{_0x2a282e(!0x1);}},'loading':_0x4bb77d,'error':_0x262539};}function _0x3e8c81(){let [_0x498287,_0x9d5690]=(0x0,_0x44af95['useState'])(!0x1),[_0x848704,_0x1423b9]=(0x0,_0x44af95['useState'])(null);return{'escalateTicket':async _0x518df8=>{const _0x14a571=_0x46bf;try{return _0x9d5690(!0x0),_0x1423b9(null),(await _0x50c06f['api'][_0x14a571(0x1af)](_0x518df8))[_0x14a571(0x1ed)];}catch(_0x38bdb7){let _0x548272=_0x38bdb7 instanceof Error?_0x38bdb7[_0x14a571(0x1ee)]:_0x14a571(0x191);throw _0x1423b9(_0x548272),Error(_0x548272);}finally{_0x9d5690(!0x1);}},'loading':_0x498287,'error':_0x848704};}function _0x28ebe0(){const _0x4ec72c=_0x46bf;let [_0x46bdc4,_0x164f55]=(0x0,_0x44af95[_0x4ec72c(0x1d9)])(!0x1),[_0x5dbc5f,_0x4c0e81]=(0x0,_0x44af95[_0x4ec72c(0x1d9)])(null);return{'addMessage':async _0x314a40=>{const _0x56ddb6=_0x4ec72c;try{return _0x164f55(!0x0),_0x4c0e81(null),(await _0x50c06f[_0x56ddb6(0x1fe)]['addTicketMessage'](_0x314a40))[_0x56ddb6(0x1ee)];}catch(_0x588f0b){let _0x1988ad=_0x588f0b instanceof Error?_0x588f0b[_0x56ddb6(0x1ee)]:_0x56ddb6(0x1f3);throw _0x4c0e81(_0x1988ad),Error(_0x1988ad);}finally{_0x164f55(!0x1);}},'loading':_0x46bdc4,'error':_0x5dbc5f};}},0x1608e:(_0x41d134,_0x17afba,_0x87239a)=>{const _0x1db397=_0x46bf;Promise['resolve']()['then'](_0x87239a[_0x1db397(0x1e3)](_0x87239a,0x4db1));}},_0x1592aa=>{_0x1592aa['O'](0x0,[0x2603,0x259f,0x16fd,0x1b1b,0x492,0x1cbe],()=>_0x1592aa(_0x1592aa['s']=0x1608e)),_N_E=_0x1592aa['O']();}]));