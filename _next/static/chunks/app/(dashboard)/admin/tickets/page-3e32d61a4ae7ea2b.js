const _0x31726a=_0x1f6a;function _0x1f6a(_0x4ab449,_0x3729e5){_0x4ab449=_0x4ab449-0x11d;const _0x5c5de9=_0x5c5d();let _0x1f6a6c=_0x5c5de9[_0x4ab449];return _0x1f6a6c;}function _0x5c5d(){const _0x5cf1ea=['707930QPptsa','priority','Category:\x20','set','useState','bg-red-100\x20text-red-800','useSearchParams','Message\x20added:','min-h-screen\x20bg-gray-50\x20py-8','Assignment','divide-y\x20divide-gray-200','96tWWSLq','text-gray-500\x20text-lg','useEffect','div','DELETE','unsubscribe','block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-2','Ticket\x20updated:','2MGCrgi','Technical','Ticket\x20created:','user_role','removeChannel','target','Yesterday','Status','UPDATE','enableRealtime','split','jsxs','escalated','escalateTicket','198ZiiMDl','max-w-7xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','Try\x20adjusting\x20your\x20filters','p-6\x20hover:bg-gray-50\x20cursor-pointer\x20transition-colors','slice','getTickets','other','268782zbtSqp','unassigned','span','map','1322095jcBogM','message','getProfile','57NlgWcC','Closed','push','bg-white\x20rounded-lg\x20shadow-md\x20p-6\x20mb-6','select','addTicketMessage','w-full\x20px-3\x20py-2\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent','admin','then','text-3xl\x20font-bold\x20text-gray-900','resolve','flex\x20items-center\x20justify-center\x20min-h-screen','all','flex\x20flex-wrap\x20gap-4\x20text-xs\x20text-gray-500','Assigned\x20to:\x20','bg-white\x20rounded-lg\x20shadow-md\x20overflow-hidden','\x20tickets','in_progress','Feature\x20Request','waiting_response','postgres_changes','text-sm\x20text-gray-500','useRouter','1543520EedlPA','toUpperCase','usePathname','mt-4\x20text-gray-600','getTime','value','bg-green-100\x20text-green-800','flex\x20items-center\x20gap-3\x20mb-2','In\x20Progress','grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4','Failed\x20to\x20add\x20message','assigned_to','\x20days\x20ago','506qLLRyO','61512RZuECf','getUser','option','support_tickets','mt-6\x20flex\x20justify-center','manager','get','77XImFjC','Showing\x20','getTicket','session','bg-yellow-100\x20text-yellow-800','ticket','bg-gray-100\x20text-gray-800','category','label','catch','charAt','error','[useAuth]\x20Refresh\x20error:','ticket_messages','Account','autoRefresh','webpackChunk_N_E','INSERT','title','display_name','feature_request','subscribe','All\x20Categories','signOut','log','open','description','channel','[useAuth]\x20Auth\x20state\x20change:','flex-1\x20min-w-0','text-gray-400\x20text-sm\x20mt-2','status','Open','useCallback','api','/admin/ticket?id=','jsx','47648yRECTg','All\x20Statuses'];_0x5c5d=function(){return _0x5cf1ea;};return _0x5c5d();}(function(_0x4d1e57,_0x5ab097){const _0x4c4585=_0x1f6a,_0x23615b=_0x4d1e57();while(!![]){try{const _0x27bd16=-parseInt(_0x4c4585(0x155))/0x1*(parseInt(_0x4c4585(0x16a))/0x2)+-parseInt(_0x4c4585(0x171))/0x3*(parseInt(_0x4c4585(0x140))/0x4)+-parseInt(_0x4c4585(0x16e))/0x5+-parseInt(_0x4c4585(0x196))/0x6*(parseInt(_0x4c4585(0x19d))/0x7)+parseInt(_0x4c4585(0x188))/0x8+-parseInt(_0x4c4585(0x163))/0x9*(-parseInt(_0x4c4585(0x142))/0xa)+-parseInt(_0x4c4585(0x195))/0xb*(-parseInt(_0x4c4585(0x14d))/0xc);if(_0x27bd16===_0x5ab097)break;else _0x23615b['push'](_0x23615b['shift']());}catch(_0x4c0367){_0x23615b['push'](_0x23615b['shift']());}}}(_0x5c5d,0xd6775),(self['webpackChunk_N_E']=self[_0x31726a(0x12b)]||[])['push']([[0x2f4],{0x4db1:(_0x5b34bc,_0x1a9a30,_0x4e55af)=>{'use strict';_0x4e55af['r'](_0x1a9a30),_0x4e55af['d'](_0x1a9a30,{'default':()=>_0x28b3d8});var _0x4c5cdb=_0x4e55af(0xd773),_0x3425c9=_0x4e55af(0x5433),_0x2ccae7=_0x4e55af(0x10edb),_0x50afb0=_0x4e55af(0xc541),_0x732ff4=_0x4e55af(0x14a5a);function _0x28b3d8(){const _0x22bcaf=_0x1f6a;let {user:_0x43b964,loading:_0x5aeda5}=(0x0,_0x2ccae7['A'])(),_0x2203dd=(0x0,_0x50afb0[_0x22bcaf(0x187)])(),_0x3867ef=(0x0,_0x50afb0['useSearchParams'])(),_0x3606c6=_0x3867ef['get']('status')||void 0x0,_0x20332b=_0x3867ef[_0x22bcaf(0x19c)]('category')||void 0x0,_0x21f26f=_0x3867ef[_0x22bcaf(0x19c)]('assigned_to')||void 0x0,{tickets:_0xa4276b,loading:_0x4416b6,error:_0x4af56f,refetch:_0x36d8ad}=(0x0,_0x732ff4['dS'])({'status':_0x3606c6,'category':_0x20332b,'assigned_to':_0x21f26f,'autoRefresh':!0x0,'refreshInterval':0x7530}),[_0x3b5fd7,_0x3e851e]=(0x0,_0x3425c9['useState'])(_0x3606c6||'all'),[_0x41aec8,_0x45d439]=(0x0,_0x3425c9['useState'])(_0x20332b||'all'),[_0x574929,_0x126cf4]=(0x0,_0x3425c9[_0x22bcaf(0x146)])(_0x21f26f||'all'),[_0x451c19,_0x674057]=(0x0,_0x3425c9['useState'])(null);return((0x0,_0x3425c9['useEffect'])(()=>{const _0x818a70=_0x22bcaf;_0x5aeda5||_0x43b964?_0x43b964&&Promise[_0x818a70(0x17b)]()['then'](_0x4e55af['bind'](_0x4e55af,0x3e0d))['then'](({api:_0x47ab2a})=>{const _0x4767cc=_0x818a70;_0x47ab2a[_0x4767cc(0x170)]()['then'](_0x2465c1=>{const _0x3fc441=_0x4767cc;_0x674057(_0x2465c1),_0x2465c1&&![_0x3fc441(0x178),_0x3fc441(0x19b),'support']['includes'](_0x2465c1[_0x3fc441(0x158)]||'')&&_0x2203dd['push']('/dashboard');})[_0x4767cc(0x124)](()=>{_0x2203dd['push']('/dashboard');});}):_0x2203dd[_0x818a70(0x173)]('/auth/login');},[_0x43b964,_0x5aeda5,_0x2203dd]),(0x0,_0x3425c9[_0x22bcaf(0x14f)])(()=>{const _0x7bf8aa=_0x22bcaf;let _0x4f43ba=new URLSearchParams();'all'!==_0x3b5fd7&&_0x4f43ba[_0x7bf8aa(0x145)]('status',_0x3b5fd7),'all'!==_0x41aec8&&_0x4f43ba[_0x7bf8aa(0x145)]('category',_0x41aec8),'all'!==_0x574929&&_0x4f43ba['set'](_0x7bf8aa(0x193),_0x574929);let _0x46c2ac=_0x4f43ba['toString']()?'?'+_0x4f43ba:'/admin/tickets';_0x2203dd[_0x7bf8aa(0x173)](_0x46c2ac);},[_0x3b5fd7,_0x41aec8,_0x574929,_0x2203dd]),_0x5aeda5||_0x4416b6)?(0x0,_0x4c5cdb[_0x22bcaf(0x13f)])(_0x22bcaf(0x150),{'className':_0x22bcaf(0x17c),'children':(0x0,_0x4c5cdb['jsxs'])(_0x22bcaf(0x150),{'className':'text-center','children':[(0x0,_0x4c5cdb[_0x22bcaf(0x13f)])(_0x22bcaf(0x150),{'className':'animate-spin\x20rounded-full\x20h-12\x20w-12\x20border-b-2\x20border-emerald-600\x20mx-auto'}),(0x0,_0x4c5cdb['jsx'])('p',{'className':_0x22bcaf(0x18b),'children':'Loading\x20tickets...'})]})}):_0x451c19&&['admin',_0x22bcaf(0x19b),'support']['includes'](_0x451c19['user_role']||'')?(0x0,_0x4c5cdb['jsx'])(_0x22bcaf(0x150),{'className':_0x22bcaf(0x14a),'children':(0x0,_0x4c5cdb[_0x22bcaf(0x160)])(_0x22bcaf(0x150),{'className':_0x22bcaf(0x164),'children':[(0x0,_0x4c5cdb['jsxs'])('div',{'className':'mb-8','children':[(0x0,_0x4c5cdb['jsx'])('h1',{'className':_0x22bcaf(0x17a),'children':'Support\x20Tickets'}),(0x0,_0x4c5cdb['jsx'])('p',{'className':'mt-2\x20text-gray-600','children':'Manage\x20and\x20respond\x20to\x20user\x20support\x20requests'})]}),(0x0,_0x4c5cdb['jsx'])(_0x22bcaf(0x150),{'className':_0x22bcaf(0x174),'children':(0x0,_0x4c5cdb[_0x22bcaf(0x160)])(_0x22bcaf(0x150),{'className':_0x22bcaf(0x191),'children':[(0x0,_0x4c5cdb['jsxs'])(_0x22bcaf(0x150),{'children':[(0x0,_0x4c5cdb['jsx'])(_0x22bcaf(0x123),{'className':'block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-2','children':_0x22bcaf(0x15c)}),(0x0,_0x4c5cdb['jsxs'])(_0x22bcaf(0x175),{'value':_0x3b5fd7,'onChange':_0x3b9de7=>_0x3e851e(_0x3b9de7[_0x22bcaf(0x15a)]['value']),'className':_0x22bcaf(0x177),'children':[(0x0,_0x4c5cdb['jsx'])('option',{'value':'all','children':_0x22bcaf(0x141)}),(0x0,_0x4c5cdb[_0x22bcaf(0x13f)])('option',{'value':_0x22bcaf(0x134),'children':_0x22bcaf(0x13b)}),(0x0,_0x4c5cdb[_0x22bcaf(0x13f)])(_0x22bcaf(0x198),{'value':_0x22bcaf(0x182),'children':_0x22bcaf(0x190)}),(0x0,_0x4c5cdb[_0x22bcaf(0x13f)])('option',{'value':_0x22bcaf(0x184),'children':'Waiting\x20Response'}),(0x0,_0x4c5cdb[_0x22bcaf(0x13f)])(_0x22bcaf(0x198),{'value':_0x22bcaf(0x161),'children':'Escalated'}),(0x0,_0x4c5cdb[_0x22bcaf(0x13f)])(_0x22bcaf(0x198),{'value':'resolved','children':'Resolved'}),(0x0,_0x4c5cdb[_0x22bcaf(0x13f)])(_0x22bcaf(0x198),{'value':'closed','children':_0x22bcaf(0x172)})]})]}),(0x0,_0x4c5cdb['jsxs'])(_0x22bcaf(0x150),{'children':[(0x0,_0x4c5cdb[_0x22bcaf(0x13f)])('label',{'className':'block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-2','children':'Category'}),(0x0,_0x4c5cdb['jsxs'])(_0x22bcaf(0x175),{'value':_0x41aec8,'onChange':_0x36619e=>_0x45d439(_0x36619e[_0x22bcaf(0x15a)][_0x22bcaf(0x18d)]),'className':_0x22bcaf(0x177),'children':[(0x0,_0x4c5cdb[_0x22bcaf(0x13f)])(_0x22bcaf(0x198),{'value':_0x22bcaf(0x17d),'children':_0x22bcaf(0x131)}),(0x0,_0x4c5cdb[_0x22bcaf(0x13f)])('option',{'value':'subscription','children':'Subscription'}),(0x0,_0x4c5cdb[_0x22bcaf(0x13f)])(_0x22bcaf(0x198),{'value':'technical','children':_0x22bcaf(0x156)}),(0x0,_0x4c5cdb[_0x22bcaf(0x13f)])('option',{'value':'account','children':_0x22bcaf(0x129)}),(0x0,_0x4c5cdb[_0x22bcaf(0x13f)])(_0x22bcaf(0x198),{'value':'billing','children':'Billing'}),(0x0,_0x4c5cdb[_0x22bcaf(0x13f)])(_0x22bcaf(0x198),{'value':_0x22bcaf(0x12f),'children':_0x22bcaf(0x183)}),(0x0,_0x4c5cdb[_0x22bcaf(0x13f)])(_0x22bcaf(0x198),{'value':'bug_report','children':'Bug\x20Report'}),(0x0,_0x4c5cdb[_0x22bcaf(0x13f)])(_0x22bcaf(0x198),{'value':_0x22bcaf(0x169),'children':'Other'})]})]}),(0x0,_0x4c5cdb['jsxs'])(_0x22bcaf(0x150),{'children':[(0x0,_0x4c5cdb[_0x22bcaf(0x13f)])('label',{'className':_0x22bcaf(0x153),'children':_0x22bcaf(0x14b)}),(0x0,_0x4c5cdb['jsxs'])('select',{'value':_0x574929,'onChange':_0x163935=>_0x126cf4(_0x163935[_0x22bcaf(0x15a)]['value']),'className':'w-full\x20px-3\x20py-2\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent','children':[(0x0,_0x4c5cdb['jsx'])('option',{'value':_0x22bcaf(0x17d),'children':'All\x20Tickets'}),(0x0,_0x4c5cdb['jsx'])('option',{'value':'me','children':'Assigned\x20to\x20Me'}),(0x0,_0x4c5cdb[_0x22bcaf(0x13f)])('option',{'value':_0x22bcaf(0x16b),'children':'Unassigned'})]})]})]})}),_0x4af56f&&(0x0,_0x4c5cdb['jsx'])(_0x22bcaf(0x150),{'className':'bg-red-50\x20border\x20border-red-200\x20rounded-lg\x20p-4\x20mb-6','children':(0x0,_0x4c5cdb[_0x22bcaf(0x13f)])('p',{'className':'text-red-800','children':_0x4af56f})}),(0x0,_0x4c5cdb['jsx'])('div',{'className':_0x22bcaf(0x180),'children':(0x0,_0x4c5cdb['jsx'])(_0x22bcaf(0x150),{'className':_0x22bcaf(0x14c),'children':0x0===_0xa4276b['length']?(0x0,_0x4c5cdb['jsxs'])('div',{'className':'p-12\x20text-center','children':[(0x0,_0x4c5cdb[_0x22bcaf(0x13f)])('p',{'className':_0x22bcaf(0x14e),'children':'No\x20tickets\x20found'}),(0x0,_0x4c5cdb[_0x22bcaf(0x13f)])('p',{'className':_0x22bcaf(0x139),'children':_0x22bcaf(0x165)})]}):_0xa4276b['map'](_0x145dc1=>{const _0x3b2380=_0x22bcaf;let _0x43383d,_0x5414b3;return(0x0,_0x4c5cdb[_0x3b2380(0x13f)])('div',{'className':_0x3b2380(0x166),'onClick':()=>_0x2203dd['push'](_0x3b2380(0x13e)+_0x145dc1['id']),'children':(0x0,_0x4c5cdb[_0x3b2380(0x160)])(_0x3b2380(0x150),{'className':'flex\x20items-start\x20justify-between','children':[(0x0,_0x4c5cdb['jsxs'])('div',{'className':_0x3b2380(0x138),'children':[(0x0,_0x4c5cdb[_0x3b2380(0x160)])('div',{'className':_0x3b2380(0x18f),'children':[(0x0,_0x4c5cdb['jsx'])('h3',{'className':'text-lg\x20font-semibold\x20text-gray-900\x20truncate','children':_0x145dc1[_0x3b2380(0x12d)]}),(0x0,_0x4c5cdb['jsx'])('span',{'className':'px-3\x20py-1\x20text-xs\x20font-medium\x20rounded-full\x20'+({'low':'bg-gray-100\x20text-gray-800','medium':'bg-blue-100\x20text-blue-800','high':'bg-orange-100\x20text-orange-800','urgent':_0x3b2380(0x147)}[_0x145dc1['priority']]||'bg-gray-100\x20text-gray-800'),'children':_0x145dc1[_0x3b2380(0x143)]})]}),(0x0,_0x4c5cdb[_0x3b2380(0x13f)])('p',{'className':'text-gray-600\x20text-sm\x20mb-3\x20line-clamp-2','children':_0x145dc1[_0x3b2380(0x135)]}),(0x0,_0x4c5cdb['jsxs'])('div',{'className':_0x3b2380(0x17e),'children':[(0x0,_0x4c5cdb[_0x3b2380(0x160)])('span',{'children':[_0x3b2380(0x144),_0x145dc1['category']['split']('_')['map'](_0x193f3d=>_0x193f3d['charAt'](0x0)[_0x3b2380(0x189)]()+_0x193f3d[_0x3b2380(0x167)](0x1))['join']('\x20')]}),(0x0,_0x4c5cdb['jsxs'])(_0x3b2380(0x16c),{'children':['Created:\x20',(_0x43383d=new Date(_0x145dc1['created_at']),0x0===(_0x5414b3=Math['floor']((new Date()['getTime']()-_0x43383d[_0x3b2380(0x18c)]())/0x5265c00))?'Today':0x1===_0x5414b3?_0x3b2380(0x15b):_0x5414b3<0x7?_0x5414b3+_0x3b2380(0x194):_0x43383d['toLocaleDateString']())]}),_0x145dc1['assigned_to']&&_0x145dc1['assignee']&&(0x0,_0x4c5cdb['jsxs'])('span',{'children':[_0x3b2380(0x17f),_0x145dc1['assignee'][_0x3b2380(0x12e)]]})]})]}),(0x0,_0x4c5cdb['jsx'])(_0x3b2380(0x150),{'className':'ml-4\x20flex-shrink-0','children':(0x0,_0x4c5cdb['jsx'])('span',{'className':'px-4\x20py-2\x20text-sm\x20font-medium\x20rounded-full\x20'+({'open':'bg-blue-100\x20text-blue-800','in_progress':_0x3b2380(0x11f),'waiting_response':'bg-purple-100\x20text-purple-800','escalated':_0x3b2380(0x147),'resolved':_0x3b2380(0x18e),'closed':_0x3b2380(0x121)}[_0x145dc1[_0x3b2380(0x13a)]]||_0x3b2380(0x121)),'children':_0x145dc1['status'][_0x3b2380(0x15f)]('_')[_0x3b2380(0x16d)](_0x3a43ac=>_0x3a43ac[_0x3b2380(0x125)](0x0)[_0x3b2380(0x189)]()+_0x3a43ac[_0x3b2380(0x167)](0x1))['join']('\x20')})})]})},_0x145dc1['id']);})})}),(0x0,_0x4c5cdb[_0x22bcaf(0x13f)])('div',{'className':_0x22bcaf(0x19a),'children':(0x0,_0x4c5cdb[_0x22bcaf(0x160)])('p',{'className':_0x22bcaf(0x186),'children':[_0x22bcaf(0x19e),_0xa4276b['length'],_0x22bcaf(0x181)]})})]})}):null;}},0xc541:(_0x13a187,_0x31ed91,_0x47cdd9)=>{'use strict';const _0x52bf3c=_0x31726a;var _0x5e2f97=_0x47cdd9(0xed0d);_0x47cdd9['o'](_0x5e2f97,_0x52bf3c(0x18a))&&_0x47cdd9['d'](_0x31ed91,{'usePathname':function(){return _0x5e2f97['usePathname'];}}),_0x47cdd9['o'](_0x5e2f97,'useRouter')&&_0x47cdd9['d'](_0x31ed91,{'useRouter':function(){return _0x5e2f97['useRouter'];}}),_0x47cdd9['o'](_0x5e2f97,'useSearchParams')&&_0x47cdd9['d'](_0x31ed91,{'useSearchParams':function(){const _0x4a2d46=_0x52bf3c;return _0x5e2f97[_0x4a2d46(0x148)];}});},0x10edb:(_0x14eec2,_0x4464d4,_0x5a5d3d)=>{'use strict';_0x5a5d3d['d'](_0x4464d4,{'A':()=>_0x457706});var _0xefdd77=_0x5a5d3d(0x5433),_0x596327=_0x5a5d3d(0x3e0d);function _0x457706(){const _0x30bba1=_0x1f6a;let [_0x549821,_0x2ae158]=(0x0,_0xefdd77[_0x30bba1(0x146)])(null),[_0x40da13,_0xcd619b]=(0x0,_0xefdd77['useState'])(!0x0),[_0x1da583,_0x4c77d2]=(0x0,_0xefdd77['useState'])(!0x1),[_0x525753,_0x1b3dcb]=(0x0,_0xefdd77['useState'])(null),_0x144b2c=(0x0,_0xefdd77['useCallback'])(async()=>{const _0x4f1f9b=_0x30bba1;try{let _0xb2b0ad=(0x0,_0x596327['getSupabase'])(),{data:_0x2d431f,error:_0x106769}=await _0xb2b0ad['auth']['refreshSession']();if(_0x106769)return console['error'](_0x4f1f9b(0x127),_0x106769),!0x1;if(!_0x2d431f?.[_0x4f1f9b(0x11e)])return console['error']('[useAuth]\x20No\x20session\x20returned\x20after\x20refresh'),!0x1;return _0x1b3dcb(_0x2d431f[_0x4f1f9b(0x11e)]),_0x2ae158(_0x2d431f['session']['user']),console['log']('[useAuth]\x20Session\x20refreshed\x20successfully'),!0x0;}catch(_0x34495a){return console[_0x4f1f9b(0x126)]('[useAuth]\x20Failed\x20to\x20refresh:',_0x34495a),!0x1;}},[]);return(0x0,_0xefdd77[_0x30bba1(0x14f)])(()=>{const _0x15b843=_0x30bba1;_0x596327['api'][_0x15b843(0x197)]()['then'](({data:{user:_0x5c77e8}})=>{_0x2ae158(_0x5c77e8),_0xcd619b(!0x1),_0x4c77d2(!0x0);})['catch'](()=>{_0xcd619b(!0x1),_0x4c77d2(!0x0);});let {data:{subscription:_0x55e810}}=_0x596327['api']['onAuthStateChange'](async(_0x57892c,_0x776ad3)=>{const _0x4cf86d=_0x15b843;console['log'](_0x4cf86d(0x137),_0x57892c),'TOKEN_REFRESHED'===_0x57892c&&console['log']('[useAuth]\x20Token\x20refreshed\x20successfully'),_0x1b3dcb(_0x776ad3),_0x2ae158(_0x776ad3?.['user']??null),_0xcd619b(!0x1),_0x4c77d2(!0x0);});return()=>_0x55e810[_0x15b843(0x152)]();},[]),{'user':_0x549821,'session':_0x525753,'loading':_0x40da13,'isReady':_0x1da583,'authenticated':!!_0x549821,'refreshSession':_0x144b2c,'signOut':()=>_0x596327[_0x30bba1(0x13d)][_0x30bba1(0x132)]()};}},0x14a5a:(_0x3c4c65,_0x409fb9,_0x272dd3)=>{'use strict';_0x272dd3['d'](_0x409fb9,{'c0':()=>_0xbe9937,'Gs':()=>_0x13c944,'oJ':()=>_0x4ed03c,'yS':()=>_0x4c2c90,'dS':()=>_0x7164cb,'tY':()=>_0x7e21c5});var _0x145615=_0x272dd3(0x5433),_0x32762e=_0x272dd3(0x3e0d);function _0x1f469b(_0x2f3b6b={}){const _0x2b5dac=_0x1f6a;let {onTicketCreated:_0x5ddc13,onTicketUpdated:_0x3443c9,onTicketDeleted:_0x37742c,onMessageAdded:_0x586052,ticketId:_0x2afd26}=_0x2f3b6b;(0x0,_0x145615[_0x2b5dac(0x14f)])(()=>{const _0xd2ff79=_0x2b5dac;let _0x4ceab6=(0x0,_0x32762e['getSupabase'])(),_0x5e3c19=_0x4ceab6['channel']('support_tickets_changes')['on']('postgres_changes',{'event':_0xd2ff79(0x12c),'schema':_0xd2ff79(0x13d),'table':_0xd2ff79(0x199)},_0x506110=>{const _0x485a43=_0xd2ff79;console['log'](_0x485a43(0x157),_0x506110),_0x5ddc13?.(_0x506110);})['on']('postgres_changes',{'event':_0xd2ff79(0x15d),'schema':_0xd2ff79(0x13d),'table':_0xd2ff79(0x199),..._0x2afd26?{'filter':'id=eq.'+_0x2afd26}:{}},_0x4e10f2=>{const _0x55f06c=_0xd2ff79;console['log'](_0x55f06c(0x154),_0x4e10f2),_0x3443c9?.(_0x4e10f2);})['on']('postgres_changes',{'event':_0xd2ff79(0x151),'schema':'api','table':_0xd2ff79(0x199)},_0x17f205=>{const _0x81a90=_0xd2ff79;console[_0x81a90(0x133)]('Ticket\x20deleted:',_0x17f205),_0x37742c?.(_0x17f205);})['subscribe'](),_0x207b85=null;return _0x2afd26&&_0x586052&&(_0x207b85=_0x4ceab6[_0xd2ff79(0x136)]('ticket_messages_changes')['on'](_0xd2ff79(0x185),{'event':'INSERT','schema':'api','table':_0xd2ff79(0x128),'filter':'ticket_id=eq.'+_0x2afd26},_0x3c0434=>{const _0x4baee7=_0xd2ff79;console['log'](_0x4baee7(0x149),_0x3c0434),_0x586052(_0x3c0434);})[_0xd2ff79(0x130)]()),()=>{const _0x2877be=_0xd2ff79;_0x4ceab6[_0x2877be(0x159)](_0x5e3c19),_0x207b85&&_0x4ceab6[_0x2877be(0x159)](_0x207b85);};},[_0x5ddc13,_0x3443c9,_0x37742c,_0x586052,_0x2afd26]);}function _0x7164cb(_0x55a173={}){const _0x389ec7=_0x1f6a;let [_0xba47ad,_0x5bf831]=(0x0,_0x145615['useState'])([]),[_0x2eef88,_0x334a79]=(0x0,_0x145615['useState'])(!0x0),[_0x1a6063,_0x10f5b5]=(0x0,_0x145615[_0x389ec7(0x146)])(null),[_0x334664,_0x3edc80]=(0x0,_0x145615[_0x389ec7(0x146)])(0x0),_0x2a7a42=(0x0,_0x145615['useCallback'])(async()=>{const _0x45249a=_0x389ec7;try{_0x334a79(!0x0),_0x10f5b5(null);let {tickets:_0x408abf,total:_0x581d04}=await _0x32762e['api'][_0x45249a(0x168)]({'status':_0x55a173['status'],'category':_0x55a173['category'],'assigned_to':_0x55a173[_0x45249a(0x193)]});_0x5bf831(_0x408abf),_0x3edc80(_0x581d04);}catch(_0x582f46){_0x10f5b5(_0x582f46 instanceof Error?_0x582f46[_0x45249a(0x16f)]:'Failed\x20to\x20fetch\x20tickets');}finally{_0x334a79(!0x1);}},[_0x55a173[_0x389ec7(0x13a)],_0x55a173[_0x389ec7(0x122)],_0x55a173['assigned_to']]);return(0x0,_0x145615['useEffect'])(()=>{const _0x5e826b=_0x389ec7;if(_0x2a7a42(),_0x55a173[_0x5e826b(0x12a)]&&_0x55a173['refreshInterval']){let _0x26ecc5=setInterval(_0x2a7a42,_0x55a173['refreshInterval']);return()=>clearInterval(_0x26ecc5);}},[_0x2a7a42,_0x55a173['autoRefresh'],_0x55a173['refreshInterval']]),_0x1f469b({'onTicketCreated':!0x1!==_0x55a173[_0x389ec7(0x15e)]?()=>_0x2a7a42():void 0x0,'onTicketUpdated':!0x1!==_0x55a173[_0x389ec7(0x15e)]?()=>_0x2a7a42():void 0x0,'onTicketDeleted':!0x1!==_0x55a173['enableRealtime']?()=>_0x2a7a42():void 0x0}),{'tickets':_0xba47ad,'loading':_0x2eef88,'error':_0x1a6063,'total':_0x334664,'refetch':_0x2a7a42};}function _0x4c2c90(_0x4f28bc,_0x4c6f3e=!0x0){const _0x37d738=_0x1f6a;let [_0x335ef9,_0x49e4c6]=(0x0,_0x145615[_0x37d738(0x146)])(null),[_0x1242ce,_0xa2b0e0]=(0x0,_0x145615['useState'])(!0x0),[_0x3dee98,_0x3d75d4]=(0x0,_0x145615['useState'])(null),_0x46e336=(0x0,_0x145615[_0x37d738(0x13c)])(async()=>{const _0x2e846f=_0x37d738;if(!_0x4f28bc){_0x49e4c6(null),_0xa2b0e0(!0x1);return;}try{_0xa2b0e0(!0x0),_0x3d75d4(null);let _0x3e3fe=await _0x32762e[_0x2e846f(0x13d)][_0x2e846f(0x11d)](_0x4f28bc);_0x49e4c6(_0x3e3fe);}catch(_0x206347){_0x3d75d4(_0x206347 instanceof Error?_0x206347['message']:'Failed\x20to\x20fetch\x20ticket');}finally{_0xa2b0e0(!0x1);}},[_0x4f28bc]);return(0x0,_0x145615[_0x37d738(0x14f)])(()=>{_0x46e336();},[_0x46e336]),_0x1f469b({'ticketId':_0x4f28bc||void 0x0,'onTicketUpdated':_0x4c6f3e?()=>_0x46e336():void 0x0,'onMessageAdded':_0x4c6f3e?()=>_0x46e336():void 0x0}),{'ticket':_0x335ef9,'loading':_0x1242ce,'error':_0x3dee98,'refetch':_0x46e336};}function _0x13c944(){const _0x31c6f9=_0x1f6a;let [_0x4d302a,_0x40f759]=(0x0,_0x145615[_0x31c6f9(0x146)])(!0x1),[_0x1fe5b9,_0xe6b12c]=(0x0,_0x145615[_0x31c6f9(0x146)])(null);return{'createTicket':async _0x49cd4c=>{const _0x2d0f2d=_0x31c6f9;try{return _0x40f759(!0x0),_0xe6b12c(null),(await _0x32762e[_0x2d0f2d(0x13d)]['createTicket'](_0x49cd4c))[_0x2d0f2d(0x120)];}catch(_0x4391f2){let _0x603e79=_0x4391f2 instanceof Error?_0x4391f2[_0x2d0f2d(0x16f)]:'Failed\x20to\x20create\x20ticket';throw _0xe6b12c(_0x603e79),Error(_0x603e79);}finally{_0x40f759(!0x1);}},'loading':_0x4d302a,'error':_0x1fe5b9};}function _0x7e21c5(){const _0x8733e5=_0x1f6a;let [_0x267bfd,_0xcba11]=(0x0,_0x145615['useState'])(!0x1),[_0x58171a,_0x12a23d]=(0x0,_0x145615[_0x8733e5(0x146)])(null);return{'updateTicket':async _0xd10252=>{const _0x52f6b8=_0x8733e5;try{return _0xcba11(!0x0),_0x12a23d(null),(await _0x32762e[_0x52f6b8(0x13d)]['updateTicket'](_0xd10252))['ticket'];}catch(_0x27b3fa){let _0x1197db=_0x27b3fa instanceof Error?_0x27b3fa['message']:'Failed\x20to\x20update\x20ticket';throw _0x12a23d(_0x1197db),Error(_0x1197db);}finally{_0xcba11(!0x1);}},'loading':_0x267bfd,'error':_0x58171a};}function _0x4ed03c(){const _0x102d2a=_0x1f6a;let [_0x5c8a42,_0x13a461]=(0x0,_0x145615[_0x102d2a(0x146)])(!0x1),[_0x5b3665,_0x238e7c]=(0x0,_0x145615[_0x102d2a(0x146)])(null);return{'escalateTicket':async _0x454b55=>{const _0x4910ca=_0x102d2a;try{return _0x13a461(!0x0),_0x238e7c(null),(await _0x32762e[_0x4910ca(0x13d)][_0x4910ca(0x162)](_0x454b55))[_0x4910ca(0x120)];}catch(_0x68a87a){let _0xab9fa4=_0x68a87a instanceof Error?_0x68a87a[_0x4910ca(0x16f)]:'Failed\x20to\x20escalate\x20ticket';throw _0x238e7c(_0xab9fa4),Error(_0xab9fa4);}finally{_0x13a461(!0x1);}},'loading':_0x5c8a42,'error':_0x5b3665};}function _0xbe9937(){const _0x2ef4dd=_0x1f6a;let [_0x2e729b,_0xe7bfea]=(0x0,_0x145615[_0x2ef4dd(0x146)])(!0x1),[_0xcafbea,_0x2489b2]=(0x0,_0x145615[_0x2ef4dd(0x146)])(null);return{'addMessage':async _0x2d53be=>{const _0x25bd82=_0x2ef4dd;try{return _0xe7bfea(!0x0),_0x2489b2(null),(await _0x32762e[_0x25bd82(0x13d)][_0x25bd82(0x176)](_0x2d53be))['message'];}catch(_0x5dacfa){let _0x371387=_0x5dacfa instanceof Error?_0x5dacfa['message']:_0x25bd82(0x192);throw _0x2489b2(_0x371387),Error(_0x371387);}finally{_0xe7bfea(!0x1);}},'loading':_0x2e729b,'error':_0xcafbea};}},0x1608e:(_0x5cff8c,_0x1a0f49,_0x43ed31)=>{const _0x441f35=_0x31726a;Promise[_0x441f35(0x17b)]()[_0x441f35(0x179)](_0x43ed31['bind'](_0x43ed31,0x4db1));}},_0x56a046=>{_0x56a046['O'](0x0,[0x2603,0x259f,0x16fd,0x1b1b,0x492,0x1cbe],()=>_0x56a046(_0x56a046['s']=0x1608e)),_N_E=_0x56a046['O']();}]));