function _0x3dd0(_0x2de779,_0x2249d3){_0x2de779=_0x2de779-0xbf;const _0xe859a4=_0xe859();let _0x3dd0ac=_0xe859a4[_0x2de779];return _0x3dd0ac;}function _0xe859(){const _0x417a94=['flex\x20items-center\x20gap-3\x20mb-2','Resolved','getTime','ml-4\x20flex-shrink-0','autoRefresh','then','[useAuth]\x20Auth\x20state\x20change:','channel','error','Subscription','push','billing','support_tickets_changes','UPDATE','7489845TRVFxK','Ticket\x20created:','bg-orange-100\x20text-orange-800','map','set','[useAuth]\x20Session\x20refreshed\x20successfully','toUpperCase','admin','subscribe','mt-6\x20flex\x20justify-center','ticket_messages','label','all','Ticket\x20deleted:','getUser','value','slice','account','848709FXipHv','215845MJEQiw','split','status','category','Category','getSupabase','log','2547260BoTHWP','closed','230674Tyzbvr','charAt','6LzDqfu','div','useEffect','Assignment','target','mt-4\x20text-gray-600','DELETE','bug_report','/admin/ticket?id=','w-full\x20px-3\x20py-2\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent','Escalated','px-4\x20py-2\x20text-sm\x20font-medium\x20rounded-full\x20','p-12\x20text-center','ticket','id=eq.','Failed\x20to\x20add\x20message','subscription','Loading\x20tickets...','[useAuth]\x20Failed\x20to\x20refresh:','2909408anSlyq','get','postgres_changes','user_role','created_at','manager','Bug\x20Report','useState','1696108vCrRwY','/dashboard','refreshSession','Assigned\x20to:\x20','refreshInterval','mt-2\x20text-gray-600','includes','jsx','INSERT','jsxs','\x20tickets','span','bg-blue-100\x20text-blue-800','text-gray-600\x20text-sm\x20mb-3\x20line-clamp-2','Billing','Failed\x20to\x20update\x20ticket','animate-spin\x20rounded-full\x20h-12\x20w-12\x20border-b-2\x20border-emerald-600\x20mx-auto','p-6\x20hover:bg-gray-50\x20cursor-pointer\x20transition-colors','[useAuth]\x20Token\x20refreshed\x20successfully','removeChannel','max-w-7xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','auth','text-sm\x20text-gray-500','length','grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4','other','/admin/tickets','Failed\x20to\x20fetch\x20ticket','unsubscribe','block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-2','Failed\x20to\x20fetch\x20tickets','support','bg-red-100\x20text-red-800','assigned_to','resolve','useCallback','addTicketMessage','option','Manage\x20and\x20respond\x20to\x20user\x20support\x20requests','useRouter','bind','api','session','66yBzDjc','Feature\x20Request','bg-red-50\x20border\x20border-red-200\x20rounded-lg\x20p-4\x20mb-6','catch','text-gray-400\x20text-sm\x20mt-2','Ticket\x20updated:','message','bg-gray-100\x20text-gray-800','select','mb-8','onAuthStateChange','All\x20Tickets','text-red-800','Created:\x20','webpackChunk_N_E','Message\x20added:','Today'];_0xe859=function(){return _0x417a94;};return _0xe859();}const _0x544ee9=_0x3dd0;(function(_0x375883,_0x366fec){const _0x27b34f=_0x3dd0,_0x7302b8=_0x375883();while(!![]){try{const _0x1a8450=parseInt(_0x27b34f(0xef))/0x1+-parseInt(_0x27b34f(0xf9))/0x2*(-parseInt(_0x27b34f(0xfb))/0x3)+parseInt(_0x27b34f(0x116))/0x4+parseInt(_0x27b34f(0xf7))/0x5+-parseInt(_0x27b34f(0x141))/0x6*(parseInt(_0x27b34f(0xf0))/0x7)+-parseInt(_0x27b34f(0x10e))/0x8+-parseInt(_0x27b34f(0xdd))/0x9;if(_0x1a8450===_0x366fec)break;else _0x7302b8['push'](_0x7302b8['shift']());}catch(_0x5cbdba){_0x7302b8['push'](_0x7302b8['shift']());}}}(_0xe859,0x74a64),(self[_0x544ee9(0xcc)]=self['webpackChunk_N_E']||[])['push']([[0x2f4],{0x4db1:(_0x5ba01b,_0x45b342,_0x1642b8)=>{'use strict';_0x1642b8['r'](_0x45b342),_0x1642b8['d'](_0x45b342,{'default':()=>_0x4cff6d});var _0x1159db=_0x1642b8(0xd773),_0x46fa03=_0x1642b8(0x5433),_0x416484=_0x1642b8(0x10edb),_0x1fcf97=_0x1642b8(0xc541),_0xa22f77=_0x1642b8(0x14a5a);function _0x4cff6d(){const _0x58607d=_0x3dd0;let {user:_0x24ae13,loading:_0x54a901}=(0x0,_0x416484['A'])(),_0x38c70b=(0x0,_0x1fcf97[_0x58607d(0x13d)])(),_0x38e11b=(0x0,_0x1fcf97['useSearchParams'])(),_0x459ac5=_0x38e11b['get'](_0x58607d(0xf2))||void 0x0,_0x37654f=_0x38e11b[_0x58607d(0x10f)]('category')||void 0x0,_0x2e88ca=_0x38e11b[_0x58607d(0x10f)](_0x58607d(0x137))||void 0x0,{tickets:_0x1a73b4,loading:_0x35e336,error:_0x279efe,refetch:_0x5a671d}=(0x0,_0xa22f77['dS'])({'status':_0x459ac5,'category':_0x37654f,'assigned_to':_0x2e88ca,'autoRefresh':!0x0,'refreshInterval':0x7530}),[_0x2501e6,_0x222b82]=(0x0,_0x46fa03[_0x58607d(0x115)])(_0x459ac5||_0x58607d(0xe9)),[_0x10878a,_0x55fb78]=(0x0,_0x46fa03[_0x58607d(0x115)])(_0x37654f||_0x58607d(0xe9)),[_0x5be270,_0x3e95d6]=(0x0,_0x46fa03['useState'])(_0x2e88ca||_0x58607d(0xe9)),[_0x1f5679,_0x72edf6]=(0x0,_0x46fa03[_0x58607d(0x115)])(null);return((0x0,_0x46fa03[_0x58607d(0xfd)])(()=>{const _0xf63e28=_0x58607d;_0x54a901||_0x24ae13?_0x24ae13&&Promise[_0xf63e28(0x138)]()[_0xf63e28(0xd4)](_0x1642b8[_0xf63e28(0x13e)](_0x1642b8,0x3e0d))[_0xf63e28(0xd4)](({api:_0x106724})=>{const _0x146a78=_0xf63e28;_0x106724['getProfile']()[_0x146a78(0xd4)](_0x3ff9c6=>{const _0xcedbfe=_0x146a78;_0x72edf6(_0x3ff9c6),_0x3ff9c6&&![_0xcedbfe(0xe4),_0xcedbfe(0x113),_0xcedbfe(0x135)]['includes'](_0x3ff9c6[_0xcedbfe(0x111)]||'')&&_0x38c70b['push'](_0xcedbfe(0x117));})[_0x146a78(0xc1)](()=>{_0x38c70b['push']('/dashboard');});}):_0x38c70b[_0xf63e28(0xd9)]('/auth/login');},[_0x24ae13,_0x54a901,_0x38c70b]),(0x0,_0x46fa03['useEffect'])(()=>{const _0xb26c79=_0x58607d;let _0x1e9d4e=new URLSearchParams();'all'!==_0x2501e6&&_0x1e9d4e[_0xb26c79(0xe1)](_0xb26c79(0xf2),_0x2501e6),_0xb26c79(0xe9)!==_0x10878a&&_0x1e9d4e['set'](_0xb26c79(0xf3),_0x10878a),_0xb26c79(0xe9)!==_0x5be270&&_0x1e9d4e['set']('assigned_to',_0x5be270);let _0x18dc6e=_0x1e9d4e['toString']()?'?'+_0x1e9d4e:_0xb26c79(0x130);_0x38c70b[_0xb26c79(0xd9)](_0x18dc6e);},[_0x2501e6,_0x10878a,_0x5be270,_0x38c70b]),_0x54a901||_0x35e336)?(0x0,_0x1159db['jsx'])(_0x58607d(0xfc),{'className':'flex\x20items-center\x20justify-center\x20min-h-screen','children':(0x0,_0x1159db['jsxs'])(_0x58607d(0xfc),{'className':'text-center','children':[(0x0,_0x1159db[_0x58607d(0x11d)])('div',{'className':_0x58607d(0x126)}),(0x0,_0x1159db['jsx'])('p',{'className':_0x58607d(0x100),'children':_0x58607d(0x10c)})]})}):_0x1f5679&&['admin','manager',_0x58607d(0x135)][_0x58607d(0x11c)](_0x1f5679[_0x58607d(0x111)]||'')?(0x0,_0x1159db['jsx'])(_0x58607d(0xfc),{'className':'min-h-screen\x20bg-gray-50\x20py-8','children':(0x0,_0x1159db['jsxs'])(_0x58607d(0xfc),{'className':_0x58607d(0x12a),'children':[(0x0,_0x1159db['jsxs'])(_0x58607d(0xfc),{'className':_0x58607d(0xc7),'children':[(0x0,_0x1159db[_0x58607d(0x11d)])('h1',{'className':'text-3xl\x20font-bold\x20text-gray-900','children':'Support\x20Tickets'}),(0x0,_0x1159db['jsx'])('p',{'className':_0x58607d(0x11b),'children':_0x58607d(0x13c)})]}),(0x0,_0x1159db[_0x58607d(0x11d)])('div',{'className':'bg-white\x20rounded-lg\x20shadow-md\x20p-6\x20mb-6','children':(0x0,_0x1159db[_0x58607d(0x11f)])('div',{'className':_0x58607d(0x12e),'children':[(0x0,_0x1159db[_0x58607d(0x11f)])('div',{'children':[(0x0,_0x1159db['jsx'])('label',{'className':'block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-2','children':'Status'}),(0x0,_0x1159db[_0x58607d(0x11f)])(_0x58607d(0xc6),{'value':_0x2501e6,'onChange':_0x1ca809=>_0x222b82(_0x1ca809['target']['value']),'className':'w-full\x20px-3\x20py-2\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent','children':[(0x0,_0x1159db['jsx'])(_0x58607d(0x13b),{'value':_0x58607d(0xe9),'children':'All\x20Statuses'}),(0x0,_0x1159db['jsx'])('option',{'value':'open','children':'Open'}),(0x0,_0x1159db[_0x58607d(0x11d)])('option',{'value':'in_progress','children':'In\x20Progress'}),(0x0,_0x1159db[_0x58607d(0x11d)])('option',{'value':'waiting_response','children':'Waiting\x20Response'}),(0x0,_0x1159db['jsx'])(_0x58607d(0x13b),{'value':'escalated','children':_0x58607d(0x105)}),(0x0,_0x1159db['jsx'])('option',{'value':'resolved','children':_0x58607d(0xd0)}),(0x0,_0x1159db['jsx'])(_0x58607d(0x13b),{'value':_0x58607d(0xf8),'children':'Closed'})]})]}),(0x0,_0x1159db['jsxs'])('div',{'children':[(0x0,_0x1159db['jsx'])(_0x58607d(0xe8),{'className':_0x58607d(0x133),'children':_0x58607d(0xf4)}),(0x0,_0x1159db['jsxs'])('select',{'value':_0x10878a,'onChange':_0x33589f=>_0x55fb78(_0x33589f[_0x58607d(0xff)]['value']),'className':_0x58607d(0x104),'children':[(0x0,_0x1159db['jsx'])(_0x58607d(0x13b),{'value':'all','children':'All\x20Categories'}),(0x0,_0x1159db['jsx'])(_0x58607d(0x13b),{'value':_0x58607d(0x10b),'children':_0x58607d(0xd8)}),(0x0,_0x1159db[_0x58607d(0x11d)])(_0x58607d(0x13b),{'value':'technical','children':'Technical'}),(0x0,_0x1159db[_0x58607d(0x11d)])('option',{'value':_0x58607d(0xee),'children':'Account'}),(0x0,_0x1159db[_0x58607d(0x11d)])('option',{'value':_0x58607d(0xda),'children':_0x58607d(0x124)}),(0x0,_0x1159db[_0x58607d(0x11d)])(_0x58607d(0x13b),{'value':'feature_request','children':_0x58607d(0xbf)}),(0x0,_0x1159db['jsx'])('option',{'value':_0x58607d(0x102),'children':_0x58607d(0x114)}),(0x0,_0x1159db[_0x58607d(0x11d)])(_0x58607d(0x13b),{'value':_0x58607d(0x12f),'children':'Other'})]})]}),(0x0,_0x1159db['jsxs'])(_0x58607d(0xfc),{'children':[(0x0,_0x1159db['jsx'])('label',{'className':'block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-2','children':_0x58607d(0xfe)}),(0x0,_0x1159db['jsxs'])('select',{'value':_0x5be270,'onChange':_0x4a1e47=>_0x3e95d6(_0x4a1e47[_0x58607d(0xff)][_0x58607d(0xec)]),'className':_0x58607d(0x104),'children':[(0x0,_0x1159db[_0x58607d(0x11d)])('option',{'value':'all','children':_0x58607d(0xc9)}),(0x0,_0x1159db['jsx'])(_0x58607d(0x13b),{'value':'me','children':'Assigned\x20to\x20Me'}),(0x0,_0x1159db['jsx'])(_0x58607d(0x13b),{'value':'unassigned','children':'Unassigned'})]})]})]})}),_0x279efe&&(0x0,_0x1159db['jsx'])('div',{'className':_0x58607d(0xc0),'children':(0x0,_0x1159db['jsx'])('p',{'className':_0x58607d(0xca),'children':_0x279efe})}),(0x0,_0x1159db['jsx'])('div',{'className':'bg-white\x20rounded-lg\x20shadow-md\x20overflow-hidden','children':(0x0,_0x1159db['jsx'])(_0x58607d(0xfc),{'className':'divide-y\x20divide-gray-200','children':0x0===_0x1a73b4['length']?(0x0,_0x1159db[_0x58607d(0x11f)])('div',{'className':_0x58607d(0x107),'children':[(0x0,_0x1159db[_0x58607d(0x11d)])('p',{'className':'text-gray-500\x20text-lg','children':'No\x20tickets\x20found'}),(0x0,_0x1159db['jsx'])('p',{'className':_0x58607d(0xc2),'children':'Try\x20adjusting\x20your\x20filters'})]}):_0x1a73b4[_0x58607d(0xe0)](_0x1858a7=>{const _0x5a16a0=_0x58607d;let _0x4c03db,_0x3b7842;return(0x0,_0x1159db[_0x5a16a0(0x11d)])('div',{'className':_0x5a16a0(0x127),'onClick':()=>_0x38c70b[_0x5a16a0(0xd9)](_0x5a16a0(0x103)+_0x1858a7['id']),'children':(0x0,_0x1159db[_0x5a16a0(0x11f)])('div',{'className':'flex\x20items-start\x20justify-between','children':[(0x0,_0x1159db[_0x5a16a0(0x11f)])(_0x5a16a0(0xfc),{'className':'flex-1\x20min-w-0','children':[(0x0,_0x1159db['jsxs'])(_0x5a16a0(0xfc),{'className':_0x5a16a0(0xcf),'children':[(0x0,_0x1159db[_0x5a16a0(0x11d)])('h3',{'className':'text-lg\x20font-semibold\x20text-gray-900\x20truncate','children':_0x1858a7['title']}),(0x0,_0x1159db[_0x5a16a0(0x11d)])(_0x5a16a0(0x121),{'className':'px-3\x20py-1\x20text-xs\x20font-medium\x20rounded-full\x20'+({'low':'bg-gray-100\x20text-gray-800','medium':'bg-blue-100\x20text-blue-800','high':_0x5a16a0(0xdf),'urgent':_0x5a16a0(0x136)}[_0x1858a7['priority']]||'bg-gray-100\x20text-gray-800'),'children':_0x1858a7['priority']})]}),(0x0,_0x1159db[_0x5a16a0(0x11d)])('p',{'className':_0x5a16a0(0x123),'children':_0x1858a7['description']}),(0x0,_0x1159db['jsxs'])(_0x5a16a0(0xfc),{'className':'flex\x20flex-wrap\x20gap-4\x20text-xs\x20text-gray-500','children':[(0x0,_0x1159db[_0x5a16a0(0x11f)])(_0x5a16a0(0x121),{'children':['Category:\x20',_0x1858a7['category'][_0x5a16a0(0xf1)]('_')[_0x5a16a0(0xe0)](_0x3eff46=>_0x3eff46[_0x5a16a0(0xfa)](0x0)[_0x5a16a0(0xe3)]()+_0x3eff46[_0x5a16a0(0xed)](0x1))['join']('\x20')]}),(0x0,_0x1159db[_0x5a16a0(0x11f)])(_0x5a16a0(0x121),{'children':[_0x5a16a0(0xcb),(_0x4c03db=new Date(_0x1858a7[_0x5a16a0(0x112)]),0x0===(_0x3b7842=Math['floor']((new Date()[_0x5a16a0(0xd1)]()-_0x4c03db['getTime']())/0x5265c00))?_0x5a16a0(0xce):0x1===_0x3b7842?'Yesterday':_0x3b7842<0x7?_0x3b7842+'\x20days\x20ago':_0x4c03db['toLocaleDateString']())]}),_0x1858a7[_0x5a16a0(0x137)]&&_0x1858a7['assignee']&&(0x0,_0x1159db[_0x5a16a0(0x11f)])('span',{'children':[_0x5a16a0(0x119),_0x1858a7['assignee']['display_name']]})]})]}),(0x0,_0x1159db['jsx'])('div',{'className':_0x5a16a0(0xd2),'children':(0x0,_0x1159db['jsx'])('span',{'className':_0x5a16a0(0x106)+({'open':_0x5a16a0(0x122),'in_progress':'bg-yellow-100\x20text-yellow-800','waiting_response':'bg-purple-100\x20text-purple-800','escalated':_0x5a16a0(0x136),'resolved':'bg-green-100\x20text-green-800','closed':_0x5a16a0(0xc5)}[_0x1858a7['status']]||_0x5a16a0(0xc5)),'children':_0x1858a7['status'][_0x5a16a0(0xf1)]('_')[_0x5a16a0(0xe0)](_0x195150=>_0x195150['charAt'](0x0)['toUpperCase']()+_0x195150[_0x5a16a0(0xed)](0x1))['join']('\x20')})})]})},_0x1858a7['id']);})})}),(0x0,_0x1159db[_0x58607d(0x11d)])(_0x58607d(0xfc),{'className':_0x58607d(0xe6),'children':(0x0,_0x1159db[_0x58607d(0x11f)])('p',{'className':_0x58607d(0x12c),'children':['Showing\x20',_0x1a73b4[_0x58607d(0x12d)],_0x58607d(0x120)]})})]})}):null;}},0xc541:(_0x3ce247,_0x374c24,_0x15f430)=>{'use strict';var _0x59fe4d=_0x15f430(0xed0d);_0x15f430['o'](_0x59fe4d,'usePathname')&&_0x15f430['d'](_0x374c24,{'usePathname':function(){return _0x59fe4d['usePathname'];}}),_0x15f430['o'](_0x59fe4d,'useRouter')&&_0x15f430['d'](_0x374c24,{'useRouter':function(){const _0x3812f8=_0x3dd0;return _0x59fe4d[_0x3812f8(0x13d)];}}),_0x15f430['o'](_0x59fe4d,'useSearchParams')&&_0x15f430['d'](_0x374c24,{'useSearchParams':function(){return _0x59fe4d['useSearchParams'];}});},0x10edb:(_0xaa11f5,_0x44484c,_0x1a6e0a)=>{'use strict';_0x1a6e0a['d'](_0x44484c,{'A':()=>_0x4e26da});var _0x245e17=_0x1a6e0a(0x5433),_0x7913ed=_0x1a6e0a(0x3e0d);function _0x4e26da(){const _0x2165fb=_0x3dd0;let [_0x1f32b3,_0x59b208]=(0x0,_0x245e17[_0x2165fb(0x115)])(null),[_0x48386b,_0x4b7b5f]=(0x0,_0x245e17['useState'])(!0x0),[_0x2c7da0,_0x56adc9]=(0x0,_0x245e17[_0x2165fb(0x115)])(!0x1),[_0x2e4b75,_0x19bed1]=(0x0,_0x245e17[_0x2165fb(0x115)])(null),_0x832351=(0x0,_0x245e17[_0x2165fb(0x139)])(async()=>{const _0x4501f6=_0x2165fb;try{let _0x287b9a=(0x0,_0x7913ed[_0x4501f6(0xf5)])(),{data:_0x4a13a7,error:_0x4aae46}=await _0x287b9a[_0x4501f6(0x12b)][_0x4501f6(0x118)]();if(_0x4aae46)return console['error']('[useAuth]\x20Refresh\x20error:',_0x4aae46),!0x1;if(!_0x4a13a7?.['session'])return console['error']('[useAuth]\x20No\x20session\x20returned\x20after\x20refresh'),!0x1;return _0x19bed1(_0x4a13a7[_0x4501f6(0x140)]),_0x59b208(_0x4a13a7['session']['user']),console['log'](_0x4501f6(0xe2)),!0x0;}catch(_0x51e5cd){return console[_0x4501f6(0xd7)](_0x4501f6(0x10d),_0x51e5cd),!0x1;}},[]);return(0x0,_0x245e17[_0x2165fb(0xfd)])(()=>{const _0x5c0a8d=_0x2165fb;_0x7913ed[_0x5c0a8d(0x13f)][_0x5c0a8d(0xeb)]()[_0x5c0a8d(0xd4)](({data:{user:_0xedf03a}})=>{_0x59b208(_0xedf03a),_0x4b7b5f(!0x1),_0x56adc9(!0x0);})[_0x5c0a8d(0xc1)](()=>{_0x4b7b5f(!0x1),_0x56adc9(!0x0);});let {data:{subscription:_0x245daf}}=_0x7913ed[_0x5c0a8d(0x13f)][_0x5c0a8d(0xc8)](async(_0x4336dd,_0x19b24d)=>{const _0x27d60d=_0x5c0a8d;console[_0x27d60d(0xf6)](_0x27d60d(0xd5),_0x4336dd),'TOKEN_REFRESHED'===_0x4336dd&&console[_0x27d60d(0xf6)](_0x27d60d(0x128)),_0x19bed1(_0x19b24d),_0x59b208(_0x19b24d?.['user']??null),_0x4b7b5f(!0x1),_0x56adc9(!0x0);});return()=>_0x245daf[_0x5c0a8d(0x132)]();},[]),{'user':_0x1f32b3,'session':_0x2e4b75,'loading':_0x48386b,'isReady':_0x2c7da0,'authenticated':!!_0x1f32b3,'refreshSession':_0x832351,'signOut':()=>_0x7913ed['api']['signOut']()};}},0x14a5a:(_0x2e11c5,_0x1b16eb,_0x376b80)=>{'use strict';_0x376b80['d'](_0x1b16eb,{'c0':()=>_0x20d45d,'Gs':()=>_0x3b8e59,'oJ':()=>_0x37036c,'yS':()=>_0x32ba07,'dS':()=>_0x14950a,'tY':()=>_0x41ef7d});var _0x4e8285=_0x376b80(0x5433),_0x4a24f2=_0x376b80(0x3e0d);function _0x3addd3(_0x37a6aa={}){let {onTicketCreated:_0x2226a4,onTicketUpdated:_0x3a871b,onTicketDeleted:_0x53329e,onMessageAdded:_0x6b50a2,ticketId:_0x4ad5b6}=_0x37a6aa;(0x0,_0x4e8285['useEffect'])(()=>{const _0x48260e=_0x3dd0;let _0x1bc38f=(0x0,_0x4a24f2[_0x48260e(0xf5)])(),_0x4c1c06=_0x1bc38f[_0x48260e(0xd6)](_0x48260e(0xdb))['on']('postgres_changes',{'event':_0x48260e(0x11e),'schema':_0x48260e(0x13f),'table':'support_tickets'},_0x2b5eae=>{const _0x48c3cf=_0x48260e;console['log'](_0x48c3cf(0xde),_0x2b5eae),_0x2226a4?.(_0x2b5eae);})['on'](_0x48260e(0x110),{'event':_0x48260e(0xdc),'schema':'api','table':'support_tickets',..._0x4ad5b6?{'filter':_0x48260e(0x109)+_0x4ad5b6}:{}},_0x49ac78=>{const _0x1651d4=_0x48260e;console[_0x1651d4(0xf6)](_0x1651d4(0xc3),_0x49ac78),_0x3a871b?.(_0x49ac78);})['on'](_0x48260e(0x110),{'event':_0x48260e(0x101),'schema':_0x48260e(0x13f),'table':'support_tickets'},_0x297140=>{const _0x8837e9=_0x48260e;console['log'](_0x8837e9(0xea),_0x297140),_0x53329e?.(_0x297140);})[_0x48260e(0xe5)](),_0x2195a8=null;return _0x4ad5b6&&_0x6b50a2&&(_0x2195a8=_0x1bc38f['channel']('ticket_messages_changes')['on']('postgres_changes',{'event':'INSERT','schema':'api','table':_0x48260e(0xe7),'filter':'ticket_id=eq.'+_0x4ad5b6},_0x1f392f=>{const _0x4ff15e=_0x48260e;console['log'](_0x4ff15e(0xcd),_0x1f392f),_0x6b50a2(_0x1f392f);})[_0x48260e(0xe5)]()),()=>{const _0x18c274=_0x48260e;_0x1bc38f[_0x18c274(0x129)](_0x4c1c06),_0x2195a8&&_0x1bc38f['removeChannel'](_0x2195a8);};},[_0x2226a4,_0x3a871b,_0x53329e,_0x6b50a2,_0x4ad5b6]);}function _0x14950a(_0x5bc9c3={}){const _0x545f69=_0x3dd0;let [_0x48d5e7,_0x26e3e6]=(0x0,_0x4e8285['useState'])([]),[_0x5bdb58,_0x42a759]=(0x0,_0x4e8285[_0x545f69(0x115)])(!0x0),[_0xaed87b,_0x2158b4]=(0x0,_0x4e8285['useState'])(null),[_0x55f784,_0x4038c1]=(0x0,_0x4e8285['useState'])(0x0),_0x2e9787=(0x0,_0x4e8285[_0x545f69(0x139)])(async()=>{const _0x399325=_0x545f69;try{_0x42a759(!0x0),_0x2158b4(null);let {tickets:_0x29d95c,total:_0x3a77c1}=await _0x4a24f2[_0x399325(0x13f)]['getTickets']({'status':_0x5bc9c3[_0x399325(0xf2)],'category':_0x5bc9c3['category'],'assigned_to':_0x5bc9c3['assigned_to']});_0x26e3e6(_0x29d95c),_0x4038c1(_0x3a77c1);}catch(_0xd6c4ed){_0x2158b4(_0xd6c4ed instanceof Error?_0xd6c4ed['message']:_0x399325(0x134));}finally{_0x42a759(!0x1);}},[_0x5bc9c3[_0x545f69(0xf2)],_0x5bc9c3['category'],_0x5bc9c3['assigned_to']]);return(0x0,_0x4e8285[_0x545f69(0xfd)])(()=>{const _0x45bee8=_0x545f69;if(_0x2e9787(),_0x5bc9c3[_0x45bee8(0xd3)]&&_0x5bc9c3[_0x45bee8(0x11a)]){let _0x496955=setInterval(_0x2e9787,_0x5bc9c3['refreshInterval']);return()=>clearInterval(_0x496955);}},[_0x2e9787,_0x5bc9c3['autoRefresh'],_0x5bc9c3[_0x545f69(0x11a)]]),_0x3addd3({'onTicketCreated':!0x1!==_0x5bc9c3['enableRealtime']?()=>_0x2e9787():void 0x0,'onTicketUpdated':!0x1!==_0x5bc9c3['enableRealtime']?()=>_0x2e9787():void 0x0,'onTicketDeleted':!0x1!==_0x5bc9c3['enableRealtime']?()=>_0x2e9787():void 0x0}),{'tickets':_0x48d5e7,'loading':_0x5bdb58,'error':_0xaed87b,'total':_0x55f784,'refetch':_0x2e9787};}function _0x32ba07(_0x1257e9,_0x5509a9=!0x0){const _0x9232ff=_0x3dd0;let [_0xceb9b1,_0x5e2282]=(0x0,_0x4e8285[_0x9232ff(0x115)])(null),[_0x5e70ad,_0x33e959]=(0x0,_0x4e8285['useState'])(!0x0),[_0xf858,_0x54cf33]=(0x0,_0x4e8285[_0x9232ff(0x115)])(null),_0x1e81da=(0x0,_0x4e8285['useCallback'])(async()=>{const _0x1592f1=_0x9232ff;if(!_0x1257e9){_0x5e2282(null),_0x33e959(!0x1);return;}try{_0x33e959(!0x0),_0x54cf33(null);let _0x232d90=await _0x4a24f2[_0x1592f1(0x13f)]['getTicket'](_0x1257e9);_0x5e2282(_0x232d90);}catch(_0x4630db){_0x54cf33(_0x4630db instanceof Error?_0x4630db[_0x1592f1(0xc4)]:_0x1592f1(0x131));}finally{_0x33e959(!0x1);}},[_0x1257e9]);return(0x0,_0x4e8285['useEffect'])(()=>{_0x1e81da();},[_0x1e81da]),_0x3addd3({'ticketId':_0x1257e9||void 0x0,'onTicketUpdated':_0x5509a9?()=>_0x1e81da():void 0x0,'onMessageAdded':_0x5509a9?()=>_0x1e81da():void 0x0}),{'ticket':_0xceb9b1,'loading':_0x5e70ad,'error':_0xf858,'refetch':_0x1e81da};}function _0x3b8e59(){const _0x221431=_0x3dd0;let [_0x14d2ba,_0x19442c]=(0x0,_0x4e8285[_0x221431(0x115)])(!0x1),[_0xad5848,_0x5ae61e]=(0x0,_0x4e8285[_0x221431(0x115)])(null);return{'createTicket':async _0x436101=>{const _0x288b77=_0x221431;try{return _0x19442c(!0x0),_0x5ae61e(null),(await _0x4a24f2[_0x288b77(0x13f)]['createTicket'](_0x436101))[_0x288b77(0x108)];}catch(_0x3d0ce6){let _0x1bf754=_0x3d0ce6 instanceof Error?_0x3d0ce6[_0x288b77(0xc4)]:'Failed\x20to\x20create\x20ticket';throw _0x5ae61e(_0x1bf754),Error(_0x1bf754);}finally{_0x19442c(!0x1);}},'loading':_0x14d2ba,'error':_0xad5848};}function _0x41ef7d(){let [_0x490ac6,_0x4e51d9]=(0x0,_0x4e8285['useState'])(!0x1),[_0x246039,_0x5b33be]=(0x0,_0x4e8285['useState'])(null);return{'updateTicket':async _0x34c2e8=>{const _0x3a1987=_0x3dd0;try{return _0x4e51d9(!0x0),_0x5b33be(null),(await _0x4a24f2[_0x3a1987(0x13f)]['updateTicket'](_0x34c2e8))[_0x3a1987(0x108)];}catch(_0x2ee036){let _0x62ffe8=_0x2ee036 instanceof Error?_0x2ee036['message']:_0x3a1987(0x125);throw _0x5b33be(_0x62ffe8),Error(_0x62ffe8);}finally{_0x4e51d9(!0x1);}},'loading':_0x490ac6,'error':_0x246039};}function _0x37036c(){const _0x78e4c9=_0x3dd0;let [_0x5d8f75,_0x1b517f]=(0x0,_0x4e8285[_0x78e4c9(0x115)])(!0x1),[_0x2bcc42,_0xf3eb1]=(0x0,_0x4e8285['useState'])(null);return{'escalateTicket':async _0x3b2fee=>{const _0x1956c9=_0x78e4c9;try{return _0x1b517f(!0x0),_0xf3eb1(null),(await _0x4a24f2[_0x1956c9(0x13f)]['escalateTicket'](_0x3b2fee))['ticket'];}catch(_0x42741d){let _0x20687c=_0x42741d instanceof Error?_0x42741d['message']:'Failed\x20to\x20escalate\x20ticket';throw _0xf3eb1(_0x20687c),Error(_0x20687c);}finally{_0x1b517f(!0x1);}},'loading':_0x5d8f75,'error':_0x2bcc42};}function _0x20d45d(){const _0x177761=_0x3dd0;let [_0x4dbe35,_0x39e0a1]=(0x0,_0x4e8285['useState'])(!0x1),[_0x4a5329,_0x5355b2]=(0x0,_0x4e8285[_0x177761(0x115)])(null);return{'addMessage':async _0x347079=>{const _0x3cc38f=_0x177761;try{return _0x39e0a1(!0x0),_0x5355b2(null),(await _0x4a24f2['api'][_0x3cc38f(0x13a)](_0x347079))[_0x3cc38f(0xc4)];}catch(_0x5397c6){let _0x3d06f9=_0x5397c6 instanceof Error?_0x5397c6['message']:_0x3cc38f(0x10a);throw _0x5355b2(_0x3d06f9),Error(_0x3d06f9);}finally{_0x39e0a1(!0x1);}},'loading':_0x4dbe35,'error':_0x4a5329};}},0x1608e:(_0x136f68,_0x415a96,_0x260514)=>{const _0x1cbc92=_0x544ee9;Promise[_0x1cbc92(0x138)]()['then'](_0x260514[_0x1cbc92(0x13e)](_0x260514,0x4db1));}},_0x433fd4=>{_0x433fd4['O'](0x0,[0x2603,0x259f,0x16fd,0x1b1b,0x492,0x1cbe],()=>_0x433fd4(_0x433fd4['s']=0x1608e)),_N_E=_0x433fd4['O']();}]));