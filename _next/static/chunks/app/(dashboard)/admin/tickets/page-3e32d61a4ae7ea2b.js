function _0x30ed(){const _0x2f91a5=['block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-2','TOKEN_REFRESHED','getTickets','jsxs','flex\x20flex-wrap\x20gap-4\x20text-xs\x20text-gray-500','category','grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4','250807XsTNNQ','channel','useRouter','webpackChunk_N_E','length','ticket','refreshInterval','Unassigned','Feature\x20Request','user','useCallback','postgres_changes','get','[useAuth]\x20Failed\x20to\x20refresh:','Open','bg-orange-100\x20text-orange-800','w-full\x20px-3\x20py-2\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent','Category','log','getTime','escalated','span','message','target','Assignment','support','join','[useAuth]\x20No\x20session\x20returned\x20after\x20refresh','/dashboard','text-gray-600\x20text-sm\x20mb-3\x20line-clamp-2','Assigned\x20to\x20Me','mt-2\x20text-gray-600','all','Bug\x20Report','3701824NhTJLN','Support\x20Tickets','getUser','getSupabase','title','[useAuth]\x20Token\x20refreshed\x20successfully','toUpperCase','1199862VzmZzk','min-h-screen\x20bg-gray-50\x20py-8','status','1450FRAmgH','bg-red-50\x20border\x20border-red-200\x20rounded-lg\x20p-4\x20mb-6','manager','64412mgohLq','text-3xl\x20font-bold\x20text-gray-900','user_role','Message\x20added:','display_name','flex-1\x20min-w-0','id=eq.','Failed\x20to\x20create\x20ticket','admin','slice','Showing\x20','4osXjQd','Created:\x20','feature_request','assignee','flex\x20items-center\x20gap-3\x20mb-2','Try\x20adjusting\x20your\x20filters','644847dsGKUi','split','option','useState','created_at','description','select','mt-4\x20text-gray-600','error','ticket_id=eq.','682011DQXEYd','account','charAt','label','Closed','addTicketMessage','38367pFvpZN','7TLYevk','bind','support_tickets_changes','175AtXlAm','[useAuth]\x20Refresh\x20error:','value','assigned_to','support_tickets','usePathname','getProfile','max-w-7xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','subscribe','api','priority','in_progress','set','subscription','push','flex\x20items-center\x20justify-center\x20min-h-screen','flex\x20items-start\x20justify-between','then','toLocaleDateString','div','session','billing','useSearchParams','jsx','map','useEffect','floor','getTicket','\x20tickets','Loading\x20tickets...','bg-gray-100\x20text-gray-800','removeChannel','mb-8','Category:\x20','escalateTicket'];_0x30ed=function(){return _0x2f91a5;};return _0x30ed();}function _0x3490(_0x4ac595,_0x12ca11){_0x4ac595=_0x4ac595-0x1ba;const _0x30ed72=_0x30ed();let _0x349060=_0x30ed72[_0x4ac595];return _0x349060;}const _0x3ad753=_0x3490;(function(_0x57dbb7,_0x1cdde1){const _0x10331b=_0x3490,_0x3a5b0a=_0x57dbb7();while(!![]){try{const _0x248ae3=parseInt(_0x10331b(0x1fc))/0x1+parseInt(_0x10331b(0x236))/0x2*(-parseInt(_0x10331b(0x1be))/0x3)+parseInt(_0x10331b(0x22b))/0x4*(parseInt(_0x10331b(0x1d2))/0x5)+parseInt(_0x10331b(0x225))/0x6*(parseInt(_0x10331b(0x1cf))/0x7)+parseInt(_0x10331b(0x21e))/0x8+parseInt(_0x10331b(0x1ce))/0x9*(-parseInt(_0x10331b(0x228))/0xa)+parseInt(_0x10331b(0x1c8))/0xb;if(_0x248ae3===_0x1cdde1)break;else _0x3a5b0a['push'](_0x3a5b0a['shift']());}catch(_0x1196c4){_0x3a5b0a['push'](_0x3a5b0a['shift']());}}}(_0x30ed,0x77e4d),(self[_0x3ad753(0x1ff)]=self['webpackChunk_N_E']||[])[_0x3ad753(0x1e0)]([[0x2f4],{0x4db1:(_0x47f8bd,_0x4280dc,_0x4af9bc)=>{'use strict';_0x4af9bc['r'](_0x4280dc),_0x4af9bc['d'](_0x4280dc,{'default':()=>_0x4e0e92});var _0x3bb94f=_0x4af9bc(0xd773),_0x16e178=_0x4af9bc(0x5433),_0x4be61b=_0x4af9bc(0x10edb),_0x5d6d3d=_0x4af9bc(0xc541),_0x3a6bca=_0x4af9bc(0x14a5a);function _0x4e0e92(){const _0x2648e8=_0x3490;let {user:_0x4febd7,loading:_0x85620d}=(0x0,_0x4be61b['A'])(),_0x5f3fe7=(0x0,_0x5d6d3d[_0x2648e8(0x1fe)])(),_0x28ccef=(0x0,_0x5d6d3d['useSearchParams'])(),_0x3850a3=_0x28ccef['get']('status')||void 0x0,_0x25fc30=_0x28ccef['get'](_0x2648e8(0x1fa))||void 0x0,_0x17ec7e=_0x28ccef[_0x2648e8(0x208)](_0x2648e8(0x1d5))||void 0x0,{tickets:_0x5a6162,loading:_0x3c653b,error:_0x34aa9d,refetch:_0xb8e108}=(0x0,_0x3a6bca['dS'])({'status':_0x3850a3,'category':_0x25fc30,'assigned_to':_0x17ec7e,'autoRefresh':!0x0,'refreshInterval':0x7530}),[_0x531d21,_0x3b8d17]=(0x0,_0x16e178[_0x2648e8(0x1c1)])(_0x3850a3||_0x2648e8(0x21c)),[_0x28fad4,_0x171535]=(0x0,_0x16e178['useState'])(_0x25fc30||_0x2648e8(0x21c)),[_0x4062d7,_0xa046e7]=(0x0,_0x16e178[_0x2648e8(0x1c1)])(_0x17ec7e||_0x2648e8(0x21c)),[_0x483334,_0x1939c0]=(0x0,_0x16e178['useState'])(null);return((0x0,_0x16e178['useEffect'])(()=>{const _0x27c6d3=_0x2648e8;_0x85620d||_0x4febd7?_0x4febd7&&Promise['resolve']()['then'](_0x4af9bc[_0x27c6d3(0x1d0)](_0x4af9bc,0x3e0d))['then'](({api:_0x36c249})=>{const _0x4cfdc9=_0x27c6d3;_0x36c249[_0x4cfdc9(0x1d8)]()[_0x4cfdc9(0x1e3)](_0x304f9a=>{const _0x5172b3=_0x4cfdc9;_0x1939c0(_0x304f9a),_0x304f9a&&![_0x5172b3(0x233),_0x5172b3(0x22a),'support']['includes'](_0x304f9a[_0x5172b3(0x22d)]||'')&&_0x5f3fe7['push'](_0x5172b3(0x218));})['catch'](()=>{const _0x1ef689=_0x4cfdc9;_0x5f3fe7[_0x1ef689(0x1e0)](_0x1ef689(0x218));});}):_0x5f3fe7[_0x27c6d3(0x1e0)]('/auth/login');},[_0x4febd7,_0x85620d,_0x5f3fe7]),(0x0,_0x16e178['useEffect'])(()=>{const _0x3406c8=_0x2648e8;let _0x1d177f=new URLSearchParams();'all'!==_0x531d21&&_0x1d177f[_0x3406c8(0x1de)]('status',_0x531d21),'all'!==_0x28fad4&&_0x1d177f[_0x3406c8(0x1de)]('category',_0x28fad4),'all'!==_0x4062d7&&_0x1d177f['set'](_0x3406c8(0x1d5),_0x4062d7);let _0x3cbbe3=_0x1d177f['toString']()?'?'+_0x1d177f:'/admin/tickets';_0x5f3fe7['push'](_0x3cbbe3);},[_0x531d21,_0x28fad4,_0x4062d7,_0x5f3fe7]),_0x85620d||_0x3c653b)?(0x0,_0x3bb94f[_0x2648e8(0x1e9)])('div',{'className':_0x2648e8(0x1e1),'children':(0x0,_0x3bb94f['jsxs'])(_0x2648e8(0x1e5),{'className':'text-center','children':[(0x0,_0x3bb94f['jsx'])('div',{'className':'animate-spin\x20rounded-full\x20h-12\x20w-12\x20border-b-2\x20border-emerald-600\x20mx-auto'}),(0x0,_0x3bb94f['jsx'])('p',{'className':_0x2648e8(0x1c5),'children':_0x2648e8(0x1ef)})]})}):_0x483334&&['admin','manager',_0x2648e8(0x215)]['includes'](_0x483334['user_role']||'')?(0x0,_0x3bb94f[_0x2648e8(0x1e9)])('div',{'className':_0x2648e8(0x226),'children':(0x0,_0x3bb94f[_0x2648e8(0x1f8)])('div',{'className':_0x2648e8(0x1d9),'children':[(0x0,_0x3bb94f['jsxs'])('div',{'className':_0x2648e8(0x1f2),'children':[(0x0,_0x3bb94f[_0x2648e8(0x1e9)])('h1',{'className':_0x2648e8(0x22c),'children':_0x2648e8(0x21f)}),(0x0,_0x3bb94f[_0x2648e8(0x1e9)])('p',{'className':_0x2648e8(0x21b),'children':'Manage\x20and\x20respond\x20to\x20user\x20support\x20requests'})]}),(0x0,_0x3bb94f['jsx'])(_0x2648e8(0x1e5),{'className':'bg-white\x20rounded-lg\x20shadow-md\x20p-6\x20mb-6','children':(0x0,_0x3bb94f['jsxs'])(_0x2648e8(0x1e5),{'className':_0x2648e8(0x1fb),'children':[(0x0,_0x3bb94f[_0x2648e8(0x1f8)])(_0x2648e8(0x1e5),{'children':[(0x0,_0x3bb94f['jsx'])('label',{'className':_0x2648e8(0x1f5),'children':'Status'}),(0x0,_0x3bb94f[_0x2648e8(0x1f8)])(_0x2648e8(0x1c4),{'value':_0x531d21,'onChange':_0x55ec83=>_0x3b8d17(_0x55ec83['target'][_0x2648e8(0x1d4)]),'className':'w-full\x20px-3\x20py-2\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent','children':[(0x0,_0x3bb94f['jsx'])('option',{'value':'all','children':'All\x20Statuses'}),(0x0,_0x3bb94f[_0x2648e8(0x1e9)])('option',{'value':'open','children':_0x2648e8(0x20a)}),(0x0,_0x3bb94f[_0x2648e8(0x1e9)])(_0x2648e8(0x1c0),{'value':_0x2648e8(0x1dd),'children':'In\x20Progress'}),(0x0,_0x3bb94f[_0x2648e8(0x1e9)])('option',{'value':'waiting_response','children':'Waiting\x20Response'}),(0x0,_0x3bb94f[_0x2648e8(0x1e9)])('option',{'value':_0x2648e8(0x210),'children':'Escalated'}),(0x0,_0x3bb94f[_0x2648e8(0x1e9)])('option',{'value':'resolved','children':'Resolved'}),(0x0,_0x3bb94f['jsx'])('option',{'value':'closed','children':_0x2648e8(0x1cc)})]})]}),(0x0,_0x3bb94f['jsxs'])(_0x2648e8(0x1e5),{'children':[(0x0,_0x3bb94f['jsx'])(_0x2648e8(0x1cb),{'className':_0x2648e8(0x1f5),'children':_0x2648e8(0x20d)}),(0x0,_0x3bb94f[_0x2648e8(0x1f8)])(_0x2648e8(0x1c4),{'value':_0x28fad4,'onChange':_0x29a45f=>_0x171535(_0x29a45f[_0x2648e8(0x213)]['value']),'className':'w-full\x20px-3\x20py-2\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent','children':[(0x0,_0x3bb94f[_0x2648e8(0x1e9)])('option',{'value':_0x2648e8(0x21c),'children':'All\x20Categories'}),(0x0,_0x3bb94f['jsx'])('option',{'value':_0x2648e8(0x1df),'children':'Subscription'}),(0x0,_0x3bb94f['jsx'])(_0x2648e8(0x1c0),{'value':'technical','children':'Technical'}),(0x0,_0x3bb94f[_0x2648e8(0x1e9)])(_0x2648e8(0x1c0),{'value':_0x2648e8(0x1c9),'children':'Account'}),(0x0,_0x3bb94f['jsx'])('option',{'value':_0x2648e8(0x1e7),'children':'Billing'}),(0x0,_0x3bb94f[_0x2648e8(0x1e9)])('option',{'value':_0x2648e8(0x1ba),'children':_0x2648e8(0x204)}),(0x0,_0x3bb94f[_0x2648e8(0x1e9)])('option',{'value':'bug_report','children':_0x2648e8(0x21d)}),(0x0,_0x3bb94f[_0x2648e8(0x1e9)])('option',{'value':'other','children':'Other'})]})]}),(0x0,_0x3bb94f[_0x2648e8(0x1f8)])(_0x2648e8(0x1e5),{'children':[(0x0,_0x3bb94f['jsx'])(_0x2648e8(0x1cb),{'className':'block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-2','children':_0x2648e8(0x214)}),(0x0,_0x3bb94f['jsxs'])('select',{'value':_0x4062d7,'onChange':_0x131305=>_0xa046e7(_0x131305[_0x2648e8(0x213)][_0x2648e8(0x1d4)]),'className':_0x2648e8(0x20c),'children':[(0x0,_0x3bb94f[_0x2648e8(0x1e9)])(_0x2648e8(0x1c0),{'value':'all','children':'All\x20Tickets'}),(0x0,_0x3bb94f[_0x2648e8(0x1e9)])('option',{'value':'me','children':_0x2648e8(0x21a)}),(0x0,_0x3bb94f['jsx'])(_0x2648e8(0x1c0),{'value':'unassigned','children':_0x2648e8(0x203)})]})]})]})}),_0x34aa9d&&(0x0,_0x3bb94f[_0x2648e8(0x1e9)])('div',{'className':_0x2648e8(0x229),'children':(0x0,_0x3bb94f[_0x2648e8(0x1e9)])('p',{'className':'text-red-800','children':_0x34aa9d})}),(0x0,_0x3bb94f[_0x2648e8(0x1e9)])(_0x2648e8(0x1e5),{'className':'bg-white\x20rounded-lg\x20shadow-md\x20overflow-hidden','children':(0x0,_0x3bb94f['jsx'])(_0x2648e8(0x1e5),{'className':'divide-y\x20divide-gray-200','children':0x0===_0x5a6162['length']?(0x0,_0x3bb94f['jsxs'])('div',{'className':'p-12\x20text-center','children':[(0x0,_0x3bb94f['jsx'])('p',{'className':'text-gray-500\x20text-lg','children':'No\x20tickets\x20found'}),(0x0,_0x3bb94f[_0x2648e8(0x1e9)])('p',{'className':'text-gray-400\x20text-sm\x20mt-2','children':_0x2648e8(0x1bd)})]}):_0x5a6162[_0x2648e8(0x1ea)](_0x31be17=>{const _0x281a56=_0x2648e8;let _0x109599,_0x5a2a38;return(0x0,_0x3bb94f[_0x281a56(0x1e9)])('div',{'className':'p-6\x20hover:bg-gray-50\x20cursor-pointer\x20transition-colors','onClick':()=>_0x5f3fe7[_0x281a56(0x1e0)]('/admin/ticket?id='+_0x31be17['id']),'children':(0x0,_0x3bb94f[_0x281a56(0x1f8)])(_0x281a56(0x1e5),{'className':_0x281a56(0x1e2),'children':[(0x0,_0x3bb94f['jsxs'])(_0x281a56(0x1e5),{'className':_0x281a56(0x230),'children':[(0x0,_0x3bb94f[_0x281a56(0x1f8)])(_0x281a56(0x1e5),{'className':_0x281a56(0x1bc),'children':[(0x0,_0x3bb94f[_0x281a56(0x1e9)])('h3',{'className':'text-lg\x20font-semibold\x20text-gray-900\x20truncate','children':_0x31be17[_0x281a56(0x222)]}),(0x0,_0x3bb94f[_0x281a56(0x1e9)])(_0x281a56(0x211),{'className':'px-3\x20py-1\x20text-xs\x20font-medium\x20rounded-full\x20'+({'low':_0x281a56(0x1f0),'medium':'bg-blue-100\x20text-blue-800','high':_0x281a56(0x20b),'urgent':'bg-red-100\x20text-red-800'}[_0x31be17[_0x281a56(0x1dc)]]||_0x281a56(0x1f0)),'children':_0x31be17[_0x281a56(0x1dc)]})]}),(0x0,_0x3bb94f['jsx'])('p',{'className':_0x281a56(0x219),'children':_0x31be17[_0x281a56(0x1c3)]}),(0x0,_0x3bb94f[_0x281a56(0x1f8)])('div',{'className':_0x281a56(0x1f9),'children':[(0x0,_0x3bb94f['jsxs'])('span',{'children':[_0x281a56(0x1f3),_0x31be17['category'][_0x281a56(0x1bf)]('_')['map'](_0x1415f6=>_0x1415f6[_0x281a56(0x1ca)](0x0)[_0x281a56(0x224)]()+_0x1415f6['slice'](0x1))['join']('\x20')]}),(0x0,_0x3bb94f[_0x281a56(0x1f8)])('span',{'children':[_0x281a56(0x237),(_0x109599=new Date(_0x31be17[_0x281a56(0x1c2)]),0x0===(_0x5a2a38=Math[_0x281a56(0x1ec)]((new Date()['getTime']()-_0x109599[_0x281a56(0x20f)]())/0x5265c00))?'Today':0x1===_0x5a2a38?'Yesterday':_0x5a2a38<0x7?_0x5a2a38+'\x20days\x20ago':_0x109599[_0x281a56(0x1e4)]())]}),_0x31be17[_0x281a56(0x1d5)]&&_0x31be17[_0x281a56(0x1bb)]&&(0x0,_0x3bb94f[_0x281a56(0x1f8)])('span',{'children':['Assigned\x20to:\x20',_0x31be17[_0x281a56(0x1bb)][_0x281a56(0x22f)]]})]})]}),(0x0,_0x3bb94f[_0x281a56(0x1e9)])(_0x281a56(0x1e5),{'className':'ml-4\x20flex-shrink-0','children':(0x0,_0x3bb94f[_0x281a56(0x1e9)])('span',{'className':'px-4\x20py-2\x20text-sm\x20font-medium\x20rounded-full\x20'+({'open':'bg-blue-100\x20text-blue-800','in_progress':'bg-yellow-100\x20text-yellow-800','waiting_response':'bg-purple-100\x20text-purple-800','escalated':'bg-red-100\x20text-red-800','resolved':'bg-green-100\x20text-green-800','closed':_0x281a56(0x1f0)}[_0x31be17[_0x281a56(0x227)]]||'bg-gray-100\x20text-gray-800'),'children':_0x31be17['status'][_0x281a56(0x1bf)]('_')[_0x281a56(0x1ea)](_0x36f434=>_0x36f434[_0x281a56(0x1ca)](0x0)[_0x281a56(0x224)]()+_0x36f434[_0x281a56(0x234)](0x1))[_0x281a56(0x216)]('\x20')})})]})},_0x31be17['id']);})})}),(0x0,_0x3bb94f['jsx'])('div',{'className':'mt-6\x20flex\x20justify-center','children':(0x0,_0x3bb94f[_0x2648e8(0x1f8)])('p',{'className':'text-sm\x20text-gray-500','children':[_0x2648e8(0x235),_0x5a6162[_0x2648e8(0x200)],_0x2648e8(0x1ee)]})})]})}):null;}},0xc541:(_0x9644ea,_0x44714a,_0x58e87e)=>{'use strict';const _0x49d29d=_0x3ad753;var _0x2e881a=_0x58e87e(0xed0d);_0x58e87e['o'](_0x2e881a,'usePathname')&&_0x58e87e['d'](_0x44714a,{'usePathname':function(){const _0x4e6bf4=_0x3490;return _0x2e881a[_0x4e6bf4(0x1d7)];}}),_0x58e87e['o'](_0x2e881a,_0x49d29d(0x1fe))&&_0x58e87e['d'](_0x44714a,{'useRouter':function(){return _0x2e881a['useRouter'];}}),_0x58e87e['o'](_0x2e881a,'useSearchParams')&&_0x58e87e['d'](_0x44714a,{'useSearchParams':function(){const _0x4515f0=_0x49d29d;return _0x2e881a[_0x4515f0(0x1e8)];}});},0x10edb:(_0xaf87af,_0x1504a5,_0x47aba0)=>{'use strict';_0x47aba0['d'](_0x1504a5,{'A':()=>_0xee4d56});var _0x3f8331=_0x47aba0(0x5433),_0x1de041=_0x47aba0(0x3e0d);function _0xee4d56(){const _0x39957c=_0x3490;let [_0x174c70,_0x2a767d]=(0x0,_0x3f8331['useState'])(null),[_0x2d6aec,_0x191a7d]=(0x0,_0x3f8331[_0x39957c(0x1c1)])(!0x0),[_0x323d24,_0x3d6b61]=(0x0,_0x3f8331['useState'])(!0x1),[_0x1b117c,_0x21c359]=(0x0,_0x3f8331['useState'])(null),_0x3ff5d3=(0x0,_0x3f8331['useCallback'])(async()=>{const _0x5143f4=_0x39957c;try{let _0x2d016a=(0x0,_0x1de041[_0x5143f4(0x221)])(),{data:_0x31eea1,error:_0x4c25c4}=await _0x2d016a['auth']['refreshSession']();if(_0x4c25c4)return console['error'](_0x5143f4(0x1d3),_0x4c25c4),!0x1;if(!_0x31eea1?.['session'])return console[_0x5143f4(0x1c6)](_0x5143f4(0x217)),!0x1;return _0x21c359(_0x31eea1[_0x5143f4(0x1e6)]),_0x2a767d(_0x31eea1['session']['user']),console[_0x5143f4(0x20e)]('[useAuth]\x20Session\x20refreshed\x20successfully'),!0x0;}catch(_0x56d9d4){return console['error'](_0x5143f4(0x209),_0x56d9d4),!0x1;}},[]);return(0x0,_0x3f8331[_0x39957c(0x1eb)])(()=>{const _0x205350=_0x39957c;_0x1de041['api'][_0x205350(0x220)]()['then'](({data:{user:_0x9dfa81}})=>{_0x2a767d(_0x9dfa81),_0x191a7d(!0x1),_0x3d6b61(!0x0);})['catch'](()=>{_0x191a7d(!0x1),_0x3d6b61(!0x0);});let {data:{subscription:_0x1d13c6}}=_0x1de041['api']['onAuthStateChange'](async(_0x22291b,_0x351e48)=>{const _0x912053=_0x205350;console[_0x912053(0x20e)]('[useAuth]\x20Auth\x20state\x20change:',_0x22291b),_0x912053(0x1f6)===_0x22291b&&console['log'](_0x912053(0x223)),_0x21c359(_0x351e48),_0x2a767d(_0x351e48?.[_0x912053(0x205)]??null),_0x191a7d(!0x1),_0x3d6b61(!0x0);});return()=>_0x1d13c6['unsubscribe']();},[]),{'user':_0x174c70,'session':_0x1b117c,'loading':_0x2d6aec,'isReady':_0x323d24,'authenticated':!!_0x174c70,'refreshSession':_0x3ff5d3,'signOut':()=>_0x1de041['api']['signOut']()};}},0x14a5a:(_0x40c2a0,_0x8ed239,_0x349a54)=>{'use strict';_0x349a54['d'](_0x8ed239,{'c0':()=>_0x524f48,'Gs':()=>_0x4f6302,'oJ':()=>_0x5efd3b,'yS':()=>_0x2b5643,'dS':()=>_0x59fa5d,'tY':()=>_0x122f2e});var _0x1df296=_0x349a54(0x5433),_0x108621=_0x349a54(0x3e0d);function _0x12c3cd(_0x2d10f7={}){const _0x2a5cec=_0x3490;let {onTicketCreated:_0x219fcb,onTicketUpdated:_0x3069d3,onTicketDeleted:_0x3f939c,onMessageAdded:_0x17113d,ticketId:_0x1e8afd}=_0x2d10f7;(0x0,_0x1df296[_0x2a5cec(0x1eb)])(()=>{const _0x5a9204=_0x2a5cec;let _0x3daf55=(0x0,_0x108621['getSupabase'])(),_0x2ae248=_0x3daf55['channel'](_0x5a9204(0x1d1))['on'](_0x5a9204(0x207),{'event':'INSERT','schema':_0x5a9204(0x1db),'table':'support_tickets'},_0x48de3a=>{const _0x3c6a80=_0x5a9204;console[_0x3c6a80(0x20e)]('Ticket\x20created:',_0x48de3a),_0x219fcb?.(_0x48de3a);})['on']('postgres_changes',{'event':'UPDATE','schema':_0x5a9204(0x1db),'table':_0x5a9204(0x1d6),..._0x1e8afd?{'filter':_0x5a9204(0x231)+_0x1e8afd}:{}},_0x465761=>{console['log']('Ticket\x20updated:',_0x465761),_0x3069d3?.(_0x465761);})['on']('postgres_changes',{'event':'DELETE','schema':'api','table':'support_tickets'},_0x569c5d=>{const _0x17067c=_0x5a9204;console[_0x17067c(0x20e)]('Ticket\x20deleted:',_0x569c5d),_0x3f939c?.(_0x569c5d);})['subscribe'](),_0x1a08c1=null;return _0x1e8afd&&_0x17113d&&(_0x1a08c1=_0x3daf55[_0x5a9204(0x1fd)]('ticket_messages_changes')['on']('postgres_changes',{'event':'INSERT','schema':_0x5a9204(0x1db),'table':'ticket_messages','filter':_0x5a9204(0x1c7)+_0x1e8afd},_0x3c4f7d=>{const _0x185df7=_0x5a9204;console[_0x185df7(0x20e)](_0x185df7(0x22e),_0x3c4f7d),_0x17113d(_0x3c4f7d);})[_0x5a9204(0x1da)]()),()=>{const _0x3edb3d=_0x5a9204;_0x3daf55[_0x3edb3d(0x1f1)](_0x2ae248),_0x1a08c1&&_0x3daf55[_0x3edb3d(0x1f1)](_0x1a08c1);};},[_0x219fcb,_0x3069d3,_0x3f939c,_0x17113d,_0x1e8afd]);}function _0x59fa5d(_0x5631b8={}){const _0x494262=_0x3490;let [_0x3916b0,_0x3868de]=(0x0,_0x1df296[_0x494262(0x1c1)])([]),[_0xbbb738,_0x25b778]=(0x0,_0x1df296['useState'])(!0x0),[_0x35ebb5,_0x21a148]=(0x0,_0x1df296[_0x494262(0x1c1)])(null),[_0x15c346,_0x53aaa6]=(0x0,_0x1df296['useState'])(0x0),_0x2b836d=(0x0,_0x1df296['useCallback'])(async()=>{const _0x35ec03=_0x494262;try{_0x25b778(!0x0),_0x21a148(null);let {tickets:_0x4f700c,total:_0x474003}=await _0x108621[_0x35ec03(0x1db)][_0x35ec03(0x1f7)]({'status':_0x5631b8['status'],'category':_0x5631b8['category'],'assigned_to':_0x5631b8[_0x35ec03(0x1d5)]});_0x3868de(_0x4f700c),_0x53aaa6(_0x474003);}catch(_0x40bc8a){_0x21a148(_0x40bc8a instanceof Error?_0x40bc8a[_0x35ec03(0x212)]:'Failed\x20to\x20fetch\x20tickets');}finally{_0x25b778(!0x1);}},[_0x5631b8[_0x494262(0x227)],_0x5631b8['category'],_0x5631b8[_0x494262(0x1d5)]]);return(0x0,_0x1df296[_0x494262(0x1eb)])(()=>{const _0x2d351d=_0x494262;if(_0x2b836d(),_0x5631b8['autoRefresh']&&_0x5631b8[_0x2d351d(0x202)]){let _0x10e4d3=setInterval(_0x2b836d,_0x5631b8[_0x2d351d(0x202)]);return()=>clearInterval(_0x10e4d3);}},[_0x2b836d,_0x5631b8['autoRefresh'],_0x5631b8['refreshInterval']]),_0x12c3cd({'onTicketCreated':!0x1!==_0x5631b8['enableRealtime']?()=>_0x2b836d():void 0x0,'onTicketUpdated':!0x1!==_0x5631b8['enableRealtime']?()=>_0x2b836d():void 0x0,'onTicketDeleted':!0x1!==_0x5631b8['enableRealtime']?()=>_0x2b836d():void 0x0}),{'tickets':_0x3916b0,'loading':_0xbbb738,'error':_0x35ebb5,'total':_0x15c346,'refetch':_0x2b836d};}function _0x2b5643(_0xdc49f4,_0x566b6e=!0x0){const _0x4be87c=_0x3490;let [_0x1f1db4,_0x519f62]=(0x0,_0x1df296['useState'])(null),[_0x274749,_0x1d5b36]=(0x0,_0x1df296['useState'])(!0x0),[_0x4f7c31,_0x5f3466]=(0x0,_0x1df296['useState'])(null),_0x55947d=(0x0,_0x1df296[_0x4be87c(0x206)])(async()=>{const _0x24d33c=_0x4be87c;if(!_0xdc49f4){_0x519f62(null),_0x1d5b36(!0x1);return;}try{_0x1d5b36(!0x0),_0x5f3466(null);let _0xaa2916=await _0x108621['api'][_0x24d33c(0x1ed)](_0xdc49f4);_0x519f62(_0xaa2916);}catch(_0x42e240){_0x5f3466(_0x42e240 instanceof Error?_0x42e240['message']:'Failed\x20to\x20fetch\x20ticket');}finally{_0x1d5b36(!0x1);}},[_0xdc49f4]);return(0x0,_0x1df296['useEffect'])(()=>{_0x55947d();},[_0x55947d]),_0x12c3cd({'ticketId':_0xdc49f4||void 0x0,'onTicketUpdated':_0x566b6e?()=>_0x55947d():void 0x0,'onMessageAdded':_0x566b6e?()=>_0x55947d():void 0x0}),{'ticket':_0x1f1db4,'loading':_0x274749,'error':_0x4f7c31,'refetch':_0x55947d};}function _0x4f6302(){const _0x57b821=_0x3490;let [_0x5f054e,_0x5edc4d]=(0x0,_0x1df296['useState'])(!0x1),[_0x234640,_0x3b144c]=(0x0,_0x1df296[_0x57b821(0x1c1)])(null);return{'createTicket':async _0x9715f9=>{const _0x3805a5=_0x57b821;try{return _0x5edc4d(!0x0),_0x3b144c(null),(await _0x108621['api']['createTicket'](_0x9715f9))[_0x3805a5(0x201)];}catch(_0x69e1ed){let _0x3de1d8=_0x69e1ed instanceof Error?_0x69e1ed['message']:_0x3805a5(0x232);throw _0x3b144c(_0x3de1d8),Error(_0x3de1d8);}finally{_0x5edc4d(!0x1);}},'loading':_0x5f054e,'error':_0x234640};}function _0x122f2e(){const _0x30139e=_0x3490;let [_0x2cb01f,_0x2ac68c]=(0x0,_0x1df296[_0x30139e(0x1c1)])(!0x1),[_0x459d12,_0x5e680a]=(0x0,_0x1df296['useState'])(null);return{'updateTicket':async _0x377732=>{const _0x37effa=_0x30139e;try{return _0x2ac68c(!0x0),_0x5e680a(null),(await _0x108621['api']['updateTicket'](_0x377732))[_0x37effa(0x201)];}catch(_0x5d3f9d){let _0x25170b=_0x5d3f9d instanceof Error?_0x5d3f9d[_0x37effa(0x212)]:'Failed\x20to\x20update\x20ticket';throw _0x5e680a(_0x25170b),Error(_0x25170b);}finally{_0x2ac68c(!0x1);}},'loading':_0x2cb01f,'error':_0x459d12};}function _0x5efd3b(){let [_0x4068aa,_0x405d45]=(0x0,_0x1df296['useState'])(!0x1),[_0x398e7a,_0x528bf2]=(0x0,_0x1df296['useState'])(null);return{'escalateTicket':async _0x4f0f59=>{const _0x4a746d=_0x3490;try{return _0x405d45(!0x0),_0x528bf2(null),(await _0x108621[_0x4a746d(0x1db)][_0x4a746d(0x1f4)](_0x4f0f59))['ticket'];}catch(_0x4a7ae4){let _0x52c438=_0x4a7ae4 instanceof Error?_0x4a7ae4[_0x4a746d(0x212)]:'Failed\x20to\x20escalate\x20ticket';throw _0x528bf2(_0x52c438),Error(_0x52c438);}finally{_0x405d45(!0x1);}},'loading':_0x4068aa,'error':_0x398e7a};}function _0x524f48(){const _0x2a1e63=_0x3490;let [_0x8640cc,_0x5eefd5]=(0x0,_0x1df296[_0x2a1e63(0x1c1)])(!0x1),[_0x4c784e,_0x31b25b]=(0x0,_0x1df296[_0x2a1e63(0x1c1)])(null);return{'addMessage':async _0x1d3f8d=>{const _0x2f777f=_0x2a1e63;try{return _0x5eefd5(!0x0),_0x31b25b(null),(await _0x108621['api'][_0x2f777f(0x1cd)](_0x1d3f8d))['message'];}catch(_0x162ac7){let _0x253a16=_0x162ac7 instanceof Error?_0x162ac7['message']:'Failed\x20to\x20add\x20message';throw _0x31b25b(_0x253a16),Error(_0x253a16);}finally{_0x5eefd5(!0x1);}},'loading':_0x8640cc,'error':_0x4c784e};}},0x1608e:(_0x3b17dc,_0x3eef7a,_0x346063)=>{const _0x457342=_0x3ad753;Promise['resolve']()['then'](_0x346063[_0x457342(0x1d0)](_0x346063,0x4db1));}},_0x40c89b=>{_0x40c89b['O'](0x0,[0x2603,0x259f,0x16fd,0x1b1b,0x492,0x1cbe],()=>_0x40c89b(_0x40c89b['s']=0x1608e)),_N_E=_0x40c89b['O']();}]));