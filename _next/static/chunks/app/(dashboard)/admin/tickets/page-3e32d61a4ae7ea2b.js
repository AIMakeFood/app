function _0x3ff3(){const _0x3a12ad=['getProfile','getTickets','join','auth','ml-4\x20flex-shrink-0','enableRealtime','animate-spin\x20rounded-full\x20h-12\x20w-12\x20border-b-2\x20border-emerald-600\x20mx-auto','981444jxSEdy','bg-white\x20rounded-lg\x20shadow-md\x20overflow-hidden','Failed\x20to\x20fetch\x20ticket','then','refreshInterval','Failed\x20to\x20update\x20ticket','open','billing','Yesterday','useEffect','INSERT','Created:\x20','api','Category:\x20','floor','error','283719bSKTgW','support','technical','subscribe','6541359oIGMnP','bg-red-100\x20text-red-800','jsxs','id=eq.','/dashboard','support_tickets','set','catch','closed','log','signOut','Failed\x20to\x20escalate\x20ticket','Failed\x20to\x20fetch\x20tickets','waiting_response','Other','toLocaleDateString','target','flex-1\x20min-w-0','8PGFnOY','mb-8','escalateTicket','bg-red-50\x20border\x20border-red-200\x20rounded-lg\x20p-4\x20mb-6','164062TAolFc','bg-purple-100\x20text-purple-800','10HYaQSK','ticket_id=eq.','Waiting\x20Response','max-w-7xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','push','min-h-screen\x20bg-gray-50\x20py-8','useState','text-red-800','split','value','in_progress','Support\x20Tickets','2OZQFcJ','status','block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-2','\x20days\x20ago','3800765gwVccx','bg-yellow-100\x20text-yellow-800','admin','useCallback','All\x20Tickets','1336986pbRbNC','option','label','createTicket','assignee','p-12\x20text-center','message','DELETE','2676548IBijzF','ticket','assigned_to','Subscription','TOKEN_REFRESHED','Status','user','includes','slice','Failed\x20to\x20add\x20message','text-gray-600\x20text-sm\x20mb-3\x20line-clamp-2','/auth/login','span','w-full\x20px-3\x20py-2\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent','bg-gray-100\x20text-gray-800','length','channel','manager','ticket_messages','No\x20tickets\x20found','Account','flex\x20items-center\x20gap-3\x20mb-2','text-center','resolve','useSearchParams','all','other','div','useRouter','getTime','Message\x20added:','get','toUpperCase','getSupabase','category','Manage\x20and\x20respond\x20to\x20user\x20support\x20requests','24uaZLQk','map','Loading\x20tickets...','autoRefresh','jsx','getUser','All\x20Categories','px-4\x20py-2\x20text-sm\x20font-medium\x20rounded-full\x20','bg-orange-100\x20text-orange-800','addTicketMessage','grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4','bg-blue-100\x20text-blue-800'];_0x3ff3=function(){return _0x3a12ad;};return _0x3ff3();}function _0xb470(_0x241770,_0x5e2f3a){_0x241770=_0x241770-0x143;const _0x3ff3d8=_0x3ff3();let _0xb470f6=_0x3ff3d8[_0x241770];return _0xb470f6;}(function(_0x515d60,_0x997787){const _0x5cf17f=_0xb470,_0x1d01f1=_0x515d60();while(!![]){try{const _0x591ec8=-parseInt(_0x5cf17f(0x15e))/0x1*(parseInt(_0x5cf17f(0x16c))/0x2)+-parseInt(_0x5cf17f(0x144))/0x3*(-parseInt(_0x5cf17f(0x15a))/0x4)+parseInt(_0x5cf17f(0x170))/0x5+parseInt(_0x5cf17f(0x1b4))/0x6+-parseInt(_0x5cf17f(0x17d))/0x7+parseInt(_0x5cf17f(0x1a1))/0x8*(parseInt(_0x5cf17f(0x175))/0x9)+parseInt(_0x5cf17f(0x160))/0xa*(-parseInt(_0x5cf17f(0x148))/0xb);if(_0x591ec8===_0x997787)break;else _0x1d01f1['push'](_0x1d01f1['shift']());}catch(_0x1b15f8){_0x1d01f1['push'](_0x1d01f1['shift']());}}}(_0x3ff3,0x65ea0),(self['webpackChunk_N_E']=self['webpackChunk_N_E']||[])['push']([[0x2f4],{0x4db1:(_0x46dae6,_0x681b6e,_0xd9d96e)=>{'use strict';_0xd9d96e['r'](_0x681b6e),_0xd9d96e['d'](_0x681b6e,{'default':()=>_0x12b18f});var _0x5f317f=_0xd9d96e(0xd773),_0x4273a6=_0xd9d96e(0x5433),_0x2164cf=_0xd9d96e(0x10edb),_0xa8f0fc=_0xd9d96e(0xc541),_0x146f4c=_0xd9d96e(0x14a5a);function _0x12b18f(){const _0x38bfe7=_0xb470;let {user:_0x565cc8,loading:_0x5eea6e}=(0x0,_0x2164cf['A'])(),_0x34c97d=(0x0,_0xa8f0fc[_0x38bfe7(0x199)])(),_0x11da65=(0x0,_0xa8f0fc['useSearchParams'])(),_0x486c98=_0x11da65[_0x38bfe7(0x19c)]('status')||void 0x0,_0x32b585=_0x11da65['get'](_0x38bfe7(0x19f))||void 0x0,_0x32e110=_0x11da65['get']('assigned_to')||void 0x0,{tickets:_0x467ab8,loading:_0x5412ad,error:_0x34d8c6,refetch:_0x2615f9}=(0x0,_0x146f4c['dS'])({'status':_0x486c98,'category':_0x32b585,'assigned_to':_0x32e110,'autoRefresh':!0x0,'refreshInterval':0x7530}),[_0x47dec2,_0x244b6e]=(0x0,_0x4273a6['useState'])(_0x486c98||_0x38bfe7(0x196)),[_0x4efdee,_0x293c00]=(0x0,_0x4273a6[_0x38bfe7(0x166)])(_0x32b585||'all'),[_0x4646a7,_0x5e5933]=(0x0,_0x4273a6['useState'])(_0x32e110||'all'),[_0x33c5b1,_0x486457]=(0x0,_0x4273a6[_0x38bfe7(0x166)])(null);return((0x0,_0x4273a6[_0x38bfe7(0x1bd)])(()=>{const _0x26bcc7=_0x38bfe7;_0x5eea6e||_0x565cc8?_0x565cc8&&Promise[_0x26bcc7(0x194)]()['then'](_0xd9d96e['bind'](_0xd9d96e,0x3e0d))['then'](({api:_0x30faaa})=>{const _0x4bf4e5=_0x26bcc7;_0x30faaa[_0x4bf4e5(0x1ad)]()[_0x4bf4e5(0x1b7)](_0x3b88a8=>{const _0x27575f=_0x4bf4e5;_0x486457(_0x3b88a8),_0x3b88a8&&!['admin',_0x27575f(0x18e),_0x27575f(0x145)]['includes'](_0x3b88a8['user_role']||'')&&_0x34c97d['push'](_0x27575f(0x14c));})['catch'](()=>{const _0xd99af7=_0x4bf4e5;_0x34c97d[_0xd99af7(0x164)](_0xd99af7(0x14c));});}):_0x34c97d['push'](_0x26bcc7(0x188));},[_0x565cc8,_0x5eea6e,_0x34c97d]),(0x0,_0x4273a6['useEffect'])(()=>{const _0x31042c=_0x38bfe7;let _0x157a03=new URLSearchParams();'all'!==_0x47dec2&&_0x157a03[_0x31042c(0x14e)]('status',_0x47dec2),'all'!==_0x4efdee&&_0x157a03['set'](_0x31042c(0x19f),_0x4efdee),_0x31042c(0x196)!==_0x4646a7&&_0x157a03[_0x31042c(0x14e)]('assigned_to',_0x4646a7);let _0x33c4d3=_0x157a03['toString']()?'?'+_0x157a03:'/admin/tickets';_0x34c97d[_0x31042c(0x164)](_0x33c4d3);},[_0x47dec2,_0x4efdee,_0x4646a7,_0x34c97d]),_0x5eea6e||_0x5412ad)?(0x0,_0x5f317f[_0x38bfe7(0x1a5)])('div',{'className':'flex\x20items-center\x20justify-center\x20min-h-screen','children':(0x0,_0x5f317f['jsxs'])('div',{'className':_0x38bfe7(0x193),'children':[(0x0,_0x5f317f['jsx'])('div',{'className':_0x38bfe7(0x1b3)}),(0x0,_0x5f317f['jsx'])('p',{'className':'mt-4\x20text-gray-600','children':_0x38bfe7(0x1a3)})]})}):_0x33c5b1&&[_0x38bfe7(0x172),_0x38bfe7(0x18e),_0x38bfe7(0x145)][_0x38bfe7(0x184)](_0x33c5b1['user_role']||'')?(0x0,_0x5f317f['jsx'])('div',{'className':_0x38bfe7(0x165),'children':(0x0,_0x5f317f['jsxs'])(_0x38bfe7(0x198),{'className':_0x38bfe7(0x163),'children':[(0x0,_0x5f317f['jsxs'])(_0x38bfe7(0x198),{'className':_0x38bfe7(0x15b),'children':[(0x0,_0x5f317f[_0x38bfe7(0x1a5)])('h1',{'className':'text-3xl\x20font-bold\x20text-gray-900','children':_0x38bfe7(0x16b)}),(0x0,_0x5f317f[_0x38bfe7(0x1a5)])('p',{'className':'mt-2\x20text-gray-600','children':_0x38bfe7(0x1a0)})]}),(0x0,_0x5f317f['jsx'])(_0x38bfe7(0x198),{'className':'bg-white\x20rounded-lg\x20shadow-md\x20p-6\x20mb-6','children':(0x0,_0x5f317f[_0x38bfe7(0x14a)])('div',{'className':_0x38bfe7(0x1ab),'children':[(0x0,_0x5f317f[_0x38bfe7(0x14a)])(_0x38bfe7(0x198),{'children':[(0x0,_0x5f317f[_0x38bfe7(0x1a5)])(_0x38bfe7(0x177),{'className':_0x38bfe7(0x16e),'children':_0x38bfe7(0x182)}),(0x0,_0x5f317f['jsxs'])('select',{'value':_0x47dec2,'onChange':_0x3ec4f4=>_0x244b6e(_0x3ec4f4[_0x38bfe7(0x158)]['value']),'className':_0x38bfe7(0x18a),'children':[(0x0,_0x5f317f['jsx'])(_0x38bfe7(0x176),{'value':'all','children':'All\x20Statuses'}),(0x0,_0x5f317f['jsx'])('option',{'value':_0x38bfe7(0x1ba),'children':'Open'}),(0x0,_0x5f317f[_0x38bfe7(0x1a5)])('option',{'value':_0x38bfe7(0x16a),'children':'In\x20Progress'}),(0x0,_0x5f317f[_0x38bfe7(0x1a5)])('option',{'value':_0x38bfe7(0x155),'children':_0x38bfe7(0x162)}),(0x0,_0x5f317f['jsx'])('option',{'value':'escalated','children':'Escalated'}),(0x0,_0x5f317f[_0x38bfe7(0x1a5)])(_0x38bfe7(0x176),{'value':'resolved','children':'Resolved'}),(0x0,_0x5f317f[_0x38bfe7(0x1a5)])('option',{'value':_0x38bfe7(0x150),'children':'Closed'})]})]}),(0x0,_0x5f317f['jsxs'])(_0x38bfe7(0x198),{'children':[(0x0,_0x5f317f['jsx'])('label',{'className':'block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-2','children':'Category'}),(0x0,_0x5f317f['jsxs'])('select',{'value':_0x4efdee,'onChange':_0x23e481=>_0x293c00(_0x23e481['target']['value']),'className':'w-full\x20px-3\x20py-2\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent','children':[(0x0,_0x5f317f['jsx'])(_0x38bfe7(0x176),{'value':'all','children':_0x38bfe7(0x1a7)}),(0x0,_0x5f317f[_0x38bfe7(0x1a5)])(_0x38bfe7(0x176),{'value':'subscription','children':_0x38bfe7(0x180)}),(0x0,_0x5f317f['jsx'])(_0x38bfe7(0x176),{'value':_0x38bfe7(0x146),'children':'Technical'}),(0x0,_0x5f317f['jsx'])('option',{'value':'account','children':_0x38bfe7(0x191)}),(0x0,_0x5f317f[_0x38bfe7(0x1a5)])(_0x38bfe7(0x176),{'value':_0x38bfe7(0x1bb),'children':'Billing'}),(0x0,_0x5f317f['jsx'])('option',{'value':'feature_request','children':'Feature\x20Request'}),(0x0,_0x5f317f[_0x38bfe7(0x1a5)])('option',{'value':'bug_report','children':'Bug\x20Report'}),(0x0,_0x5f317f['jsx'])('option',{'value':_0x38bfe7(0x197),'children':_0x38bfe7(0x156)})]})]}),(0x0,_0x5f317f[_0x38bfe7(0x14a)])(_0x38bfe7(0x198),{'children':[(0x0,_0x5f317f['jsx'])('label',{'className':_0x38bfe7(0x16e),'children':'Assignment'}),(0x0,_0x5f317f['jsxs'])('select',{'value':_0x4646a7,'onChange':_0xc6d2dc=>_0x5e5933(_0xc6d2dc['target'][_0x38bfe7(0x169)]),'className':'w-full\x20px-3\x20py-2\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent','children':[(0x0,_0x5f317f['jsx'])('option',{'value':_0x38bfe7(0x196),'children':_0x38bfe7(0x174)}),(0x0,_0x5f317f['jsx'])(_0x38bfe7(0x176),{'value':'me','children':'Assigned\x20to\x20Me'}),(0x0,_0x5f317f['jsx'])('option',{'value':'unassigned','children':'Unassigned'})]})]})]})}),_0x34d8c6&&(0x0,_0x5f317f['jsx'])(_0x38bfe7(0x198),{'className':_0x38bfe7(0x15d),'children':(0x0,_0x5f317f['jsx'])('p',{'className':_0x38bfe7(0x167),'children':_0x34d8c6})}),(0x0,_0x5f317f[_0x38bfe7(0x1a5)])(_0x38bfe7(0x198),{'className':_0x38bfe7(0x1b5),'children':(0x0,_0x5f317f['jsx'])(_0x38bfe7(0x198),{'className':'divide-y\x20divide-gray-200','children':0x0===_0x467ab8['length']?(0x0,_0x5f317f['jsxs'])(_0x38bfe7(0x198),{'className':_0x38bfe7(0x17a),'children':[(0x0,_0x5f317f[_0x38bfe7(0x1a5)])('p',{'className':'text-gray-500\x20text-lg','children':_0x38bfe7(0x190)}),(0x0,_0x5f317f[_0x38bfe7(0x1a5)])('p',{'className':'text-gray-400\x20text-sm\x20mt-2','children':'Try\x20adjusting\x20your\x20filters'})]}):_0x467ab8[_0x38bfe7(0x1a2)](_0x2ce088=>{const _0x4312f4=_0x38bfe7;let _0xed85b,_0x44e20f;return(0x0,_0x5f317f['jsx'])('div',{'className':'p-6\x20hover:bg-gray-50\x20cursor-pointer\x20transition-colors','onClick':()=>_0x34c97d[_0x4312f4(0x164)]('/admin/ticket?id='+_0x2ce088['id']),'children':(0x0,_0x5f317f['jsxs'])('div',{'className':'flex\x20items-start\x20justify-between','children':[(0x0,_0x5f317f[_0x4312f4(0x14a)])('div',{'className':_0x4312f4(0x159),'children':[(0x0,_0x5f317f[_0x4312f4(0x14a)])(_0x4312f4(0x198),{'className':_0x4312f4(0x192),'children':[(0x0,_0x5f317f[_0x4312f4(0x1a5)])('h3',{'className':'text-lg\x20font-semibold\x20text-gray-900\x20truncate','children':_0x2ce088['title']}),(0x0,_0x5f317f[_0x4312f4(0x1a5)])('span',{'className':'px-3\x20py-1\x20text-xs\x20font-medium\x20rounded-full\x20'+({'low':'bg-gray-100\x20text-gray-800','medium':_0x4312f4(0x1ac),'high':_0x4312f4(0x1a9),'urgent':'bg-red-100\x20text-red-800'}[_0x2ce088['priority']]||'bg-gray-100\x20text-gray-800'),'children':_0x2ce088['priority']})]}),(0x0,_0x5f317f[_0x4312f4(0x1a5)])('p',{'className':_0x4312f4(0x187),'children':_0x2ce088['description']}),(0x0,_0x5f317f['jsxs'])(_0x4312f4(0x198),{'className':'flex\x20flex-wrap\x20gap-4\x20text-xs\x20text-gray-500','children':[(0x0,_0x5f317f[_0x4312f4(0x14a)])(_0x4312f4(0x189),{'children':[_0x4312f4(0x1c1),_0x2ce088[_0x4312f4(0x19f)][_0x4312f4(0x168)]('_')['map'](_0x584c50=>_0x584c50['charAt'](0x0)[_0x4312f4(0x19d)]()+_0x584c50[_0x4312f4(0x185)](0x1))[_0x4312f4(0x1af)]('\x20')]}),(0x0,_0x5f317f[_0x4312f4(0x14a)])('span',{'children':[_0x4312f4(0x1bf),(_0xed85b=new Date(_0x2ce088['created_at']),0x0===(_0x44e20f=Math[_0x4312f4(0x1c2)]((new Date()['getTime']()-_0xed85b[_0x4312f4(0x19a)]())/0x5265c00))?'Today':0x1===_0x44e20f?_0x4312f4(0x1bc):_0x44e20f<0x7?_0x44e20f+_0x4312f4(0x16f):_0xed85b[_0x4312f4(0x157)]())]}),_0x2ce088[_0x4312f4(0x17f)]&&_0x2ce088['assignee']&&(0x0,_0x5f317f['jsxs'])('span',{'children':['Assigned\x20to:\x20',_0x2ce088[_0x4312f4(0x179)]['display_name']]})]})]}),(0x0,_0x5f317f[_0x4312f4(0x1a5)])('div',{'className':_0x4312f4(0x1b1),'children':(0x0,_0x5f317f[_0x4312f4(0x1a5)])(_0x4312f4(0x189),{'className':_0x4312f4(0x1a8)+({'open':'bg-blue-100\x20text-blue-800','in_progress':_0x4312f4(0x171),'waiting_response':_0x4312f4(0x15f),'escalated':_0x4312f4(0x149),'resolved':'bg-green-100\x20text-green-800','closed':'bg-gray-100\x20text-gray-800'}[_0x2ce088['status']]||_0x4312f4(0x18b)),'children':_0x2ce088[_0x4312f4(0x16d)][_0x4312f4(0x168)]('_')['map'](_0xdf6393=>_0xdf6393['charAt'](0x0)[_0x4312f4(0x19d)]()+_0xdf6393['slice'](0x1))[_0x4312f4(0x1af)]('\x20')})})]})},_0x2ce088['id']);})})}),(0x0,_0x5f317f['jsx'])('div',{'className':'mt-6\x20flex\x20justify-center','children':(0x0,_0x5f317f['jsxs'])('p',{'className':'text-sm\x20text-gray-500','children':['Showing\x20',_0x467ab8[_0x38bfe7(0x18c)],'\x20tickets']})})]})}):null;}},0xc541:(_0x7ed9c3,_0x13b055,_0x549b22)=>{'use strict';const _0x40e11f=_0xb470;var _0x3618d7=_0x549b22(0xed0d);_0x549b22['o'](_0x3618d7,'usePathname')&&_0x549b22['d'](_0x13b055,{'usePathname':function(){return _0x3618d7['usePathname'];}}),_0x549b22['o'](_0x3618d7,'useRouter')&&_0x549b22['d'](_0x13b055,{'useRouter':function(){return _0x3618d7['useRouter'];}}),_0x549b22['o'](_0x3618d7,_0x40e11f(0x195))&&_0x549b22['d'](_0x13b055,{'useSearchParams':function(){return _0x3618d7['useSearchParams'];}});},0x10edb:(_0x2a3eb0,_0x525939,_0x4a0907)=>{'use strict';_0x4a0907['d'](_0x525939,{'A':()=>_0x5b5a14});var _0x5d1887=_0x4a0907(0x5433),_0xc7ebd2=_0x4a0907(0x3e0d);function _0x5b5a14(){const _0x3588cd=_0xb470;let [_0x1a6d29,_0x1d25d]=(0x0,_0x5d1887[_0x3588cd(0x166)])(null),[_0x357133,_0x5f26f2]=(0x0,_0x5d1887['useState'])(!0x0),[_0x17a774,_0x363531]=(0x0,_0x5d1887[_0x3588cd(0x166)])(!0x1),[_0x2af470,_0x48243a]=(0x0,_0x5d1887[_0x3588cd(0x166)])(null),_0x128c6c=(0x0,_0x5d1887['useCallback'])(async()=>{const _0x3e2b7c=_0x3588cd;try{let _0x33c0aa=(0x0,_0xc7ebd2[_0x3e2b7c(0x19e)])(),{data:_0x142fb8,error:_0x3e79f2}=await _0x33c0aa[_0x3e2b7c(0x1b0)]['refreshSession']();if(_0x3e79f2)return console[_0x3e2b7c(0x143)]('[useAuth]\x20Refresh\x20error:',_0x3e79f2),!0x1;if(!_0x142fb8?.['session'])return console[_0x3e2b7c(0x143)]('[useAuth]\x20No\x20session\x20returned\x20after\x20refresh'),!0x1;return _0x48243a(_0x142fb8['session']),_0x1d25d(_0x142fb8['session'][_0x3e2b7c(0x183)]),console['log']('[useAuth]\x20Session\x20refreshed\x20successfully'),!0x0;}catch(_0x522992){return console['error']('[useAuth]\x20Failed\x20to\x20refresh:',_0x522992),!0x1;}},[]);return(0x0,_0x5d1887['useEffect'])(()=>{const _0x5b3889=_0x3588cd;_0xc7ebd2[_0x5b3889(0x1c0)][_0x5b3889(0x1a6)]()[_0x5b3889(0x1b7)](({data:{user:_0x3f8494}})=>{_0x1d25d(_0x3f8494),_0x5f26f2(!0x1),_0x363531(!0x0);})[_0x5b3889(0x14f)](()=>{_0x5f26f2(!0x1),_0x363531(!0x0);});let {data:{subscription:_0x50ea4f}}=_0xc7ebd2['api']['onAuthStateChange'](async(_0x3854a3,_0x3c422d)=>{const _0x5561e3=_0x5b3889;console[_0x5561e3(0x151)]('[useAuth]\x20Auth\x20state\x20change:',_0x3854a3),_0x5561e3(0x181)===_0x3854a3&&console['log']('[useAuth]\x20Token\x20refreshed\x20successfully'),_0x48243a(_0x3c422d),_0x1d25d(_0x3c422d?.[_0x5561e3(0x183)]??null),_0x5f26f2(!0x1),_0x363531(!0x0);});return()=>_0x50ea4f['unsubscribe']();},[]),{'user':_0x1a6d29,'session':_0x2af470,'loading':_0x357133,'isReady':_0x17a774,'authenticated':!!_0x1a6d29,'refreshSession':_0x128c6c,'signOut':()=>_0xc7ebd2['api'][_0x3588cd(0x152)]()};}},0x14a5a:(_0x33b273,_0x4f8619,_0x2abbf5)=>{'use strict';_0x2abbf5['d'](_0x4f8619,{'c0':()=>_0x3f33e7,'Gs':()=>_0x3cd44c,'oJ':()=>_0x42f48b,'yS':()=>_0x3a1e8b,'dS':()=>_0x43ff6d,'tY':()=>_0xfe5cee});var _0x38bd5a=_0x2abbf5(0x5433),_0x898363=_0x2abbf5(0x3e0d);function _0x491978(_0x472252={}){const _0x4dc254=_0xb470;let {onTicketCreated:_0x13c0ff,onTicketUpdated:_0xc94796,onTicketDeleted:_0x51db49,onMessageAdded:_0xd106a8,ticketId:_0x1a9aaf}=_0x472252;(0x0,_0x38bd5a[_0x4dc254(0x1bd)])(()=>{const _0x24c213=_0x4dc254;let _0x173155=(0x0,_0x898363[_0x24c213(0x19e)])(),_0x5adb98=_0x173155[_0x24c213(0x18d)]('support_tickets_changes')['on']('postgres_changes',{'event':_0x24c213(0x1be),'schema':_0x24c213(0x1c0),'table':_0x24c213(0x14d)},_0x52690e=>{console['log']('Ticket\x20created:',_0x52690e),_0x13c0ff?.(_0x52690e);})['on']('postgres_changes',{'event':'UPDATE','schema':_0x24c213(0x1c0),'table':_0x24c213(0x14d),..._0x1a9aaf?{'filter':_0x24c213(0x14b)+_0x1a9aaf}:{}},_0x12326c=>{const _0x20d997=_0x24c213;console[_0x20d997(0x151)]('Ticket\x20updated:',_0x12326c),_0xc94796?.(_0x12326c);})['on']('postgres_changes',{'event':_0x24c213(0x17c),'schema':'api','table':_0x24c213(0x14d)},_0x41a37c=>{console['log']('Ticket\x20deleted:',_0x41a37c),_0x51db49?.(_0x41a37c);})[_0x24c213(0x147)](),_0x194c46=null;return _0x1a9aaf&&_0xd106a8&&(_0x194c46=_0x173155['channel']('ticket_messages_changes')['on']('postgres_changes',{'event':'INSERT','schema':'api','table':_0x24c213(0x18f),'filter':_0x24c213(0x161)+_0x1a9aaf},_0x58fa5b=>{const _0x3c1b32=_0x24c213;console['log'](_0x3c1b32(0x19b),_0x58fa5b),_0xd106a8(_0x58fa5b);})[_0x24c213(0x147)]()),()=>{_0x173155['removeChannel'](_0x5adb98),_0x194c46&&_0x173155['removeChannel'](_0x194c46);};},[_0x13c0ff,_0xc94796,_0x51db49,_0xd106a8,_0x1a9aaf]);}function _0x43ff6d(_0x433f18={}){const _0x10865a=_0xb470;let [_0x376804,_0x188518]=(0x0,_0x38bd5a[_0x10865a(0x166)])([]),[_0x1fd617,_0x356ea3]=(0x0,_0x38bd5a['useState'])(!0x0),[_0x45ea9c,_0x4ed607]=(0x0,_0x38bd5a[_0x10865a(0x166)])(null),[_0x3e2edd,_0x1926a2]=(0x0,_0x38bd5a['useState'])(0x0),_0x55e720=(0x0,_0x38bd5a['useCallback'])(async()=>{const _0x578493=_0x10865a;try{_0x356ea3(!0x0),_0x4ed607(null);let {tickets:_0xcfd292,total:_0x5edb09}=await _0x898363['api'][_0x578493(0x1ae)]({'status':_0x433f18['status'],'category':_0x433f18['category'],'assigned_to':_0x433f18['assigned_to']});_0x188518(_0xcfd292),_0x1926a2(_0x5edb09);}catch(_0x22d54c){_0x4ed607(_0x22d54c instanceof Error?_0x22d54c['message']:_0x578493(0x154));}finally{_0x356ea3(!0x1);}},[_0x433f18[_0x10865a(0x16d)],_0x433f18['category'],_0x433f18['assigned_to']]);return(0x0,_0x38bd5a['useEffect'])(()=>{const _0x2f0977=_0x10865a;if(_0x55e720(),_0x433f18[_0x2f0977(0x1a4)]&&_0x433f18[_0x2f0977(0x1b8)]){let _0xc94a16=setInterval(_0x55e720,_0x433f18['refreshInterval']);return()=>clearInterval(_0xc94a16);}},[_0x55e720,_0x433f18[_0x10865a(0x1a4)],_0x433f18['refreshInterval']]),_0x491978({'onTicketCreated':!0x1!==_0x433f18['enableRealtime']?()=>_0x55e720():void 0x0,'onTicketUpdated':!0x1!==_0x433f18['enableRealtime']?()=>_0x55e720():void 0x0,'onTicketDeleted':!0x1!==_0x433f18[_0x10865a(0x1b2)]?()=>_0x55e720():void 0x0}),{'tickets':_0x376804,'loading':_0x1fd617,'error':_0x45ea9c,'total':_0x3e2edd,'refetch':_0x55e720};}function _0x3a1e8b(_0x159dd6,_0x25c39e=!0x0){const _0xe81aba=_0xb470;let [_0x1e3787,_0x2cca57]=(0x0,_0x38bd5a['useState'])(null),[_0x375183,_0x16310a]=(0x0,_0x38bd5a['useState'])(!0x0),[_0x4673bd,_0x2eba63]=(0x0,_0x38bd5a['useState'])(null),_0x578d2e=(0x0,_0x38bd5a[_0xe81aba(0x173)])(async()=>{const _0x244243=_0xe81aba;if(!_0x159dd6){_0x2cca57(null),_0x16310a(!0x1);return;}try{_0x16310a(!0x0),_0x2eba63(null);let _0x4a6f9a=await _0x898363['api']['getTicket'](_0x159dd6);_0x2cca57(_0x4a6f9a);}catch(_0x5920c0){_0x2eba63(_0x5920c0 instanceof Error?_0x5920c0['message']:_0x244243(0x1b6));}finally{_0x16310a(!0x1);}},[_0x159dd6]);return(0x0,_0x38bd5a['useEffect'])(()=>{_0x578d2e();},[_0x578d2e]),_0x491978({'ticketId':_0x159dd6||void 0x0,'onTicketUpdated':_0x25c39e?()=>_0x578d2e():void 0x0,'onMessageAdded':_0x25c39e?()=>_0x578d2e():void 0x0}),{'ticket':_0x1e3787,'loading':_0x375183,'error':_0x4673bd,'refetch':_0x578d2e};}function _0x3cd44c(){let [_0x3fc3b6,_0x5c0625]=(0x0,_0x38bd5a['useState'])(!0x1),[_0x58ba3c,_0x56b5e1]=(0x0,_0x38bd5a['useState'])(null);return{'createTicket':async _0x5eca35=>{const _0x3cdde7=_0xb470;try{return _0x5c0625(!0x0),_0x56b5e1(null),(await _0x898363[_0x3cdde7(0x1c0)][_0x3cdde7(0x178)](_0x5eca35))[_0x3cdde7(0x17e)];}catch(_0x53de6c){let _0x3d255c=_0x53de6c instanceof Error?_0x53de6c[_0x3cdde7(0x17b)]:'Failed\x20to\x20create\x20ticket';throw _0x56b5e1(_0x3d255c),Error(_0x3d255c);}finally{_0x5c0625(!0x1);}},'loading':_0x3fc3b6,'error':_0x58ba3c};}function _0xfe5cee(){const _0xd45322=_0xb470;let [_0x389554,_0x25b6e4]=(0x0,_0x38bd5a[_0xd45322(0x166)])(!0x1),[_0x306cdf,_0x57642e]=(0x0,_0x38bd5a[_0xd45322(0x166)])(null);return{'updateTicket':async _0x4a36e6=>{const _0xf3815=_0xd45322;try{return _0x25b6e4(!0x0),_0x57642e(null),(await _0x898363['api']['updateTicket'](_0x4a36e6))['ticket'];}catch(_0x2de9ae){let _0x156a32=_0x2de9ae instanceof Error?_0x2de9ae['message']:_0xf3815(0x1b9);throw _0x57642e(_0x156a32),Error(_0x156a32);}finally{_0x25b6e4(!0x1);}},'loading':_0x389554,'error':_0x306cdf};}function _0x42f48b(){const _0x4bbec8=_0xb470;let [_0x48775c,_0x3fbf7a]=(0x0,_0x38bd5a['useState'])(!0x1),[_0x323735,_0x1e9503]=(0x0,_0x38bd5a[_0x4bbec8(0x166)])(null);return{'escalateTicket':async _0x2b4222=>{const _0x4ccfa1=_0x4bbec8;try{return _0x3fbf7a(!0x0),_0x1e9503(null),(await _0x898363[_0x4ccfa1(0x1c0)][_0x4ccfa1(0x15c)](_0x2b4222))[_0x4ccfa1(0x17e)];}catch(_0x5107bb){let _0x15548a=_0x5107bb instanceof Error?_0x5107bb[_0x4ccfa1(0x17b)]:_0x4ccfa1(0x153);throw _0x1e9503(_0x15548a),Error(_0x15548a);}finally{_0x3fbf7a(!0x1);}},'loading':_0x48775c,'error':_0x323735};}function _0x3f33e7(){let [_0x480025,_0x5418b4]=(0x0,_0x38bd5a['useState'])(!0x1),[_0x2ffaaa,_0x225ef8]=(0x0,_0x38bd5a['useState'])(null);return{'addMessage':async _0x47c249=>{const _0x5b5806=_0xb470;try{return _0x5418b4(!0x0),_0x225ef8(null),(await _0x898363['api'][_0x5b5806(0x1aa)](_0x47c249))[_0x5b5806(0x17b)];}catch(_0x3df12a){let _0x638611=_0x3df12a instanceof Error?_0x3df12a[_0x5b5806(0x17b)]:_0x5b5806(0x186);throw _0x225ef8(_0x638611),Error(_0x638611);}finally{_0x5418b4(!0x1);}},'loading':_0x480025,'error':_0x2ffaaa};}},0x1608e:(_0xd606,_0x439e21,_0x7f9d63)=>{Promise['resolve']()['then'](_0x7f9d63['bind'](_0x7f9d63,0x4db1));}},_0x1d8255=>{_0x1d8255['O'](0x0,[0x2603,0x259f,0x16fd,0x1b1b,0x492,0x1cbe],()=>_0x1d8255(_0x1d8255['s']=0x1608e)),_N_E=_0x1d8255['O']();}]));