const _0x1a4b39=_0x45ce;function _0x1cdb(){const _0x33a285=['Mark\x20as\x20Resolved','id=eq.','Failed\x20to\x20escalate\x20ticket:','Internal\x20note\x20(not\x20visible\x20to\x20user)','useState','enableRealtime','text-sm\x20text-gray-500','api','flex\x20items-start\x20justify-between\x20mb-4','text-xs\x20px-2\x20py-1\x20bg-yellow-200\x20rounded','text-3xl\x20font-bold\x20text-gray-900','ml-2\x20font-medium','12933eKdyEg','Ticket\x20Not\x20Found','join','DELETE','span','jsxs','status','27pKLZNY','div','bg-blue-100\x20text-blue-800','ticket_id=eq.','title','author','user_role','subscribe','Failed\x20to\x20update\x20status:','refreshSession','created_at','User:','message','unsubscribe','879180cqkZdo','input','button','px-6\x20py-2\x20bg-emerald-600\x20text-white\x20rounded-lg\x20hover:bg-emerald-700\x20disabled:opacity-50\x20disabled:cursor-not-allowed','UPDATE','escalation_level','Type\x20your\x20message...','onAuthStateChange','text-sm\x20text-gray-700','/dashboard','text-2xl\x20font-bold\x20text-gray-900','Escalate\x20Ticket','text-gray-700\x20whitespace-pre-wrap','Escalating...','textarea','useCallback','getSupabase','refreshInterval','Cancel','font-semibold\x20text-gray-900','getTicket','useEffect','Sending...','min-h-screen\x20bg-gray-50\x20py-8','checked','[useAuth]\x20No\x20session\x20returned\x20after\x20refresh','flex-1\x20px-4\x20py-2\x20bg-orange-600\x20text-white\x20rounded-lg\x20hover:bg-orange-700\x20disabled:opacity-50','988060WHqbaq','Failed\x20to\x20update\x20ticket','ticket_messages','11764832dCDbPF','useSearchParams','bg-gray-50\x20border\x20border-gray-200','mt-4\x20text-emerald-600\x20hover:text-emerald-700','18387127dtgMyd','toLocaleString','flex\x20items-start\x20justify-between\x20mb-2','toUpperCase','font-semibold\x20mb-4','text-center','text-red-600','flex\x20items-center\x20justify-between\x20mt-3','mt-4\x20px-4\x20py-2\x20bg-emerald-600\x20text-white\x20rounded-lg\x20hover:bg-emerald-700','w-full\x20px-4\x20py-2\x20bg-emerald-600\x20text-white\x20rounded-lg\x20hover:bg-emerald-700\x20disabled:opacity-50','flex\x20items-center\x20gap-2','ticket','[useAuth]\x20Auth\x20state\x20change:','ml-2\x20px-3\x20py-1\x20text-sm\x20font-medium\x20rounded-full\x20','useRouter','catch','p-4\x20rounded-lg\x20','support_tickets','assigned_to','usePathname','slice','error','Ticket\x20Information','text-gray-600','bg-white\x20rounded-lg\x20shadow-md\x20p-6','escalateTicket','space-y-6','[useAuth]\x20Session\x20refreshed\x20successfully','bg-yellow-50\x20border\x20border-yellow-200','Failed\x20to\x20escalate\x20ticket','push','text-gray-600\x20hover:text-gray-900\x20mb-4\x20flex\x20items-center\x20gap-2','7sCAril','522aBhxaN','w-full\x20px-4\x20py-3\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent\x20resize-none','bg-green-100\x20text-green-800','Failed\x20to\x20assign\x20ticket:','Created\x20','webpackChunk_N_E','resolved','Loading\x20ticket...','addTicketMessage','Ticket\x20created:','Ticket\x20updated:','Failed\x20to\x20fetch\x20ticket','user','postgres_changes','268312YwlOPv','target','jsx','fixed\x20inset-0\x20bg-black\x20bg-opacity-50\x20flex\x20items-center\x20justify-center\x20z-50','priority','resolve','support','bind','session','log','Category:','5WBXahG','flex-1\x20px-4\x20py-2\x20border\x20border-gray-300\x20rounded-lg\x20hover:bg-gray-50','space-y-3\x20text-sm','1538670LncXSl','/admin/tickets','display_name','System','bg-yellow-100\x20text-yellow-800','category','is_internal','Assigned\x20to:','bg-gray-100\x20text-gray-800','then'];_0x1cdb=function(){return _0x33a285;};return _0x1cdb();}function _0x45ce(_0x56747f,_0x1733ee){_0x56747f=_0x56747f-0x1b2;const _0x1cdb70=_0x1cdb();let _0x45cead=_0x1cdb70[_0x56747f];return _0x45cead;}(function(_0x19dff3,_0x39689a){const _0x49e603=_0x45ce,_0x5a8ef5=_0x19dff3();while(!![]){try{const _0xc3cff9=parseInt(_0x49e603(0x1d1))/0x1+-parseInt(_0x49e603(0x1c3))/0x2*(-parseInt(_0x49e603(0x1f5))/0x3)+parseInt(_0x49e603(0x20a))/0x4+-parseInt(_0x49e603(0x1dc))/0x5*(parseInt(_0x49e603(0x1df))/0x6)+parseInt(_0x49e603(0x1c2))/0x7*(parseInt(_0x49e603(0x228))/0x8)+-parseInt(_0x49e603(0x1fc))/0x9*(parseInt(_0x49e603(0x225))/0xa)+-parseInt(_0x49e603(0x22c))/0xb;if(_0xc3cff9===_0x39689a)break;else _0x5a8ef5['push'](_0x5a8ef5['shift']());}catch(_0x4cb316){_0x5a8ef5['push'](_0x5a8ef5['shift']());}}}(_0x1cdb,0xd1d46),(self['webpackChunk_N_E']=self[_0x1a4b39(0x1c8)]||[])[_0x1a4b39(0x1c0)]([[0xe1f],{0x165b:(_0x3ba98e,_0x47518c,_0x537d18)=>{const _0x3a3135=_0x1a4b39;Promise[_0x3a3135(0x1d6)]()['then'](_0x537d18[_0x3a3135(0x1d8)](_0x537d18,0xc69c));},0xc541:(_0x7e10ea,_0x54f610,_0x1d3a9f)=>{'use strict';const _0x5062cd=_0x1a4b39;var _0xaee01d=_0x1d3a9f(0xed0d);_0x1d3a9f['o'](_0xaee01d,_0x5062cd(0x1b5))&&_0x1d3a9f['d'](_0x54f610,{'usePathname':function(){return _0xaee01d['usePathname'];}}),_0x1d3a9f['o'](_0xaee01d,'useRouter')&&_0x1d3a9f['d'](_0x54f610,{'useRouter':function(){return _0xaee01d['useRouter'];}}),_0x1d3a9f['o'](_0xaee01d,'useSearchParams')&&_0x1d3a9f['d'](_0x54f610,{'useSearchParams':function(){const _0x6121dc=_0x5062cd;return _0xaee01d[_0x6121dc(0x229)];}});},0xc69c:(_0x19dc00,_0x272184,_0x17dddc)=>{'use strict';_0x17dddc['r'](_0x272184),_0x17dddc['d'](_0x272184,{'default':()=>_0x4f8a1a});var _0x36d8a4=_0x17dddc(0xd773),_0x1d6653=_0x17dddc(0x5433),_0x7cd3a5=_0x17dddc(0x10edb),_0x509754=_0x17dddc(0xc541),_0x3cf526=_0x17dddc(0x14a5a);function _0x4f8a1a(){const _0x5224b6=_0x45ce;let {user:_0x59b88a,loading:_0x41cf45}=(0x0,_0x7cd3a5['A'])(),_0x342440=(0x0,_0x509754[_0x5224b6(0x23a)])(),_0x784ca2=(0x0,_0x509754[_0x5224b6(0x229)])()['get']('id'),{ticket:_0x288bd0,loading:_0x2c082a,error:_0x5052a8,refetch:_0x30edbe}=(0x0,_0x3cf526['yS'])(_0x784ca2||''),{updateTicket:_0x23c0ae,loading:_0x38e2ab}=(0x0,_0x3cf526['tY'])(),{escalateTicket:_0x4c0e5f,loading:_0x23c5bb}=(0x0,_0x3cf526['oJ'])(),{addMessage:_0x13300b,loading:_0x3e8066}=(0x0,_0x3cf526['c0'])(),[_0x43f2e0,_0x5cc493]=(0x0,_0x1d6653[_0x5224b6(0x1ed)])(''),[_0x16e0f3,_0x492942]=(0x0,_0x1d6653['useState'])(!0x1),[_0x22e740,_0x775d21]=(0x0,_0x1d6653[_0x5224b6(0x1ed)])(!0x1),[_0x3ca2ad,_0x2a797a]=(0x0,_0x1d6653[_0x5224b6(0x1ed)])(''),[_0x184989,_0x50f888]=(0x0,_0x1d6653[_0x5224b6(0x1ed)])(null);(0x0,_0x1d6653[_0x5224b6(0x21f)])(()=>{const _0xb52fd7=_0x5224b6;_0x41cf45||_0x59b88a?_0x59b88a&&Promise[_0xb52fd7(0x1d6)]()['then'](_0x17dddc['bind'](_0x17dddc,0x3e0d))[_0xb52fd7(0x1e8)](({api:_0x20c84e})=>{const _0x4b1a74=_0xb52fd7;_0x20c84e['getProfile']()[_0x4b1a74(0x1e8)](_0x56d0c5=>{const _0xf421a0=_0x4b1a74;_0x50f888(_0x56d0c5);let _0xe8f8fe=_0x56d0c5?.['user_role'];_0x56d0c5&&!['admin','manager',_0xf421a0(0x1d7)]['includes'](_0xe8f8fe||'')&&_0x342440[_0xf421a0(0x1c0)](_0xf421a0(0x213));})[_0x4b1a74(0x23b)](()=>{const _0x4c7b4a=_0x4b1a74;_0x342440[_0x4c7b4a(0x1c0)]('/dashboard');});}):_0x342440[_0xb52fd7(0x1c0)]('/auth/login');},[_0x59b88a,_0x41cf45,_0x342440]);let _0x1bb224=async()=>{const _0x1f98d4=_0x5224b6;if(_0x43f2e0['trim']()&&_0x784ca2)try{await _0x13300b({'ticketId':_0x784ca2,'message':_0x43f2e0,'isInternal':_0x16e0f3}),_0x5cc493(''),_0x492942(!0x1),_0x30edbe();}catch(_0x16d1e6){console[_0x1f98d4(0x1b7)]('Failed\x20to\x20send\x20message:',_0x16d1e6);}},_0x4fec5b=async _0x4be133=>{const _0xcde6ca=_0x5224b6;if(_0x784ca2)try{await _0x23c0ae({'ticketId':_0x784ca2,'status':_0x4be133}),_0x30edbe();}catch(_0x37dd2f){console['error'](_0xcde6ca(0x204),_0x37dd2f);}},_0x231cc1=async()=>{const _0x18c187=_0x5224b6;if(_0x184989&&_0x784ca2)try{await _0x23c0ae({'ticketId':_0x784ca2,'assigned_to':_0x184989['id']}),_0x30edbe();}catch(_0x39f0a0){console[_0x18c187(0x1b7)](_0x18c187(0x1c6),_0x39f0a0);}},_0x16ac84=async()=>{const _0x4d653b=_0x5224b6;if(_0x3ca2ad['trim']()&&_0x784ca2)try{await _0x4c0e5f({'ticketId':_0x784ca2,'reason':_0x3ca2ad}),_0x775d21(!0x1),_0x2a797a(''),_0x30edbe();}catch(_0x240356){console[_0x4d653b(0x1b7)](_0x4d653b(0x1eb),_0x240356);}};return _0x784ca2?_0x41cf45||_0x2c082a?(0x0,_0x36d8a4[_0x5224b6(0x1d3)])(_0x5224b6(0x1fd),{'className':'flex\x20items-center\x20justify-center\x20min-h-screen','children':(0x0,_0x36d8a4['jsxs'])('div',{'className':_0x5224b6(0x231),'children':[(0x0,_0x36d8a4[_0x5224b6(0x1d3)])(_0x5224b6(0x1fd),{'className':'animate-spin\x20rounded-full\x20h-12\x20w-12\x20border-b-2\x20border-emerald-600\x20mx-auto'}),(0x0,_0x36d8a4['jsx'])('p',{'className':'mt-4\x20text-gray-600','children':_0x5224b6(0x1ca)})]})}):_0x5052a8||!_0x288bd0?(0x0,_0x36d8a4['jsx'])(_0x5224b6(0x1fd),{'className':'flex\x20items-center\x20justify-center\x20min-h-screen','children':(0x0,_0x36d8a4[_0x5224b6(0x1fa)])(_0x5224b6(0x1fd),{'className':'text-center','children':[(0x0,_0x36d8a4[_0x5224b6(0x1d3)])('p',{'className':_0x5224b6(0x232),'children':'Failed\x20to\x20load\x20ticket'}),(0x0,_0x36d8a4['jsx'])('button',{'onClick':()=>_0x342440[_0x5224b6(0x1c0)](_0x5224b6(0x1e0)),'className':_0x5224b6(0x22b),'children':'Back\x20to\x20Tickets'})]})}):(_0x184989?.['user_role'],(0x0,_0x36d8a4['jsxs'])(_0x5224b6(0x1fd),{'className':_0x5224b6(0x221),'children':[(0x0,_0x36d8a4[_0x5224b6(0x1fa)])(_0x5224b6(0x1fd),{'className':'max-w-7xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','children':[(0x0,_0x36d8a4['jsxs'])('div',{'className':'mb-6','children':[(0x0,_0x36d8a4[_0x5224b6(0x1d3)])('button',{'onClick':()=>_0x342440['push']('/admin/tickets'),'className':_0x5224b6(0x1c1),'children':'â†\x20Back\x20to\x20Tickets'}),(0x0,_0x36d8a4[_0x5224b6(0x1d3)])('h1',{'className':_0x5224b6(0x1f3),'children':_0x288bd0[_0x5224b6(0x200)]})]}),(0x0,_0x36d8a4['jsxs'])('div',{'className':'grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-6','children':[(0x0,_0x36d8a4[_0x5224b6(0x1fa)])('div',{'className':'lg:col-span-2\x20space-y-6','children':[(0x0,_0x36d8a4[_0x5224b6(0x1fa)])('div',{'className':'bg-white\x20rounded-lg\x20shadow-md\x20p-6','children':[(0x0,_0x36d8a4['jsxs'])(_0x5224b6(0x1fd),{'className':_0x5224b6(0x1f1),'children':[(0x0,_0x36d8a4[_0x5224b6(0x1fa)])(_0x5224b6(0x1fd),{'children':[(0x0,_0x36d8a4['jsx'])('span',{'className':'px-3\x20py-1\x20text-sm\x20font-medium\x20rounded-full\x20'+({'open':_0x5224b6(0x1fe),'in_progress':_0x5224b6(0x1e3),'waiting_response':'bg-purple-100\x20text-purple-800','escalated':'bg-red-100\x20text-red-800','resolved':_0x5224b6(0x1c5),'closed':_0x5224b6(0x1e7)}[_0x288bd0[_0x5224b6(0x1fb)]]||'bg-gray-100\x20text-gray-800'),'children':_0x288bd0[_0x5224b6(0x1fb)]['split']('_')['map'](_0x5707f5=>_0x5707f5['charAt'](0x0)[_0x5224b6(0x22f)]()+_0x5707f5[_0x5224b6(0x1b6)](0x1))['join']('\x20')}),(0x0,_0x36d8a4[_0x5224b6(0x1d3)])('span',{'className':_0x5224b6(0x239)+({'low':'bg-gray-100\x20text-gray-800','medium':_0x5224b6(0x1fe),'high':'bg-orange-100\x20text-orange-800','urgent':'bg-red-100\x20text-red-800'}[_0x288bd0[_0x5224b6(0x1d5)]]||'bg-gray-100\x20text-gray-800'),'children':_0x288bd0[_0x5224b6(0x1d5)]})]}),(0x0,_0x36d8a4['jsxs'])('span',{'className':_0x5224b6(0x1ef),'children':[_0x5224b6(0x1c7),_0x23b6ee(_0x288bd0[_0x5224b6(0x206)])]})]}),(0x0,_0x36d8a4[_0x5224b6(0x1d3)])('p',{'className':_0x5224b6(0x216),'children':_0x288bd0['description']})]}),(0x0,_0x36d8a4['jsxs'])('div',{'className':_0x5224b6(0x1ba),'children':[(0x0,_0x36d8a4[_0x5224b6(0x1d3)])('h2',{'className':'text-xl\x20font-semibold\x20mb-4','children':'Messages'}),(0x0,_0x36d8a4[_0x5224b6(0x1d3)])('div',{'className':'space-y-4\x20mb-6','children':_0x288bd0['messages']['map'](_0x1da2e7=>(0x0,_0x36d8a4['jsxs'])('div',{'className':_0x5224b6(0x1b2)+(_0x1da2e7[_0x5224b6(0x1e5)]?_0x5224b6(0x1be):_0x1da2e7['is_system']?_0x5224b6(0x22a):'bg-blue-50\x20border\x20border-blue-200'),'children':[(0x0,_0x36d8a4['jsxs'])(_0x5224b6(0x1fd),{'className':_0x5224b6(0x22e),'children':[(0x0,_0x36d8a4['jsxs'])(_0x5224b6(0x1fd),{'className':_0x5224b6(0x236),'children':[(0x0,_0x36d8a4[_0x5224b6(0x1d3)])('span',{'className':_0x5224b6(0x21d),'children':_0x1da2e7[_0x5224b6(0x201)]?.[_0x5224b6(0x1e1)]||_0x5224b6(0x1e2)}),_0x1da2e7['author']&&(0x0,_0x36d8a4[_0x5224b6(0x1d3)])('span',{'className':'text-xs\x20px-2\x20py-1\x20bg-gray-200\x20rounded','children':_0x1da2e7[_0x5224b6(0x201)][_0x5224b6(0x202)]}),_0x1da2e7['is_internal']&&(0x0,_0x36d8a4['jsx'])(_0x5224b6(0x1f9),{'className':_0x5224b6(0x1f2),'children':'Internal'})]}),(0x0,_0x36d8a4['jsx'])('span',{'className':'text-xs\x20text-gray-500','children':_0x23b6ee(_0x1da2e7[_0x5224b6(0x206)])})]}),(0x0,_0x36d8a4['jsx'])('p',{'className':_0x5224b6(0x216),'children':_0x1da2e7['message']})]},_0x1da2e7['id']))}),(0x0,_0x36d8a4['jsxs'])(_0x5224b6(0x1fd),{'className':'border-t\x20pt-4','children':[(0x0,_0x36d8a4['jsx'])('textarea',{'value':_0x43f2e0,'onChange':_0x4fbc4a=>_0x5cc493(_0x4fbc4a['target']['value']),'placeholder':_0x5224b6(0x210),'className':_0x5224b6(0x1c4),'rows':0x4}),(0x0,_0x36d8a4['jsxs'])('div',{'className':_0x5224b6(0x233),'children':[(0x0,_0x36d8a4[_0x5224b6(0x1fa)])('label',{'className':_0x5224b6(0x236),'children':[(0x0,_0x36d8a4[_0x5224b6(0x1d3)])(_0x5224b6(0x20b),{'type':'checkbox','checked':_0x16e0f3,'onChange':_0x33ef31=>_0x492942(_0x33ef31[_0x5224b6(0x1d2)][_0x5224b6(0x222)]),'className':'rounded\x20border-gray-300\x20text-emerald-600\x20focus:ring-emerald-500'}),(0x0,_0x36d8a4['jsx'])('span',{'className':_0x5224b6(0x212),'children':_0x5224b6(0x1ec)})]}),(0x0,_0x36d8a4['jsx'])(_0x5224b6(0x20c),{'onClick':_0x1bb224,'disabled':_0x3e8066||!_0x43f2e0['trim'](),'className':_0x5224b6(0x20d),'children':_0x3e8066?_0x5224b6(0x220):'Send\x20Message'})]})]})]})]}),(0x0,_0x36d8a4['jsxs'])(_0x5224b6(0x1fd),{'className':_0x5224b6(0x1bc),'children':[(0x0,_0x36d8a4[_0x5224b6(0x1fa)])('div',{'className':'bg-white\x20rounded-lg\x20shadow-md\x20p-6','children':[(0x0,_0x36d8a4['jsx'])('h3',{'className':'font-semibold\x20mb-4','children':'Actions'}),(0x0,_0x36d8a4[_0x5224b6(0x1fa)])('div',{'className':'space-y-3','children':[!_0x288bd0['assigned_to']&&(0x0,_0x36d8a4[_0x5224b6(0x1d3)])(_0x5224b6(0x20c),{'onClick':_0x231cc1,'disabled':_0x38e2ab,'className':_0x5224b6(0x235),'children':'Assign\x20to\x20Me'}),(0x0,_0x36d8a4['jsx'])(_0x5224b6(0x20c),{'onClick':()=>_0x775d21(!0x0),'disabled':_0x23c5bb||_0x288bd0['escalation_level']>=0x3,'className':'w-full\x20px-4\x20py-2\x20bg-orange-600\x20text-white\x20rounded-lg\x20hover:bg-orange-700\x20disabled:opacity-50','children':'Escalate\x20Ticket'}),'resolved'!==_0x288bd0[_0x5224b6(0x1fb)]&&(0x0,_0x36d8a4['jsx'])('button',{'onClick':()=>_0x4fec5b(_0x5224b6(0x1c9)),'disabled':_0x38e2ab,'className':'w-full\x20px-4\x20py-2\x20bg-green-600\x20text-white\x20rounded-lg\x20hover:bg-green-700\x20disabled:opacity-50','children':_0x5224b6(0x1e9)})]})]}),(0x0,_0x36d8a4[_0x5224b6(0x1fa)])(_0x5224b6(0x1fd),{'className':'bg-white\x20rounded-lg\x20shadow-md\x20p-6','children':[(0x0,_0x36d8a4['jsx'])('h3',{'className':_0x5224b6(0x230),'children':_0x5224b6(0x1b8)}),(0x0,_0x36d8a4[_0x5224b6(0x1fa)])(_0x5224b6(0x1fd),{'className':_0x5224b6(0x1de),'children':[(0x0,_0x36d8a4['jsxs'])(_0x5224b6(0x1fd),{'children':[(0x0,_0x36d8a4['jsx'])(_0x5224b6(0x1f9),{'className':'text-gray-600','children':_0x5224b6(0x1db)}),(0x0,_0x36d8a4['jsx'])(_0x5224b6(0x1f9),{'className':'ml-2\x20font-medium','children':_0x288bd0[_0x5224b6(0x1e4)]['split']('_')['map'](_0x284589=>_0x284589['charAt'](0x0)[_0x5224b6(0x22f)]()+_0x284589['slice'](0x1))[_0x5224b6(0x1f7)]('\x20')})]}),(0x0,_0x36d8a4['jsxs'])('div',{'children':[(0x0,_0x36d8a4[_0x5224b6(0x1d3)])(_0x5224b6(0x1f9),{'className':_0x5224b6(0x1b9),'children':_0x5224b6(0x207)}),(0x0,_0x36d8a4[_0x5224b6(0x1d3)])('span',{'className':_0x5224b6(0x1f4),'children':_0x288bd0['user']?.['display_name']})]}),_0x288bd0[_0x5224b6(0x1b4)]&&(0x0,_0x36d8a4['jsxs'])(_0x5224b6(0x1fd),{'children':[(0x0,_0x36d8a4['jsx'])(_0x5224b6(0x1f9),{'className':'text-gray-600','children':_0x5224b6(0x1e6)}),(0x0,_0x36d8a4[_0x5224b6(0x1d3)])(_0x5224b6(0x1f9),{'className':'ml-2\x20font-medium','children':_0x288bd0['assignee']?.['display_name']})]}),(0x0,_0x36d8a4[_0x5224b6(0x1fa)])('div',{'children':[(0x0,_0x36d8a4['jsx'])(_0x5224b6(0x1f9),{'className':'text-gray-600','children':'Escalation\x20Level:'}),(0x0,_0x36d8a4['jsx'])('span',{'className':'ml-2\x20font-medium','children':_0x288bd0[_0x5224b6(0x20f)]})]})]})]})]})]})]}),_0x22e740&&(0x0,_0x36d8a4['jsx'])(_0x5224b6(0x1fd),{'className':_0x5224b6(0x1d4),'children':(0x0,_0x36d8a4['jsxs'])(_0x5224b6(0x1fd),{'className':'bg-white\x20rounded-lg\x20p-6\x20max-w-md\x20w-full\x20mx-4','children':[(0x0,_0x36d8a4['jsx'])('h3',{'className':'text-xl\x20font-semibold\x20mb-4','children':_0x5224b6(0x215)}),(0x0,_0x36d8a4[_0x5224b6(0x1d3)])(_0x5224b6(0x218),{'value':_0x3ca2ad,'onChange':_0x1f7beb=>_0x2a797a(_0x1f7beb['target']['value']),'placeholder':'Reason\x20for\x20escalation...','className':'w-full\x20px-4\x20py-3\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent\x20resize-none','rows':0x4}),(0x0,_0x36d8a4['jsxs'])(_0x5224b6(0x1fd),{'className':'flex\x20gap-3\x20mt-4','children':[(0x0,_0x36d8a4['jsx'])(_0x5224b6(0x20c),{'onClick':()=>_0x775d21(!0x1),'className':_0x5224b6(0x1dd),'children':_0x5224b6(0x21c)}),(0x0,_0x36d8a4['jsx'])('button',{'onClick':_0x16ac84,'disabled':!_0x3ca2ad['trim']()||_0x23c5bb,'className':_0x5224b6(0x224),'children':_0x23c5bb?_0x5224b6(0x217):'Escalate'})]})]})})]})):(0x0,_0x36d8a4['jsx'])(_0x5224b6(0x1fd),{'className':'min-h-screen\x20bg-gray-50\x20py-8','children':(0x0,_0x36d8a4['jsx'])('div',{'className':'max-w-7xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','children':(0x0,_0x36d8a4['jsxs'])(_0x5224b6(0x1fd),{'className':_0x5224b6(0x231),'children':[(0x0,_0x36d8a4[_0x5224b6(0x1d3)])('h2',{'className':_0x5224b6(0x214),'children':_0x5224b6(0x1f6)}),(0x0,_0x36d8a4['jsx'])('p',{'className':'mt-2\x20text-gray-600','children':'No\x20ticket\x20ID\x20provided.'}),(0x0,_0x36d8a4[_0x5224b6(0x1d3)])(_0x5224b6(0x20c),{'onClick':()=>_0x342440['push']('/admin/tickets'),'className':_0x5224b6(0x234),'children':'Back\x20to\x20Tickets'})]})})});}function _0x23b6ee(_0x2edd0e){const _0x42fcd7=_0x45ce;return new Date(_0x2edd0e)[_0x42fcd7(0x22d)]();}},0x10edb:(_0x3fc656,_0x3ba7bc,_0x5316ff)=>{'use strict';_0x5316ff['d'](_0x3ba7bc,{'A':()=>_0x9dd47b});var _0x38820a=_0x5316ff(0x5433),_0x399cbc=_0x5316ff(0x3e0d);function _0x9dd47b(){const _0x3946d5=_0x45ce;let [_0x357b19,_0x5410ed]=(0x0,_0x38820a[_0x3946d5(0x1ed)])(null),[_0x531306,_0x2a17ac]=(0x0,_0x38820a['useState'])(!0x0),[_0x1f305d,_0x422010]=(0x0,_0x38820a['useState'])(!0x1),[_0x1b6236,_0x13dc18]=(0x0,_0x38820a[_0x3946d5(0x1ed)])(null),_0x5dffad=(0x0,_0x38820a[_0x3946d5(0x219)])(async()=>{const _0xf5559a=_0x3946d5;try{let _0x2466a4=(0x0,_0x399cbc['getSupabase'])(),{data:_0x150f17,error:_0x52e7a0}=await _0x2466a4['auth'][_0xf5559a(0x205)]();if(_0x52e7a0)return console['error']('[useAuth]\x20Refresh\x20error:',_0x52e7a0),!0x1;if(!_0x150f17?.[_0xf5559a(0x1d9)])return console['error'](_0xf5559a(0x223)),!0x1;return _0x13dc18(_0x150f17[_0xf5559a(0x1d9)]),_0x5410ed(_0x150f17['session'][_0xf5559a(0x1cf)]),console[_0xf5559a(0x1da)](_0xf5559a(0x1bd)),!0x0;}catch(_0x36fc1a){return console[_0xf5559a(0x1b7)]('[useAuth]\x20Failed\x20to\x20refresh:',_0x36fc1a),!0x1;}},[]);return(0x0,_0x38820a['useEffect'])(()=>{const _0x3180ed=_0x3946d5;_0x399cbc['api']['getUser']()['then'](({data:{user:_0x224043}})=>{_0x5410ed(_0x224043),_0x2a17ac(!0x1),_0x422010(!0x0);})[_0x3180ed(0x23b)](()=>{_0x2a17ac(!0x1),_0x422010(!0x0);});let {data:{subscription:_0x16c1a6}}=_0x399cbc['api'][_0x3180ed(0x211)](async(_0x2479b4,_0x4c5061)=>{const _0x3c91d9=_0x3180ed;console['log'](_0x3c91d9(0x238),_0x2479b4),'TOKEN_REFRESHED'===_0x2479b4&&console[_0x3c91d9(0x1da)]('[useAuth]\x20Token\x20refreshed\x20successfully'),_0x13dc18(_0x4c5061),_0x5410ed(_0x4c5061?.['user']??null),_0x2a17ac(!0x1),_0x422010(!0x0);});return()=>_0x16c1a6[_0x3180ed(0x209)]();},[]),{'user':_0x357b19,'session':_0x1b6236,'loading':_0x531306,'isReady':_0x1f305d,'authenticated':!!_0x357b19,'refreshSession':_0x5dffad,'signOut':()=>_0x399cbc['api']['signOut']()};}},0x14a5a:(_0x15b25b,_0x594692,_0x179954)=>{'use strict';_0x179954['d'](_0x594692,{'c0':()=>_0x4de98e,'Gs':()=>_0x4f2ce8,'oJ':()=>_0x20cb3c,'yS':()=>_0x39d75b,'dS':()=>_0x144880,'tY':()=>_0x1785be});var _0x5aa103=_0x179954(0x5433),_0x24a5a1=_0x179954(0x3e0d);function _0x1898e9(_0x330ffb={}){let {onTicketCreated:_0x18d362,onTicketUpdated:_0x3edf63,onTicketDeleted:_0x1073f7,onMessageAdded:_0x59f6f7,ticketId:_0x582602}=_0x330ffb;(0x0,_0x5aa103['useEffect'])(()=>{const _0x5ce013=_0x45ce;let _0x1e97a7=(0x0,_0x24a5a1[_0x5ce013(0x21a)])(),_0x2cc74c=_0x1e97a7['channel']('support_tickets_changes')['on']('postgres_changes',{'event':'INSERT','schema':'api','table':'support_tickets'},_0x5a3100=>{const _0x30c808=_0x5ce013;console['log'](_0x30c808(0x1cc),_0x5a3100),_0x18d362?.(_0x5a3100);})['on'](_0x5ce013(0x1d0),{'event':_0x5ce013(0x20e),'schema':'api','table':'support_tickets',..._0x582602?{'filter':_0x5ce013(0x1ea)+_0x582602}:{}},_0x4849c6=>{const _0x4b5578=_0x5ce013;console['log'](_0x4b5578(0x1cd),_0x4849c6),_0x3edf63?.(_0x4849c6);})['on']('postgres_changes',{'event':_0x5ce013(0x1f8),'schema':'api','table':_0x5ce013(0x1b3)},_0x4d7e71=>{const _0x1272a1=_0x5ce013;console[_0x1272a1(0x1da)]('Ticket\x20deleted:',_0x4d7e71),_0x1073f7?.(_0x4d7e71);})[_0x5ce013(0x203)](),_0x428234=null;return _0x582602&&_0x59f6f7&&(_0x428234=_0x1e97a7['channel']('ticket_messages_changes')['on']('postgres_changes',{'event':'INSERT','schema':'api','table':_0x5ce013(0x227),'filter':_0x5ce013(0x1ff)+_0x582602},_0x59aafd=>{console['log']('Message\x20added:',_0x59aafd),_0x59f6f7(_0x59aafd);})['subscribe']()),()=>{_0x1e97a7['removeChannel'](_0x2cc74c),_0x428234&&_0x1e97a7['removeChannel'](_0x428234);};},[_0x18d362,_0x3edf63,_0x1073f7,_0x59f6f7,_0x582602]);}function _0x144880(_0x58acfc={}){const _0x2ae334=_0x45ce;let [_0x5f3632,_0x7da96b]=(0x0,_0x5aa103['useState'])([]),[_0x1aa4b2,_0x3b616b]=(0x0,_0x5aa103[_0x2ae334(0x1ed)])(!0x0),[_0x56e1e1,_0x767ea6]=(0x0,_0x5aa103[_0x2ae334(0x1ed)])(null),[_0x56cfb1,_0x25b223]=(0x0,_0x5aa103[_0x2ae334(0x1ed)])(0x0),_0x51149b=(0x0,_0x5aa103['useCallback'])(async()=>{const _0x1b7e0b=_0x2ae334;try{_0x3b616b(!0x0),_0x767ea6(null);let {tickets:_0x8944a6,total:_0x5815f2}=await _0x24a5a1[_0x1b7e0b(0x1f0)]['getTickets']({'status':_0x58acfc[_0x1b7e0b(0x1fb)],'category':_0x58acfc[_0x1b7e0b(0x1e4)],'assigned_to':_0x58acfc[_0x1b7e0b(0x1b4)]});_0x7da96b(_0x8944a6),_0x25b223(_0x5815f2);}catch(_0x36ffdd){_0x767ea6(_0x36ffdd instanceof Error?_0x36ffdd[_0x1b7e0b(0x208)]:'Failed\x20to\x20fetch\x20tickets');}finally{_0x3b616b(!0x1);}},[_0x58acfc['status'],_0x58acfc['category'],_0x58acfc['assigned_to']]);return(0x0,_0x5aa103['useEffect'])(()=>{if(_0x51149b(),_0x58acfc['autoRefresh']&&_0x58acfc['refreshInterval']){let _0x97c5e7=setInterval(_0x51149b,_0x58acfc['refreshInterval']);return()=>clearInterval(_0x97c5e7);}},[_0x51149b,_0x58acfc['autoRefresh'],_0x58acfc[_0x2ae334(0x21b)]]),_0x1898e9({'onTicketCreated':!0x1!==_0x58acfc[_0x2ae334(0x1ee)]?()=>_0x51149b():void 0x0,'onTicketUpdated':!0x1!==_0x58acfc[_0x2ae334(0x1ee)]?()=>_0x51149b():void 0x0,'onTicketDeleted':!0x1!==_0x58acfc['enableRealtime']?()=>_0x51149b():void 0x0}),{'tickets':_0x5f3632,'loading':_0x1aa4b2,'error':_0x56e1e1,'total':_0x56cfb1,'refetch':_0x51149b};}function _0x39d75b(_0x44c126,_0x4f9dca=!0x0){const _0x1ad102=_0x45ce;let [_0x4a75c0,_0x31759c]=(0x0,_0x5aa103['useState'])(null),[_0x5c4e09,_0x2e2533]=(0x0,_0x5aa103[_0x1ad102(0x1ed)])(!0x0),[_0x111cd7,_0x5634b8]=(0x0,_0x5aa103[_0x1ad102(0x1ed)])(null),_0x1611af=(0x0,_0x5aa103[_0x1ad102(0x219)])(async()=>{const _0x1d7fe8=_0x1ad102;if(!_0x44c126){_0x31759c(null),_0x2e2533(!0x1);return;}try{_0x2e2533(!0x0),_0x5634b8(null);let _0x5603e2=await _0x24a5a1[_0x1d7fe8(0x1f0)][_0x1d7fe8(0x21e)](_0x44c126);_0x31759c(_0x5603e2);}catch(_0x283291){_0x5634b8(_0x283291 instanceof Error?_0x283291[_0x1d7fe8(0x208)]:_0x1d7fe8(0x1ce));}finally{_0x2e2533(!0x1);}},[_0x44c126]);return(0x0,_0x5aa103[_0x1ad102(0x21f)])(()=>{_0x1611af();},[_0x1611af]),_0x1898e9({'ticketId':_0x44c126||void 0x0,'onTicketUpdated':_0x4f9dca?()=>_0x1611af():void 0x0,'onMessageAdded':_0x4f9dca?()=>_0x1611af():void 0x0}),{'ticket':_0x4a75c0,'loading':_0x5c4e09,'error':_0x111cd7,'refetch':_0x1611af};}function _0x4f2ce8(){const _0x310aa0=_0x45ce;let [_0x938d6b,_0x3dd03f]=(0x0,_0x5aa103['useState'])(!0x1),[_0x2f1229,_0x2e4f64]=(0x0,_0x5aa103[_0x310aa0(0x1ed)])(null);return{'createTicket':async _0x27a362=>{const _0x3bffbe=_0x310aa0;try{return _0x3dd03f(!0x0),_0x2e4f64(null),(await _0x24a5a1['api']['createTicket'](_0x27a362))[_0x3bffbe(0x237)];}catch(_0x11a6d2){let _0x5a640c=_0x11a6d2 instanceof Error?_0x11a6d2[_0x3bffbe(0x208)]:'Failed\x20to\x20create\x20ticket';throw _0x2e4f64(_0x5a640c),Error(_0x5a640c);}finally{_0x3dd03f(!0x1);}},'loading':_0x938d6b,'error':_0x2f1229};}function _0x1785be(){const _0x448228=_0x45ce;let [_0x3847df,_0x58a87e]=(0x0,_0x5aa103[_0x448228(0x1ed)])(!0x1),[_0x48c787,_0x46161c]=(0x0,_0x5aa103['useState'])(null);return{'updateTicket':async _0x437b08=>{const _0x3e0df5=_0x448228;try{return _0x58a87e(!0x0),_0x46161c(null),(await _0x24a5a1['api']['updateTicket'](_0x437b08))[_0x3e0df5(0x237)];}catch(_0x21a1e8){let _0x3e4f2b=_0x21a1e8 instanceof Error?_0x21a1e8[_0x3e0df5(0x208)]:_0x3e0df5(0x226);throw _0x46161c(_0x3e4f2b),Error(_0x3e4f2b);}finally{_0x58a87e(!0x1);}},'loading':_0x3847df,'error':_0x48c787};}function _0x20cb3c(){const _0xa42273=_0x45ce;let [_0x116925,_0x17604a]=(0x0,_0x5aa103[_0xa42273(0x1ed)])(!0x1),[_0x44d4d7,_0x43f6ba]=(0x0,_0x5aa103['useState'])(null);return{'escalateTicket':async _0x24f2e5=>{const _0x43e4ea=_0xa42273;try{return _0x17604a(!0x0),_0x43f6ba(null),(await _0x24a5a1['api'][_0x43e4ea(0x1bb)](_0x24f2e5))[_0x43e4ea(0x237)];}catch(_0x523b45){let _0x471d7b=_0x523b45 instanceof Error?_0x523b45['message']:_0x43e4ea(0x1bf);throw _0x43f6ba(_0x471d7b),Error(_0x471d7b);}finally{_0x17604a(!0x1);}},'loading':_0x116925,'error':_0x44d4d7};}function _0x4de98e(){let [_0x5c161b,_0x3921fa]=(0x0,_0x5aa103['useState'])(!0x1),[_0x3115ee,_0x1a8056]=(0x0,_0x5aa103['useState'])(null);return{'addMessage':async _0x374bcc=>{const _0x19d82f=_0x45ce;try{return _0x3921fa(!0x0),_0x1a8056(null),(await _0x24a5a1[_0x19d82f(0x1f0)][_0x19d82f(0x1cb)](_0x374bcc))[_0x19d82f(0x208)];}catch(_0x28b830){let _0x490aae=_0x28b830 instanceof Error?_0x28b830['message']:'Failed\x20to\x20add\x20message';throw _0x1a8056(_0x490aae),Error(_0x490aae);}finally{_0x3921fa(!0x1);}},'loading':_0x5c161b,'error':_0x3115ee};}}},_0x1d4f3a=>{_0x1d4f3a['O'](0x0,[0x2603,0x259f,0x16fd,0x1b1b,0x492,0x1cbe],()=>_0x1d4f3a(_0x1d4f3a['s']=0x165b)),_N_E=_0x1d4f3a['O']();}]));