const _0x5cf526=_0x4288;function _0x4288(_0x5d51c9,_0x3072f1){_0x5d51c9=_0x5d51c9-0x110;const _0x10c136=_0x10c1();let _0x4288c1=_0x10c136[_0x5d51c9];return _0x4288c1;}function _0x10c1(){const _0x473235=['autoRefresh','[useAuth]\x20No\x20session\x20returned\x20after\x20refresh','Reason\x20for\x20escalation...','resolved','postgres_changes','div','text-xs\x20px-2\x20py-1\x20bg-yellow-200\x20rounded','w-full\x20px-4\x20py-2\x20bg-orange-600\x20text-white\x20rounded-lg\x20hover:bg-orange-700\x20disabled:opacity-50','24cIWXcO','useEffect','min-h-screen\x20bg-gray-50\x20py-8','useSearchParams','admin','animate-spin\x20rounded-full\x20h-12\x20w-12\x20border-b-2\x20border-emerald-600\x20mx-auto','INSERT','Failed\x20to\x20send\x20message:','Failed\x20to\x20fetch\x20tickets','text-sm\x20text-gray-500','useRouter','px-6\x20py-2\x20bg-emerald-600\x20text-white\x20rounded-lg\x20hover:bg-emerald-700\x20disabled:opacity-50\x20disabled:cursor-not-allowed','Type\x20your\x20message...','30Ukpegm','Failed\x20to\x20update\x20status:','addTicketMessage','bg-white\x20rounded-lg\x20shadow-md\x20p-6','getUser','getTickets','ml-2\x20font-medium','w-full\x20px-4\x20py-2\x20bg-emerald-600\x20text-white\x20rounded-lg\x20hover:bg-emerald-700\x20disabled:opacity-50','resolve','updateTicket','refreshInterval','map','font-semibold\x20mb-4','value','span','status','assigned_to','System','jsx','channel','mt-4\x20px-4\x20py-2\x20bg-emerald-600\x20text-white\x20rounded-lg\x20hover:bg-emerald-700','trim','is_system','log','bg-yellow-50\x20border\x20border-yellow-200','Failed\x20to\x20escalate\x20ticket:','support','includes','23559rqQCOo','label','id=eq.','User:','created_at','text-gray-600','removeChannel','Failed\x20to\x20load\x20ticket','webpackChunk_N_E','textarea','author','Assigned\x20to:','flex-1\x20px-4\x20py-2\x20bg-orange-600\x20text-white\x20rounded-lg\x20hover:bg-orange-700\x20disabled:opacity-50','Back\x20to\x20Tickets','mt-2\x20text-gray-600','text-gray-700\x20whitespace-pre-wrap','user','Assign\x20to\x20Me','charAt','bg-blue-50\x20border\x20border-blue-200','Escalating...','message','bg-blue-100\x20text-blue-800','category','border-t\x20pt-4','Escalate','Failed\x20to\x20fetch\x20ticket','Created\x20','No\x20ticket\x20ID\x20provided.','14gofXPE','Cancel','114xFPOfH','display_name','DELETE','ticket','unsubscribe','subscribe','[useAuth]\x20Token\x20refreshed\x20successfully','Ticket\x20updated:','/admin/tickets','229680MAeBMR','p-4\x20rounded-lg\x20','useState','/dashboard','Failed\x20to\x20create\x20ticket','title','px-3\x20py-1\x20text-sm\x20font-medium\x20rounded-full\x20','api','support_tickets_changes','enableRealtime','messages','75397BNKbOD','[useAuth]\x20Refresh\x20error:','93345oTRxvu','support_tickets','Ticket\x20deleted:','â†\x20Back\x20to\x20Tickets','jsxs','priority','text-2xl\x20font-bold\x20text-gray-900','then','escalation_level','is_internal','error','catch','bg-white\x20rounded-lg\x20p-6\x20max-w-md\x20w-full\x20mx-4','118217PYwliC','max-w-7xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','space-y-3','mb-6','font-semibold\x20text-gray-900','Sending...','usePathname','useCallback','Failed\x20to\x20assign\x20ticket:','split','Mark\x20as\x20Resolved','manager','lg:col-span-2\x20space-y-6','Ticket\x20Not\x20Found','onAuthStateChange','81192MAMlVL','text-gray-600\x20hover:text-gray-900\x20mb-4\x20flex\x20items-center\x20gap-2','321831uZLbxB','Messages','slice','session','target','Actions','bg-green-100\x20text-green-800','button','assignee','w-full\x20px-4\x20py-3\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent\x20resize-none','user_role','Message\x20added:','space-y-3\x20text-sm','rounded\x20border-gray-300\x20text-emerald-600\x20focus:ring-emerald-500','text-xs\x20text-gray-500','push','Failed\x20to\x20update\x20ticket','text-3xl\x20font-bold\x20text-gray-900','toUpperCase'];_0x10c1=function(){return _0x473235;};return _0x10c1();}(function(_0x2eee60,_0x1e8d05){const _0x52c902=_0x4288,_0xfcd61d=_0x2eee60();while(!![]){try{const _0x777b60=-parseInt(_0x52c902(0x186))/0x1+-parseInt(_0x52c902(0x16e))/0x2*(parseInt(_0x52c902(0x151))/0x3)+parseInt(_0x52c902(0x1a2))/0x4*(parseInt(_0x52c902(0x135))/0x5)+-parseInt(_0x52c902(0x170))/0x6*(-parseInt(_0x52c902(0x184))/0x7)+parseInt(_0x52c902(0x128))/0x8*(-parseInt(_0x52c902(0x1a4))/0x9)+parseInt(_0x52c902(0x179))/0xa+parseInt(_0x52c902(0x193))/0xb;if(_0x777b60===_0x1e8d05)break;else _0xfcd61d['push'](_0xfcd61d['shift']());}catch(_0x167eb7){_0xfcd61d['push'](_0xfcd61d['shift']());}}}(_0x10c1,0x1986f),(self[_0x5cf526(0x159)]=self[_0x5cf526(0x159)]||[])['push']([[0xe1f],{0x165b:(_0xf13f6d,_0x1e37df,_0x36c393)=>{const _0x463f31=_0x5cf526;Promise['resolve']()[_0x463f31(0x18d)](_0x36c393['bind'](_0x36c393,0xc69c));},0xc541:(_0x38a538,_0x1c606e,_0x485fbb)=>{'use strict';const _0xc519be=_0x5cf526;var _0x174252=_0x485fbb(0xed0d);_0x485fbb['o'](_0x174252,_0xc519be(0x199))&&_0x485fbb['d'](_0x1c606e,{'usePathname':function(){const _0x2258d2=_0xc519be;return _0x174252[_0x2258d2(0x199)];}}),_0x485fbb['o'](_0x174252,_0xc519be(0x132))&&_0x485fbb['d'](_0x1c606e,{'useRouter':function(){return _0x174252['useRouter'];}}),_0x485fbb['o'](_0x174252,_0xc519be(0x12b))&&_0x485fbb['d'](_0x1c606e,{'useSearchParams':function(){const _0x251ace=_0xc519be;return _0x174252[_0x251ace(0x12b)];}});},0xc69c:(_0x897cbb,_0x3549f9,_0x387205)=>{'use strict';_0x387205['r'](_0x3549f9),_0x387205['d'](_0x3549f9,{'default':()=>_0x3c2e4f});var _0x549d44=_0x387205(0xd773),_0x34cd31=_0x387205(0x5433),_0x454844=_0x387205(0x10edb),_0x4bcd6e=_0x387205(0xc541),_0x3e2eac=_0x387205(0x14a5a);function _0x3c2e4f(){const _0x4cf00a=_0x4288;let {user:_0x125b45,loading:_0xfc11fd}=(0x0,_0x454844['A'])(),_0x382c75=(0x0,_0x4bcd6e[_0x4cf00a(0x132)])(),_0x155a4a=(0x0,_0x4bcd6e[_0x4cf00a(0x12b)])()['get']('id'),{ticket:_0x31b988,loading:_0x14a9cd,error:_0x37c109,refetch:_0x66eaa0}=(0x0,_0x3e2eac['yS'])(_0x155a4a||''),{updateTicket:_0x4e3249,loading:_0x2a53ae}=(0x0,_0x3e2eac['tY'])(),{escalateTicket:_0x21028c,loading:_0x3b978b}=(0x0,_0x3e2eac['oJ'])(),{addMessage:_0x542c43,loading:_0x270b33}=(0x0,_0x3e2eac['c0'])(),[_0x30f31b,_0x39ce4]=(0x0,_0x34cd31['useState'])(''),[_0x92ef3b,_0x4d4a93]=(0x0,_0x34cd31['useState'])(!0x1),[_0x4b0b16,_0x2e0c24]=(0x0,_0x34cd31[_0x4cf00a(0x17b)])(!0x1),[_0x2ef72b,_0x305a39]=(0x0,_0x34cd31['useState'])(''),[_0x1b62db,_0xf4ff9e]=(0x0,_0x34cd31['useState'])(null);(0x0,_0x34cd31[_0x4cf00a(0x129)])(()=>{const _0x6238bb=_0x4cf00a;_0xfc11fd||_0x125b45?_0x125b45&&Promise[_0x6238bb(0x13d)]()[_0x6238bb(0x18d)](_0x387205['bind'](_0x387205,0x3e0d))[_0x6238bb(0x18d)](({api:_0x53f7ea})=>{const _0x3fc4d4=_0x6238bb;_0x53f7ea['getProfile']()[_0x3fc4d4(0x18d)](_0x3b6fc2=>{const _0x6fc75f=_0x3fc4d4;_0xf4ff9e(_0x3b6fc2);let _0x15f2be=_0x3b6fc2?.['user_role'];_0x3b6fc2&&![_0x6fc75f(0x12c),_0x6fc75f(0x19e),_0x6fc75f(0x14f)][_0x6fc75f(0x150)](_0x15f2be||'')&&_0x382c75[_0x6fc75f(0x11c)]('/dashboard');})[_0x3fc4d4(0x191)](()=>{const _0xcee41d=_0x3fc4d4;_0x382c75[_0xcee41d(0x11c)](_0xcee41d(0x17c));});}):_0x382c75['push']('/auth/login');},[_0x125b45,_0xfc11fd,_0x382c75]);let _0x117822=async()=>{const _0xa0c805=_0x4cf00a;if(_0x30f31b['trim']()&&_0x155a4a)try{await _0x542c43({'ticketId':_0x155a4a,'message':_0x30f31b,'isInternal':_0x92ef3b}),_0x39ce4(''),_0x4d4a93(!0x1),_0x66eaa0();}catch(_0x382e94){console[_0xa0c805(0x190)](_0xa0c805(0x12f),_0x382e94);}},_0x55891e=async _0x1e324a=>{const _0x25c9d2=_0x4cf00a;if(_0x155a4a)try{await _0x4e3249({'ticketId':_0x155a4a,'status':_0x1e324a}),_0x66eaa0();}catch(_0x2a0fcf){console['error'](_0x25c9d2(0x136),_0x2a0fcf);}},_0x197220=async()=>{const _0x5a21e2=_0x4cf00a;if(_0x1b62db&&_0x155a4a)try{await _0x4e3249({'ticketId':_0x155a4a,'assigned_to':_0x1b62db['id']}),_0x66eaa0();}catch(_0x2cfc81){console[_0x5a21e2(0x190)](_0x5a21e2(0x19b),_0x2cfc81);}},_0xb224bd=async()=>{const _0x238a68=_0x4cf00a;if(_0x2ef72b[_0x238a68(0x14a)]()&&_0x155a4a)try{await _0x21028c({'ticketId':_0x155a4a,'reason':_0x2ef72b}),_0x2e0c24(!0x1),_0x305a39(''),_0x66eaa0();}catch(_0x583ac4){console[_0x238a68(0x190)](_0x238a68(0x14e),_0x583ac4);}};return _0x155a4a?_0xfc11fd||_0x14a9cd?(0x0,_0x549d44[_0x4cf00a(0x147)])(_0x4cf00a(0x125),{'className':'flex\x20items-center\x20justify-center\x20min-h-screen','children':(0x0,_0x549d44['jsxs'])(_0x4cf00a(0x125),{'className':'text-center','children':[(0x0,_0x549d44['jsx'])(_0x4cf00a(0x125),{'className':_0x4cf00a(0x12d)}),(0x0,_0x549d44[_0x4cf00a(0x147)])('p',{'className':'mt-4\x20text-gray-600','children':'Loading\x20ticket...'})]})}):_0x37c109||!_0x31b988?(0x0,_0x549d44[_0x4cf00a(0x147)])(_0x4cf00a(0x125),{'className':'flex\x20items-center\x20justify-center\x20min-h-screen','children':(0x0,_0x549d44['jsxs'])('div',{'className':'text-center','children':[(0x0,_0x549d44[_0x4cf00a(0x147)])('p',{'className':'text-red-600','children':_0x4cf00a(0x158)}),(0x0,_0x549d44[_0x4cf00a(0x147)])(_0x4cf00a(0x114),{'onClick':()=>_0x382c75['push']('/admin/tickets'),'className':'mt-4\x20text-emerald-600\x20hover:text-emerald-700','children':'Back\x20to\x20Tickets'})]})}):(_0x1b62db?.[_0x4cf00a(0x117)],(0x0,_0x549d44[_0x4cf00a(0x18a)])(_0x4cf00a(0x125),{'className':_0x4cf00a(0x12a),'children':[(0x0,_0x549d44[_0x4cf00a(0x18a)])(_0x4cf00a(0x125),{'className':_0x4cf00a(0x194),'children':[(0x0,_0x549d44['jsxs'])('div',{'className':_0x4cf00a(0x196),'children':[(0x0,_0x549d44[_0x4cf00a(0x147)])(_0x4cf00a(0x114),{'onClick':()=>_0x382c75[_0x4cf00a(0x11c)](_0x4cf00a(0x178)),'className':_0x4cf00a(0x1a3),'children':_0x4cf00a(0x189)}),(0x0,_0x549d44[_0x4cf00a(0x147)])('h1',{'className':_0x4cf00a(0x11e),'children':_0x31b988[_0x4cf00a(0x17e)]})]}),(0x0,_0x549d44['jsxs'])(_0x4cf00a(0x125),{'className':'grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-6','children':[(0x0,_0x549d44[_0x4cf00a(0x18a)])('div',{'className':_0x4cf00a(0x19f),'children':[(0x0,_0x549d44['jsxs'])(_0x4cf00a(0x125),{'className':_0x4cf00a(0x138),'children':[(0x0,_0x549d44[_0x4cf00a(0x18a)])(_0x4cf00a(0x125),{'className':'flex\x20items-start\x20justify-between\x20mb-4','children':[(0x0,_0x549d44[_0x4cf00a(0x18a)])(_0x4cf00a(0x125),{'children':[(0x0,_0x549d44[_0x4cf00a(0x147)])(_0x4cf00a(0x143),{'className':_0x4cf00a(0x17f)+({'open':'bg-blue-100\x20text-blue-800','in_progress':'bg-yellow-100\x20text-yellow-800','waiting_response':'bg-purple-100\x20text-purple-800','escalated':'bg-red-100\x20text-red-800','resolved':_0x4cf00a(0x113),'closed':'bg-gray-100\x20text-gray-800'}[_0x31b988['status']]||'bg-gray-100\x20text-gray-800'),'children':_0x31b988[_0x4cf00a(0x144)][_0x4cf00a(0x19c)]('_')[_0x4cf00a(0x140)](_0x40f472=>_0x40f472['charAt'](0x0)[_0x4cf00a(0x11f)]()+_0x40f472[_0x4cf00a(0x1a6)](0x1))['join']('\x20')}),(0x0,_0x549d44[_0x4cf00a(0x147)])(_0x4cf00a(0x143),{'className':'ml-2\x20px-3\x20py-1\x20text-sm\x20font-medium\x20rounded-full\x20'+({'low':'bg-gray-100\x20text-gray-800','medium':_0x4cf00a(0x167),'high':'bg-orange-100\x20text-orange-800','urgent':'bg-red-100\x20text-red-800'}[_0x31b988['priority']]||'bg-gray-100\x20text-gray-800'),'children':_0x31b988[_0x4cf00a(0x18b)]})]}),(0x0,_0x549d44[_0x4cf00a(0x18a)])('span',{'className':_0x4cf00a(0x131),'children':[_0x4cf00a(0x16c),_0x42c803(_0x31b988[_0x4cf00a(0x155)])]})]}),(0x0,_0x549d44[_0x4cf00a(0x147)])('p',{'className':'text-gray-700\x20whitespace-pre-wrap','children':_0x31b988['description']})]}),(0x0,_0x549d44['jsxs'])('div',{'className':'bg-white\x20rounded-lg\x20shadow-md\x20p-6','children':[(0x0,_0x549d44['jsx'])('h2',{'className':'text-xl\x20font-semibold\x20mb-4','children':_0x4cf00a(0x1a5)}),(0x0,_0x549d44['jsx'])('div',{'className':'space-y-4\x20mb-6','children':_0x31b988[_0x4cf00a(0x183)][_0x4cf00a(0x140)](_0x3fd433=>(0x0,_0x549d44[_0x4cf00a(0x18a)])('div',{'className':_0x4cf00a(0x17a)+(_0x3fd433['is_internal']?_0x4cf00a(0x14d):_0x3fd433[_0x4cf00a(0x14b)]?'bg-gray-50\x20border\x20border-gray-200':_0x4cf00a(0x164)),'children':[(0x0,_0x549d44['jsxs'])('div',{'className':'flex\x20items-start\x20justify-between\x20mb-2','children':[(0x0,_0x549d44[_0x4cf00a(0x18a)])('div',{'className':'flex\x20items-center\x20gap-2','children':[(0x0,_0x549d44['jsx'])(_0x4cf00a(0x143),{'className':_0x4cf00a(0x197),'children':_0x3fd433[_0x4cf00a(0x15b)]?.['display_name']||_0x4cf00a(0x146)}),_0x3fd433['author']&&(0x0,_0x549d44['jsx'])('span',{'className':'text-xs\x20px-2\x20py-1\x20bg-gray-200\x20rounded','children':_0x3fd433['author']['user_role']}),_0x3fd433[_0x4cf00a(0x18f)]&&(0x0,_0x549d44[_0x4cf00a(0x147)])(_0x4cf00a(0x143),{'className':_0x4cf00a(0x126),'children':'Internal'})]}),(0x0,_0x549d44[_0x4cf00a(0x147)])(_0x4cf00a(0x143),{'className':_0x4cf00a(0x11b),'children':_0x42c803(_0x3fd433['created_at'])})]}),(0x0,_0x549d44[_0x4cf00a(0x147)])('p',{'className':_0x4cf00a(0x160),'children':_0x3fd433[_0x4cf00a(0x166)]})]},_0x3fd433['id']))}),(0x0,_0x549d44[_0x4cf00a(0x18a)])('div',{'className':_0x4cf00a(0x169),'children':[(0x0,_0x549d44[_0x4cf00a(0x147)])('textarea',{'value':_0x30f31b,'onChange':_0x165097=>_0x39ce4(_0x165097[_0x4cf00a(0x111)]['value']),'placeholder':_0x4cf00a(0x134),'className':'w-full\x20px-4\x20py-3\x20border\x20border-gray-300\x20rounded-lg\x20focus:ring-2\x20focus:ring-emerald-500\x20focus:border-transparent\x20resize-none','rows':0x4}),(0x0,_0x549d44[_0x4cf00a(0x18a)])('div',{'className':'flex\x20items-center\x20justify-between\x20mt-3','children':[(0x0,_0x549d44['jsxs'])(_0x4cf00a(0x152),{'className':'flex\x20items-center\x20gap-2','children':[(0x0,_0x549d44[_0x4cf00a(0x147)])('input',{'type':'checkbox','checked':_0x92ef3b,'onChange':_0x3007cb=>_0x4d4a93(_0x3007cb['target']['checked']),'className':_0x4cf00a(0x11a)}),(0x0,_0x549d44['jsx'])('span',{'className':'text-sm\x20text-gray-700','children':'Internal\x20note\x20(not\x20visible\x20to\x20user)'})]}),(0x0,_0x549d44['jsx'])('button',{'onClick':_0x117822,'disabled':_0x270b33||!_0x30f31b[_0x4cf00a(0x14a)](),'className':_0x4cf00a(0x133),'children':_0x270b33?_0x4cf00a(0x198):'Send\x20Message'})]})]})]})]}),(0x0,_0x549d44['jsxs'])(_0x4cf00a(0x125),{'className':'space-y-6','children':[(0x0,_0x549d44['jsxs'])('div',{'className':'bg-white\x20rounded-lg\x20shadow-md\x20p-6','children':[(0x0,_0x549d44['jsx'])('h3',{'className':_0x4cf00a(0x141),'children':_0x4cf00a(0x112)}),(0x0,_0x549d44['jsxs'])(_0x4cf00a(0x125),{'className':_0x4cf00a(0x195),'children':[!_0x31b988['assigned_to']&&(0x0,_0x549d44['jsx'])(_0x4cf00a(0x114),{'onClick':_0x197220,'disabled':_0x2a53ae,'className':_0x4cf00a(0x13c),'children':_0x4cf00a(0x162)}),(0x0,_0x549d44[_0x4cf00a(0x147)])('button',{'onClick':()=>_0x2e0c24(!0x0),'disabled':_0x3b978b||_0x31b988[_0x4cf00a(0x18e)]>=0x3,'className':_0x4cf00a(0x127),'children':'Escalate\x20Ticket'}),'resolved'!==_0x31b988['status']&&(0x0,_0x549d44[_0x4cf00a(0x147)])('button',{'onClick':()=>_0x55891e(_0x4cf00a(0x123)),'disabled':_0x2a53ae,'className':'w-full\x20px-4\x20py-2\x20bg-green-600\x20text-white\x20rounded-lg\x20hover:bg-green-700\x20disabled:opacity-50','children':_0x4cf00a(0x19d)})]})]}),(0x0,_0x549d44['jsxs'])(_0x4cf00a(0x125),{'className':'bg-white\x20rounded-lg\x20shadow-md\x20p-6','children':[(0x0,_0x549d44['jsx'])('h3',{'className':'font-semibold\x20mb-4','children':'Ticket\x20Information'}),(0x0,_0x549d44[_0x4cf00a(0x18a)])(_0x4cf00a(0x125),{'className':_0x4cf00a(0x119),'children':[(0x0,_0x549d44[_0x4cf00a(0x18a)])('div',{'children':[(0x0,_0x549d44[_0x4cf00a(0x147)])(_0x4cf00a(0x143),{'className':_0x4cf00a(0x156),'children':'Category:'}),(0x0,_0x549d44['jsx'])('span',{'className':_0x4cf00a(0x13b),'children':_0x31b988[_0x4cf00a(0x168)][_0x4cf00a(0x19c)]('_')[_0x4cf00a(0x140)](_0x2edf1b=>_0x2edf1b[_0x4cf00a(0x163)](0x0)[_0x4cf00a(0x11f)]()+_0x2edf1b[_0x4cf00a(0x1a6)](0x1))['join']('\x20')})]}),(0x0,_0x549d44[_0x4cf00a(0x18a)])(_0x4cf00a(0x125),{'children':[(0x0,_0x549d44['jsx'])(_0x4cf00a(0x143),{'className':'text-gray-600','children':_0x4cf00a(0x154)}),(0x0,_0x549d44['jsx'])(_0x4cf00a(0x143),{'className':_0x4cf00a(0x13b),'children':_0x31b988[_0x4cf00a(0x161)]?.[_0x4cf00a(0x171)]})]}),_0x31b988['assigned_to']&&(0x0,_0x549d44['jsxs'])('div',{'children':[(0x0,_0x549d44[_0x4cf00a(0x147)])('span',{'className':'text-gray-600','children':_0x4cf00a(0x15c)}),(0x0,_0x549d44['jsx'])('span',{'className':_0x4cf00a(0x13b),'children':_0x31b988[_0x4cf00a(0x115)]?.['display_name']})]}),(0x0,_0x549d44['jsxs'])(_0x4cf00a(0x125),{'children':[(0x0,_0x549d44[_0x4cf00a(0x147)])('span',{'className':_0x4cf00a(0x156),'children':'Escalation\x20Level:'}),(0x0,_0x549d44[_0x4cf00a(0x147)])('span',{'className':_0x4cf00a(0x13b),'children':_0x31b988[_0x4cf00a(0x18e)]})]})]})]})]})]})]}),_0x4b0b16&&(0x0,_0x549d44['jsx'])(_0x4cf00a(0x125),{'className':'fixed\x20inset-0\x20bg-black\x20bg-opacity-50\x20flex\x20items-center\x20justify-center\x20z-50','children':(0x0,_0x549d44[_0x4cf00a(0x18a)])(_0x4cf00a(0x125),{'className':_0x4cf00a(0x192),'children':[(0x0,_0x549d44['jsx'])('h3',{'className':'text-xl\x20font-semibold\x20mb-4','children':'Escalate\x20Ticket'}),(0x0,_0x549d44[_0x4cf00a(0x147)])(_0x4cf00a(0x15a),{'value':_0x2ef72b,'onChange':_0x446d0b=>_0x305a39(_0x446d0b[_0x4cf00a(0x111)][_0x4cf00a(0x142)]),'placeholder':_0x4cf00a(0x122),'className':_0x4cf00a(0x116),'rows':0x4}),(0x0,_0x549d44[_0x4cf00a(0x18a)])(_0x4cf00a(0x125),{'className':'flex\x20gap-3\x20mt-4','children':[(0x0,_0x549d44[_0x4cf00a(0x147)])('button',{'onClick':()=>_0x2e0c24(!0x1),'className':'flex-1\x20px-4\x20py-2\x20border\x20border-gray-300\x20rounded-lg\x20hover:bg-gray-50','children':_0x4cf00a(0x16f)}),(0x0,_0x549d44['jsx'])('button',{'onClick':_0xb224bd,'disabled':!_0x2ef72b['trim']()||_0x3b978b,'className':_0x4cf00a(0x15d),'children':_0x3b978b?_0x4cf00a(0x165):_0x4cf00a(0x16a)})]})]})})]})):(0x0,_0x549d44['jsx'])(_0x4cf00a(0x125),{'className':_0x4cf00a(0x12a),'children':(0x0,_0x549d44['jsx'])(_0x4cf00a(0x125),{'className':'max-w-7xl\x20mx-auto\x20px-4\x20sm:px-6\x20lg:px-8','children':(0x0,_0x549d44[_0x4cf00a(0x18a)])(_0x4cf00a(0x125),{'className':'text-center','children':[(0x0,_0x549d44['jsx'])('h2',{'className':_0x4cf00a(0x18c),'children':_0x4cf00a(0x1a0)}),(0x0,_0x549d44['jsx'])('p',{'className':_0x4cf00a(0x15f),'children':_0x4cf00a(0x16d)}),(0x0,_0x549d44[_0x4cf00a(0x147)])(_0x4cf00a(0x114),{'onClick':()=>_0x382c75['push'](_0x4cf00a(0x178)),'className':_0x4cf00a(0x149),'children':_0x4cf00a(0x15e)})]})})});}function _0x42c803(_0x12ded9){return new Date(_0x12ded9)['toLocaleString']();}},0x10edb:(_0x1c17bc,_0x3455f2,_0x2d9aa2)=>{'use strict';_0x2d9aa2['d'](_0x3455f2,{'A':()=>_0x43463c});var _0x217a6c=_0x2d9aa2(0x5433),_0x32ac98=_0x2d9aa2(0x3e0d);function _0x43463c(){const _0x9b8d6=_0x4288;let [_0x59eb27,_0x16df55]=(0x0,_0x217a6c['useState'])(null),[_0x8e6041,_0x294c83]=(0x0,_0x217a6c['useState'])(!0x0),[_0x30f86e,_0x63a222]=(0x0,_0x217a6c['useState'])(!0x1),[_0x36fb61,_0x35b895]=(0x0,_0x217a6c[_0x9b8d6(0x17b)])(null),_0x49fcc3=(0x0,_0x217a6c[_0x9b8d6(0x19a)])(async()=>{const _0x30b810=_0x9b8d6;try{let _0x13c1fa=(0x0,_0x32ac98['getSupabase'])(),{data:_0x4304f7,error:_0x3c2f40}=await _0x13c1fa['auth']['refreshSession']();if(_0x3c2f40)return console['error'](_0x30b810(0x185),_0x3c2f40),!0x1;if(!_0x4304f7?.[_0x30b810(0x110)])return console['error'](_0x30b810(0x121)),!0x1;return _0x35b895(_0x4304f7['session']),_0x16df55(_0x4304f7[_0x30b810(0x110)][_0x30b810(0x161)]),console['log']('[useAuth]\x20Session\x20refreshed\x20successfully'),!0x0;}catch(_0x3d11e1){return console['error']('[useAuth]\x20Failed\x20to\x20refresh:',_0x3d11e1),!0x1;}},[]);return(0x0,_0x217a6c['useEffect'])(()=>{const _0x5e45c5=_0x9b8d6;_0x32ac98['api'][_0x5e45c5(0x139)]()[_0x5e45c5(0x18d)](({data:{user:_0x3b6781}})=>{_0x16df55(_0x3b6781),_0x294c83(!0x1),_0x63a222(!0x0);})[_0x5e45c5(0x191)](()=>{_0x294c83(!0x1),_0x63a222(!0x0);});let {data:{subscription:_0x36d899}}=_0x32ac98['api'][_0x5e45c5(0x1a1)](async(_0x534e6a,_0x49e254)=>{const _0x14348e=_0x5e45c5;console[_0x14348e(0x14c)]('[useAuth]\x20Auth\x20state\x20change:',_0x534e6a),'TOKEN_REFRESHED'===_0x534e6a&&console[_0x14348e(0x14c)](_0x14348e(0x176)),_0x35b895(_0x49e254),_0x16df55(_0x49e254?.['user']??null),_0x294c83(!0x1),_0x63a222(!0x0);});return()=>_0x36d899[_0x5e45c5(0x174)]();},[]),{'user':_0x59eb27,'session':_0x36fb61,'loading':_0x8e6041,'isReady':_0x30f86e,'authenticated':!!_0x59eb27,'refreshSession':_0x49fcc3,'signOut':()=>_0x32ac98[_0x9b8d6(0x180)]['signOut']()};}},0x14a5a:(_0x58f643,_0x5736d7,_0x35c402)=>{'use strict';_0x35c402['d'](_0x5736d7,{'c0':()=>_0x47a014,'Gs':()=>_0x4d256d,'oJ':()=>_0x3e1929,'yS':()=>_0x1fb401,'dS':()=>_0x162080,'tY':()=>_0x340d7e});var _0x202a37=_0x35c402(0x5433),_0x5f1caa=_0x35c402(0x3e0d);function _0x46813c(_0x1095fd={}){const _0x2af07f=_0x4288;let {onTicketCreated:_0x11e390,onTicketUpdated:_0x218d82,onTicketDeleted:_0x5ccd89,onMessageAdded:_0x1bbbff,ticketId:_0x40498a}=_0x1095fd;(0x0,_0x202a37[_0x2af07f(0x129)])(()=>{const _0x50a98f=_0x2af07f;let _0x5a557e=(0x0,_0x5f1caa['getSupabase'])(),_0x35001c=_0x5a557e[_0x50a98f(0x148)](_0x50a98f(0x181))['on']('postgres_changes',{'event':_0x50a98f(0x12e),'schema':_0x50a98f(0x180),'table':'support_tickets'},_0x1d54e0=>{const _0x598bc1=_0x50a98f;console[_0x598bc1(0x14c)]('Ticket\x20created:',_0x1d54e0),_0x11e390?.(_0x1d54e0);})['on'](_0x50a98f(0x124),{'event':'UPDATE','schema':'api','table':_0x50a98f(0x187),..._0x40498a?{'filter':_0x50a98f(0x153)+_0x40498a}:{}},_0x2ae730=>{const _0x37ad80=_0x50a98f;console['log'](_0x37ad80(0x177),_0x2ae730),_0x218d82?.(_0x2ae730);})['on']('postgres_changes',{'event':_0x50a98f(0x172),'schema':_0x50a98f(0x180),'table':'support_tickets'},_0x379371=>{const _0x591b8f=_0x50a98f;console['log'](_0x591b8f(0x188),_0x379371),_0x5ccd89?.(_0x379371);})[_0x50a98f(0x175)](),_0x4b3be4=null;return _0x40498a&&_0x1bbbff&&(_0x4b3be4=_0x5a557e[_0x50a98f(0x148)]('ticket_messages_changes')['on'](_0x50a98f(0x124),{'event':'INSERT','schema':_0x50a98f(0x180),'table':'ticket_messages','filter':'ticket_id=eq.'+_0x40498a},_0x26b29a=>{const _0x4425fb=_0x50a98f;console[_0x4425fb(0x14c)](_0x4425fb(0x118),_0x26b29a),_0x1bbbff(_0x26b29a);})[_0x50a98f(0x175)]()),()=>{const _0x26128d=_0x50a98f;_0x5a557e[_0x26128d(0x157)](_0x35001c),_0x4b3be4&&_0x5a557e[_0x26128d(0x157)](_0x4b3be4);};},[_0x11e390,_0x218d82,_0x5ccd89,_0x1bbbff,_0x40498a]);}function _0x162080(_0x173722={}){const _0x2b6940=_0x4288;let [_0x59bc03,_0x4b661e]=(0x0,_0x202a37['useState'])([]),[_0xebefb2,_0x335949]=(0x0,_0x202a37[_0x2b6940(0x17b)])(!0x0),[_0x1dde3f,_0x4af6b3]=(0x0,_0x202a37[_0x2b6940(0x17b)])(null),[_0x3eb804,_0x17d32a]=(0x0,_0x202a37[_0x2b6940(0x17b)])(0x0),_0x3e7111=(0x0,_0x202a37[_0x2b6940(0x19a)])(async()=>{const _0x23b691=_0x2b6940;try{_0x335949(!0x0),_0x4af6b3(null);let {tickets:_0x3a6351,total:_0x386024}=await _0x5f1caa['api'][_0x23b691(0x13a)]({'status':_0x173722['status'],'category':_0x173722[_0x23b691(0x168)],'assigned_to':_0x173722['assigned_to']});_0x4b661e(_0x3a6351),_0x17d32a(_0x386024);}catch(_0x2d3d86){_0x4af6b3(_0x2d3d86 instanceof Error?_0x2d3d86[_0x23b691(0x166)]:_0x23b691(0x130));}finally{_0x335949(!0x1);}},[_0x173722[_0x2b6940(0x144)],_0x173722['category'],_0x173722[_0x2b6940(0x145)]]);return(0x0,_0x202a37['useEffect'])(()=>{const _0xfb02cf=_0x2b6940;if(_0x3e7111(),_0x173722[_0xfb02cf(0x120)]&&_0x173722[_0xfb02cf(0x13f)]){let _0x264b45=setInterval(_0x3e7111,_0x173722['refreshInterval']);return()=>clearInterval(_0x264b45);}},[_0x3e7111,_0x173722['autoRefresh'],_0x173722['refreshInterval']]),_0x46813c({'onTicketCreated':!0x1!==_0x173722[_0x2b6940(0x182)]?()=>_0x3e7111():void 0x0,'onTicketUpdated':!0x1!==_0x173722['enableRealtime']?()=>_0x3e7111():void 0x0,'onTicketDeleted':!0x1!==_0x173722['enableRealtime']?()=>_0x3e7111():void 0x0}),{'tickets':_0x59bc03,'loading':_0xebefb2,'error':_0x1dde3f,'total':_0x3eb804,'refetch':_0x3e7111};}function _0x1fb401(_0x52dbc1,_0x21d6e5=!0x0){const _0x387df5=_0x4288;let [_0x50a9d6,_0x5ec185]=(0x0,_0x202a37[_0x387df5(0x17b)])(null),[_0x280781,_0x38c0e3]=(0x0,_0x202a37['useState'])(!0x0),[_0x45e954,_0x50d1c3]=(0x0,_0x202a37['useState'])(null),_0x2a36b0=(0x0,_0x202a37['useCallback'])(async()=>{const _0x4a8bef=_0x387df5;if(!_0x52dbc1){_0x5ec185(null),_0x38c0e3(!0x1);return;}try{_0x38c0e3(!0x0),_0x50d1c3(null);let _0x270791=await _0x5f1caa['api']['getTicket'](_0x52dbc1);_0x5ec185(_0x270791);}catch(_0x1f727b){_0x50d1c3(_0x1f727b instanceof Error?_0x1f727b['message']:_0x4a8bef(0x16b));}finally{_0x38c0e3(!0x1);}},[_0x52dbc1]);return(0x0,_0x202a37[_0x387df5(0x129)])(()=>{_0x2a36b0();},[_0x2a36b0]),_0x46813c({'ticketId':_0x52dbc1||void 0x0,'onTicketUpdated':_0x21d6e5?()=>_0x2a36b0():void 0x0,'onMessageAdded':_0x21d6e5?()=>_0x2a36b0():void 0x0}),{'ticket':_0x50a9d6,'loading':_0x280781,'error':_0x45e954,'refetch':_0x2a36b0};}function _0x4d256d(){const _0x3d2ce9=_0x4288;let [_0x4f89b7,_0x545bbc]=(0x0,_0x202a37[_0x3d2ce9(0x17b)])(!0x1),[_0x529e3c,_0x5be806]=(0x0,_0x202a37[_0x3d2ce9(0x17b)])(null);return{'createTicket':async _0xa20328=>{const _0x5ad96d=_0x3d2ce9;try{return _0x545bbc(!0x0),_0x5be806(null),(await _0x5f1caa['api']['createTicket'](_0xa20328))['ticket'];}catch(_0x5f15e2){let _0x15c414=_0x5f15e2 instanceof Error?_0x5f15e2['message']:_0x5ad96d(0x17d);throw _0x5be806(_0x15c414),Error(_0x15c414);}finally{_0x545bbc(!0x1);}},'loading':_0x4f89b7,'error':_0x529e3c};}function _0x340d7e(){const _0x508987=_0x4288;let [_0x1b29c3,_0x1eb5a8]=(0x0,_0x202a37['useState'])(!0x1),[_0x552925,_0xd24eb3]=(0x0,_0x202a37[_0x508987(0x17b)])(null);return{'updateTicket':async _0x1fe153=>{const _0x35fe50=_0x508987;try{return _0x1eb5a8(!0x0),_0xd24eb3(null),(await _0x5f1caa[_0x35fe50(0x180)][_0x35fe50(0x13e)](_0x1fe153))[_0x35fe50(0x173)];}catch(_0x2731bf){let _0x473fb4=_0x2731bf instanceof Error?_0x2731bf['message']:_0x35fe50(0x11d);throw _0xd24eb3(_0x473fb4),Error(_0x473fb4);}finally{_0x1eb5a8(!0x1);}},'loading':_0x1b29c3,'error':_0x552925};}function _0x3e1929(){const _0x1009a0=_0x4288;let [_0x1bad66,_0x21e81b]=(0x0,_0x202a37[_0x1009a0(0x17b)])(!0x1),[_0x3677ce,_0xa94de4]=(0x0,_0x202a37['useState'])(null);return{'escalateTicket':async _0x17b742=>{const _0x141181=_0x1009a0;try{return _0x21e81b(!0x0),_0xa94de4(null),(await _0x5f1caa[_0x141181(0x180)]['escalateTicket'](_0x17b742))['ticket'];}catch(_0x424652){let _0x44e85a=_0x424652 instanceof Error?_0x424652[_0x141181(0x166)]:'Failed\x20to\x20escalate\x20ticket';throw _0xa94de4(_0x44e85a),Error(_0x44e85a);}finally{_0x21e81b(!0x1);}},'loading':_0x1bad66,'error':_0x3677ce};}function _0x47a014(){const _0x2a3cba=_0x4288;let [_0x23f487,_0x478565]=(0x0,_0x202a37['useState'])(!0x1),[_0x119a85,_0x2047a3]=(0x0,_0x202a37[_0x2a3cba(0x17b)])(null);return{'addMessage':async _0x3deb6f=>{const _0x40f694=_0x2a3cba;try{return _0x478565(!0x0),_0x2047a3(null),(await _0x5f1caa[_0x40f694(0x180)][_0x40f694(0x137)](_0x3deb6f))['message'];}catch(_0x54c61c){let _0x5ee7c6=_0x54c61c instanceof Error?_0x54c61c['message']:'Failed\x20to\x20add\x20message';throw _0x2047a3(_0x5ee7c6),Error(_0x5ee7c6);}finally{_0x478565(!0x1);}},'loading':_0x23f487,'error':_0x119a85};}}},_0x83c271=>{_0x83c271['O'](0x0,[0x2603,0x259f,0x16fd,0x1b1b,0x492,0x1cbe],()=>_0x83c271(_0x83c271['s']=0x165b)),_N_E=_0x83c271['O']();}]));